<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCSE CS: Preventing Threats - Part 1 (Interactive Activities)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/style.css"> <!-- Assuming your main stylesheet -->
    <style>
        .fill-in-blank { border: 1px solid #9ca3af; border-radius: 0.25rem; padding: 0.25rem 0.5rem; margin: 0 0.25rem; min-width: 100px; background-color: white; color: black; }
        .fill-in-blank.correct { border-color: #10b981; background-color: #d1fae5; }
        .fill-in-blank.incorrect { border-color: #ef4444; background-color: #fee2e2; }
        .self-assess-input { width: 60px; padding: 0.25rem; margin-left: 0.5rem; border-radius: 0.25rem; border: 1px solid #ccc; text-align: center; color: black;}
        .word-bank-item {
            background-color: #e0e7ff; /* indigo-100 */
            color: #3730a3; /* indigo-800 */
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem; /* rounded-sm */
            font-size: 0.875rem; /* text-sm */
            border: 1px solid #c7d2fe; /* indigo-200 */
            cursor: default; 
        }
        .activity-option, .alert-action-option { /* For multiple choice / selection based activities */
            background-color: #fff;
            border: 1px solid #d1d5db; /* gray-300 */
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 0.375rem; /* rounded-md */
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            display: block; /* Make labels block for easier clicking */
        }
        .activity-option:hover, .alert-action-option:hover { background-color: #f3f4f6; /* gray-100 */ }
        .activity-option.selected, .alert-action-option.selected  { background-color: #a5b4fc; border-color: #6366f1; color: #3730a3; font-weight: 600;}
        .activity-option.correct, .alert-action-option.correct { background-color: #d1fae5 !important; border-color: #10b981 !important; }
        .activity-option.incorrect, .alert-action-option.incorrect { background-color: #fee2e2 !important; border-color: #f87171 !important; }
        .feedback-area-inline { /* For inline feedback in quizzes */
            font-size: 0.875rem;
            margin-top: 0.25rem;
            min-height: 1.25rem; /* Ensure space for message */
        }

        .drag-item-phase, .drag-item-rule {
            padding: 0.5rem; margin: 0.25rem; border-radius: 0.25rem; cursor: grab;
            text-align: center; font-weight: 500;
            transition: opacity 0.2s ease;
            background-color: #dbeafe; border: 1px solid #93c5fd; /* Default blueish */
        }
        .drag-item-phase:active, .drag-item-rule:active { cursor: grabbing; }
        .drag-item-phase.dragging, .drag-item-rule.dragging { opacity: 0.5; }
        
        .drop-zone-phase, .drop-zone-rule-desc { /* Renamed for clarity */
            padding: 0.5rem; border: 2px dashed #9ca3af; border-radius: 0.375rem;
            min-height: 50px; display: flex; flex-direction: column; align-items: stretch;
            transition: background-color 0.2s ease, border-color 0.2s ease; margin-bottom: 0.5rem;
        }
        .drop-zone-phase.dragover, .drop-zone-rule-desc.dragover { background-color: #e0f2fe; border-color: #7dd3fc; }
        .drop-zone-phase .drag-item-phase, .drop-zone-rule-desc .drag-item-rule { margin-bottom: 0.25rem; }
        .drop-zone-phase textarea { font-size: 0.8rem; rows: 1; padding: 0.2rem; color: black; }
        .rule-description-text { margin-bottom: 0.5rem; font-style: italic; color: #4b5563; }
    </style>
</head>
<body class="bg-slate-50">
    <nav class="bg-gray-800 text-white p-3 no-print sticky top-0 z-50 shadow-md mb-6">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <a href="home.html" class="text-xl font-bold hover:text-gray-300 transition-colors">MGS CS Hub</a>
            <ul class="flex flex-wrap space-x-2 sm:space-x-3 lg:space-x-4 text-sm sm:text-base">
                <li><a href="gcse.html" class="hover:text-gray-300 transition-colors">GCSE Home</a></li>
                <li><a href="gcse-sec-threats.html" class="hover:text-gray-300 transition-colors">Threats Part 1</a></li>
                <li><a href="gcse-sec-threats2.html" class="hover:text-gray-300 transition-colors">Threats Part 2</a></li>
                <li><a href="gcse-sec-prevention2.html" class="hover:text-gray-300 transition-colors">Prevention Part 2</a></li>
            </ul>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 worksheet-container">
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold text-indigo-700 flex items-center justify-center">
                <i class="fas fa-shield-alt mr-3 text-green-500 text-4xl"></i>
                Preventing Threats - Part 1: Antivirus, Firewalls & Penetration Testing
            </h1>
            <p class="text-lg text-slate-600 mt-2">Understanding key security measures.</p>
        </header>

        <section id="starter-activity-prevention1" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-indigo-600"><i class="fas fa-fort-awesome mr-2 text-yellow-500"></i> Starter: Fortress Analogy</h2>
                <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-yellow-50 p-5 rounded-lg border border-yellow-200 space-y-3">
                <p class="text-yellow-700">If your computer or a company's network were a medieval fortress, what would be its main defenses against invaders (threats)? Think about different types of defenses and what they protect against. List at least three "fortress defenses" and their digital equivalents.</p>
                <textarea id="starter-q1-prevention1" rows="4" class="mt-1 block w-full p-2 border border-yellow-300 rounded-md shadow-sm bg-white text-black" placeholder="e.g., Fortress Wall = Firewall, Guards checking visitors = Antivirus..."></textarea>
            </div>
        </section>

        <section id="lesson-outcomes-prevention1" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-indigo-600"><i class="fas fa-bullseye mr-2 text-green-500"></i> Lesson Outcomes</h2>
                <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-green-50 p-5 rounded-lg border border-green-200">
                <p class="font-semibold text-green-800 mb-3">By the end of this lesson, you should be able to:</p>
                <ul class="list-disc list-inside space-y-2 text-green-700 pl-4">
                    <li>Describe the purpose and functions of <strong class="font-semibold">Anti-malware software</strong> (including Antivirus).</li>
                    <li>Explain the role and operation of a <strong class="font-semibold">Firewall</strong>.</li>
                    <li>Define <strong class="font-semibold">Penetration Testing</strong> and explain its importance in identifying security vulnerabilities.</li>
                </ul>
            </div>
        </section>

        <!-- Anti-malware Section -->
        <section id="measure-antimalware" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-green-600"><i class="fas fa-shield-virus mr-2"></i> Anti-malware Software</h2>
                <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-green-50 p-5 rounded-lg border border-green-200 space-y-3">
                <div id="antimalware-fill-blanks-container">
                    <h3 class="text-lg font-semibold text-green-700">Understanding Anti-Malware (Fill in the Blanks)</h3>
                    <div class="word-bank mb-4 p-3 bg-gray-100 border border-gray-300 rounded-md">
                        <p class="text-sm font-semibold text-gray-700 mb-2">Word Bank (some words/phrases may not be used):</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="word-bank-item">detects</span><span class="word-bank-item">prevents</span>
                            <span class="word-bank-item">removes</span><span class="word-bank-item">malware</span>
                            <span class="word-bank-item">scans files</span><span class="word-bank-item">database</span>
                            <span class="word-bank-item">virus definitions</span><span class="word-bank-item">heuristic analysis</span>
                            <span class="word-bank-item">quarantines</span><span class="word-bank-item">firewall</span>
                            <span class="word-bank-item">updates</span><span class="word-bank-item">identifies</span>
                            <span class="word-bank-item">encrypting</span><span class="word-bank-item">deletes</span>
                            <span class="word-bank-item">alerts user</span><span class="word-bank-item">background</span>
                            <span class="word-bank-item">signatures</span><span class="word-bank-item">notifies user</span>
                            <span class="word-bank-item">spyware</span><span class="word-bank-item">delete</span>
                        </div>
                    </div>
                    <p><strong class="font-semibold">Anti-malware</strong> (often including Antivirus) software <input type="text" id="blank-antimalware-1" class="fill-in-blank" data-answer="scans files|scans files for viruses" placeholder="Type here..."> for viruses. It <input type="text" id="blank-antimalware-2" class="fill-in-blank" data-answer="detects|identifies" placeholder="Type here..."> a virus by comparing data to a <input type="text" id="blank-antimalware-3" class="fill-in-blank" data-answer="database" placeholder="Type here..."> of known viruses (also known as <input type="text" id="blank-antimalware-4" class="fill-in-blank" data-answer="virus definitions|signatures" placeholder="Type here...">). It can constantly run in the <input type="text" id="blank-antimalware-5" class="fill-in-blank" data-answer="background" placeholder="Type here..."> and can automatically get <input type="text" id="blank-antimalware-6" class="fill-in-blank" data-answer="updates" placeholder="Type here..."> because new viruses are created all the time. If a virus is found, it <input type="text" id="blank-antimalware-7" class="fill-in-blank" data-answer="alerts user|notifies user" placeholder="Type here..."> and requests action such as to <input type="text" id="blank-antimalware-8" class="fill-in-blank" data-answer="quarantines|quarantine" placeholder="Type here..."> or <input type="text" id="blank-antimalware-9" class="fill-in-blank" data-answer="deletes|delete" placeholder="Type here..."> the virus. It also stops the download of <input type="text" id="blank-antimalware-10" class="fill-in-blank" data-answer="spyware|malware" placeholder="Type here...">.</p>
                    <div class="mt-2">
                        <button class="check-button" onclick="checkFillBlanks('antimalware-fill-blanks-container')">Check My Answers</button>
                        <button class="reset-button ml-2" onclick="resetFillBlanks('antimalware-fill-blanks-container')">Reset Blanks</button>
                    </div>
                    <div id="antimalware-fill-blanks-feedback" class="feedback-area mt-2"></div>
                </div>
                
                <h3 class="text-lg font-semibold text-green-700 mt-6">Activity 1: Antivirus Alert - What's Your Action?</h3>
                <p class="text-sm text-green-700 mb-3">Your antivirus pops up an alert! What's the best immediate action for each scenario?</p>
                <div id="antivirus-alerts-container" class="space-y-4">
                    <!-- Alerts will be injected by JS -->
                </div>
                <button class="check-button mt-3" onclick="checkAntivirusAlerts()">Check Actions</button>
                <button class="reset-button mt-3 ml-2" onclick="resetAntivirusAlerts()">Reset Alerts</button>

                <h3 class="text-lg font-semibold text-green-700 mt-6">Reflection:</h3>
                <p class="text-sm text-green-700">Why is keeping anti-malware software <strong class="font-semibold">up-to-date</strong> so critical for effective protection?</p>
                <textarea id="antimalware-importance-student" class="exam-answer-textarea mt-1 text-black" rows="3" placeholder="Explain why updates are crucial..."></textarea>
                
                <div class="mt-6 bg-blue-50 p-5 rounded-lg border border-blue-200 space-y-3">
                    <h4 class="text-lg font-semibold text-blue-800">Antivirus Simulator</h4>
                    <p class="text-gray-700">
                        Explore how antivirus software identifies and deals with threats in our interactive simulator!
                    </p>
                    <div class="mt-4 text-center">
                        <a href="gcse-sec-prevention-antivirus-sim.html" target="_blank" rel="noopener noreferrer" class="inline-block bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform duration-150 ease-in-out hover:scale-105">
                            <i class="fas fa-microscope mr-2"></i>Launch Antivirus Simulator
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Firewall Section -->
        <section id="measure-firewall" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-red-600"><i class="fas fa-fire-alt mr-2"></i> Firewall</h2>
                <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-red-50 p-5 rounded-lg border border-red-200 space-y-3">
                <div id="firewall-fill-blanks-container">
                    <h3 class="text-lg font-semibold text-red-700">Understanding Firewalls (Fill in the Blanks)</h3>
                    <div class="word-bank mb-4 p-3 bg-gray-100 border border-gray-300 rounded-md">
                        <p class="text-sm font-semibold text-gray-700 mb-2">Word Bank (some words/phrases may not be used):</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="word-bank-item">examines</span><span class="word-bank-item">incoming</span>
                            <span class="word-bank-item">outgoing</span><span class="word-bank-item">network traffic</span>
                            <span class="word-bank-item">rules</span><span class="word-bank-item">criteria</span>
                            <span class="word-bank-item">blocks</span><span class="word-bank-item">filters</span>
                            <span class="word-bank-item">unauthorized access</span><span class="word-bank-item">malicious traffic</span>
                            <span class="word-bank-item">IP addresses</span><span class="word-bank-item">websites</span>
                            <span class="word-bank-item">warns users</span><span class="word-bank-item">software</span>
                            <span class="word-bank-item">hardware</span><span class="word-bank-item">allows</span>
                            <span class="word-bank-item">ports</span><span class="word-bank-item">protocols</span>
                            <span class="word-bank-item">barrier</span><span class="word-bank-item">trusted</span>
                            <span class="word-bank-item">untrusted</span><span class="word-bank-item">Internet</span>
                        </div>
                    </div>
                    <p>A <strong class="font-semibold">Firewall</strong> <input type="text" id="blank-firewall-1" class="fill-in-blank" data-answer="examines" placeholder="Type here..."> <input type="text" id="blank-firewall-2" class="fill-in-blank" data-answer="incoming" placeholder="Type here..."> and <input type="text" id="blank-firewall-3" class="fill-in-blank" data-answer="outgoing" placeholder="Type here..."> <input type="text" id="blank-firewall-4" class="fill-in-blank" data-answer="network traffic" placeholder="Type here..."> based on a set of predefined <input type="text" id="blank-firewall-5" class="fill-in-blank" data-answer="rules|criteria" placeholder="Type here...">. It acts as a <input type="text" id="blank-firewall-11" class="fill-in-blank" data-answer="barrier" placeholder="Type here..."> between a <input type="text" id="blank-firewall-12" class="fill-in-blank" data-answer="trusted" placeholder="Type here..."> network and an <input type="text" id="blank-firewall-13" class="fill-in-blank" data-answer="untrusted" placeholder="Type here..."> one, like the <input type="text" id="blank-firewall-14" class="fill-in-blank" data-answer="Internet" placeholder="Type here...">. It <input type="text" id="blank-firewall-6" class="fill-in-blank" data-answer="blocks|filters" placeholder="Type here..."> traffic that doesn't meet the set criteria, helping to block <input type="text" id="blank-firewall-7" class="fill-in-blank" data-answer="unauthorized access" placeholder="Type here..."> and <input type="text" id="blank-firewall-8" class="fill-in-blank" data-answer="malicious traffic" placeholder="Type here...">. It can also block access to/from specific <input type="text" id="blank-firewall-9" class="fill-in-blank" data-answer="IP addresses|websites|ports" placeholder="Type here...">.</p>
                    <div class="mt-2">
                        <button class="check-button" onclick="checkFillBlanks('firewall-fill-blanks-container')">Check My Answers</button>
                        <button class="reset-button ml-2" onclick="resetFillBlanks('firewall-fill-blanks-container')">Reset Blanks</button>
                    </div>
                    <div id="firewall-fill-blanks-feedback" class="feedback-area mt-2"></div>
                </div>

                <h3 class="text-lg font-semibold text-red-700 mt-6">Activity 1: Firewall Rule Logic Challenge</h3>
                <p class="text-sm text-red-700 mb-3">Match the firewall rule components to their likely effect or purpose. Drag the rule components from the bank to the correct description box.</p>
                <div class="grid md:grid-cols-2 gap-4">
                    <div id="firewall-rule-bank-container" class="p-3 bg-red-100 border border-red-300 rounded-md">
                        <h4 class="font-semibold text-red-800 mb-2 text-center">Rule Components (Drag these)</h4>
                        <div id="firewall-rule-bank" class="flex flex-wrap justify-center gap-2">
                            <!-- Draggable rule items will be injected by JS -->
                        </div>
                    </div>
                    <div id="firewall-rule-dropzones" class="space-y-3">
                        <!-- Dropzones for rule descriptions will be injected by JS -->
                    </div>
                </div>
                <button class="check-button mt-3" onclick="checkFirewallRuleLogic()">Check Rule Logic</button>
                <button class="reset-button mt-3 ml-2" onclick="setupFirewallRuleLogic()">Reset Challenge</button>
                <div id="firewall-rule-logic-feedback" class="feedback-area mt-2"></div>
                
                <h3 class="text-lg font-semibold text-red-700 mt-6">Reflection:</h3>
                <p class="text-sm text-red-700">Describe a scenario where a misconfigured firewall might accidentally <strong class="font-semibold">block legitimate traffic</strong>, causing problems for a user or organization.</p>
                <textarea id="firewall-reflection-student" class="exam-answer-textarea mt-1 text-black" rows="3" placeholder="Your scenario..."></textarea>
                
                <div class="mt-6 bg-yellow-50 p-5 rounded-lg border border-yellow-200 space-y-3">
                    <h4 class="text-lg font-semibold text-yellow-800">Firewall Simulator</h4>
                    <p class="text-gray-700">
                        Learn how firewalls make decisions about network traffic with our interactive simulator!
                    </p>
                    <div class="mt-4 text-center">
                        <a href="gcse-sec-prevention-firewall-sim.html" target="_blank" rel="noopener noreferrer" class="inline-block bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform duration-150 ease-in-out hover:scale-105">
                            <i class="fas fa-shield-halved mr-2"></i>Launch Firewall Simulator
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Penetration Testing Section -->
        <section id="measure-pentest" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-blue-600"><i class="fas fa-user-secret mr-2"></i> Penetration Testing</h2>
                <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-blue-50 p-5 rounded-lg border border-blue-200 space-y-3">
                <div id="pentest-fill-blanks-container">
                    <h3 class="text-lg font-semibold text-blue-700">Understanding Penetration Testing (Fill in the Blanks)</h3>
                    <div class="word-bank mb-4 p-3 bg-gray-100 border border-gray-300 rounded-md">
                        <p class="text-sm font-semibold text-gray-700 mb-2">Word Bank (some words/phrases may not be used):</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="word-bank-item">professional hacking</span><span class="word-bank-item">access data</span>
                            <span class="word-bank-item">computing power</span><span class="word-bank-item">without being granted access</span>
                            <span class="word-bank-item">pen-testers</span><span class="word-bank-item">hired</span>
                            <span class="word-bank-item">identify</span><span class="word-bank-item">repair</span>
                            <span class="word-bank-item">vulnerabilities</span><span class="word-bank-item">networks</span>
                            <span class="word-bank-item">software</span><span class="word-bank-item">illegal hacking</span>
                            <span class="word-bank-item">fix</span><span class="word-bank-item">security flaws</span>
                            <span class="word-bank-item">simulated</span><span class="word-bank-item">authorized</span>
                            <span class="word-bank-item">weaknesses</span><span class="word-bank-item">remediate</span>
                        </div>
                    </div>
                    <p><strong class="font-semibold">Penetration Testing</strong> (or pen testing) is an <input type="text" id="blank-pentest-0" class="fill-in-blank" data-answer="authorized|simulated" placeholder="Type here..."> <input type="text" id="blank-pentest-1" class="fill-in-blank" data-answer="professional hacking|simulated cyberattack" placeholder="Type here..."> on a computer system, network or web application to <input type="text" id="blank-pentest-7" class="fill-in-blank" data-answer="identify|find|evaluate" placeholder="Type here..."> security <input type="text" id="blank-pentest-9" class="fill-in-blank" data-answer="vulnerabilities|weaknesses|flaws" placeholder="Type here...">. Professional <input type="text" id="blank-pentest-5" class="fill-in-blank" data-answer="pen-testers" placeholder="Type here..."> are <input type="text" id="blank-pentest-6" class="fill-in-blank" data-answer="hired" placeholder="Type here..."> to perform these tests. The main goal is to identify security weaknesses and then <input type="text" id="blank-pentest-8" class="fill-in-blank" data-answer="repair|fix|remediate" placeholder="Type here..."> them.</p>
                    <div class="mt-2">
                        <button class="check-button" onclick="checkFillBlanks('pentest-fill-blanks-container')">Check My Answers</button>
                        <button class="reset-button ml-2" onclick="resetFillBlanks('pentest-fill-blanks-container')">Reset Blanks</button>
                    </div>
                    <div id="pentest-fill-blanks-feedback" class="feedback-area mt-2"></div>
                </div>
                
                <h3 class="text-lg font-semibold text-blue-700 mt-6">Activity 1: Pen Test Phases - Order & Describe</h3>
                <p class="text-sm text-blue-700 mb-3">Drag the penetration testing phases from the bank into the correct order in the drop zones below. Then, briefly describe the main purpose of each phase in the textarea provided under it.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div id="pentest-phase-bank-container" class="p-3 bg-blue-100 border border-blue-300 rounded-md">
                        <h4 class="font-semibold text-blue-800 mb-2 text-center">Phases (Drag these)</h4>
                        <div id="pentest-phase-bank" class="space-y-2">
                            <!-- Draggable phase items will be injected by JS (shuffled) -->
                        </div>
                    </div>
                    <div id="pentest-phase-dropzones-ordered" class="space-y-2">
                        <h4 class="font-semibold text-blue-800 mb-2 text-center">Correct Order (Drop & Describe)</h4>
                        <!-- Drop zones for phases will be injected by JS -->
                    </div>
                </div>
                <button class="check-button mt-3" onclick="checkPenTestPhaseOrder()">Check Phase Order & Descriptions</button>
                <button class="reset-button mt-3 ml-2" onclick="resetPenTestPhaseOrder()">Reset Phases</button>
                <div id="pentest-phase-feedback" class="feedback-area mt-2"></div>

                <h3 class="text-lg font-semibold text-blue-700 mt-6">Activity 2: Choose Your Pen Test Type!</h3>
                <p class="text-sm text-blue-700 mb-3">For each scenario, decide if a "Black Box" or "White Box" penetration test would be more appropriate and briefly justify your choice.</p>
                <div id="pentest-type-scenarios-container" class="space-y-4">
                    <!-- Scenarios for pen test type choice will be injected by JS -->
                </div>
                 <button class="check-button mt-3" onclick="checkPenTestTypeChoices()">Check Choices</button>
                <button class="reset-button mt-3 ml-2" onclick="resetPenTestTypeScenarios()">Reset Scenarios</button>
                
                <h3 class="text-lg font-semibold text-blue-700 mt-6">Reflection:</h3>
                <p class="text-sm text-blue-700">What are the ethical considerations a penetration tester must always keep in mind?</p>
                <textarea id="pentest-reflection-student" class="exam-answer-textarea mt-1 text-black" rows="3" placeholder="Describe ethical considerations..."></textarea>

                <div class="mt-6 bg-yellow-50 p-5 rounded-lg border border-yellow-200 space-y-3">
                    <h4 class="text-lg font-semibold text-yellow-800">Penetration Testing Simulator</h4>
                    <p class="text-gray-700">
                        Step into the shoes of a pen tester with our interactive simulation!
                    </p>
                    <div class="mt-4 text-center">
                        <a href="gcse-sec-prevention-pentest-sim.html" target="_blank" rel="noopener noreferrer" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform duration-150 ease-in-out hover:scale-105">
                            <i class="fas fa-search-location mr-2"></i>Launch Pen Test Simulator
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Consolidation Activity -->
        <section id="consolidation-activity-prevention1" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-indigo-700"><i class="fas fa-store-alt mr-2 text-orange-500"></i> Security Setup for 'The ByteSize Bakery'</h2>
                 <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-orange-50 p-5 rounded-lg border border-orange-200 space-y-3">
                <p class="text-orange-700">"The ByteSize Bakery" is a small local bakery that has just launched a new website for online orders. Customers can create accounts to save their preferences and payment details. Staff use internal computers connected to the internet to manage stock, finances, and process online orders.</p>
                <p class="text-orange-700 font-semibold">Your Task: For each security measure below, explain (1-2 sentences) why it would be important for The ByteSize Bakery and suggest one specific way it would help protect them.</p>
                
                <div class="mt-4 space-y-4">
                    <div>
                        <h4 class="font-semibold text-orange-800">1. Anti-malware Software:</h4>
                        <textarea id="bakery-antimalware" class="exam-answer-textarea mt-1 text-black" rows="3" placeholder="Why is it important for the bakery and how would it help?"></textarea>
                    </div>
                    <div>
                        <h4 class="font-semibold text-orange-800">2. Firewall:</h4>
                        <textarea id="bakery-firewall" class="exam-answer-textarea mt-1 text-black" rows="3" placeholder="Why is it important for the bakery and how would it help?"></textarea>
                    </div>
                    <div>
                        <h4 class="font-semibold text-orange-800">3. Penetration Testing:</h4>
                        <textarea id="bakery-pentest" class="exam-answer-textarea mt-1 text-black" rows="3" placeholder="Why is it important for the bakery (especially for their new website) and how would it help?"></textarea>
                    </div>
                </div>
            </div>
        </section>


        <section id="exam-practice-prevention1" class="task-container">
            <h2 class="text-2xl task-title text-indigo-600"><i class="fas fa-graduation-cap mr-2"></i> Exam Practice Questions</h2>
            <p class="text-gray-600 mb-6">Apply your knowledge. Mark schemes unlock after you type enough!</p>
            <div class="space-y-6">
                <div class="exam-question-item" data-points="2">
                    <div class="flex justify-between items-start">
                        <p class="font-medium text-gray-800 mb-1 flex-grow">1. Describe two functions of anti-malware software. [2 marks]</p>
                        <div class="flex items-center ml-2">
                            <label for="self-assess-p1-q1" class="text-xs text-gray-600 mr-1">My Score:</label>
                            <input type="number" id="self-assess-p1-q1" min="0" max="2" class="self-assess-input">
                        </div>
                    </div>
                    <textarea id="exam-p1-q1" class="exam-answer-textarea text-black" placeholder="Your answer..."></textarea>
                    <button id="ms-button-p1-q1" class="mark-scheme-button no-print" onclick="toggleMarkScheme('ms-exam-p1-q1', 'exam-p1-q1')" disabled>Show Mark Scheme</button>
                    <div id="ms-exam-p1-q1" class="mark-scheme">
                        <p><strong>Mark Scheme:</strong></p>
                        <ul>
                            <li>Scans files/programs for known malware signatures (1 mark).</li>
                            <li>Detects/identifies malware (1 mark).</li>
                            <li>Prevents malware from running/installing (1 mark).</li>
                            <li>Removes/deletes malware from the system (1 mark).</li>
                            <li>Quarantines suspicious files (1 mark).</li>
                            <li>Uses heuristic analysis to detect new/unknown malware (1 mark).</li>
                            <li>(Award 1 mark for each distinct correct function, max 2 marks)</li>
                        </ul>
                    </div>
                </div>

                <div class="exam-question-item" data-points="3">
                     <div class="flex justify-between items-start">
                        <p class="font-medium text-gray-800 mb-1 flex-grow">2. Explain how a firewall helps to protect a computer or network. [3 marks]</p>
                        <div class="flex items-center ml-2">
                            <label for="self-assess-p1-q2" class="text-xs text-gray-600 mr-1">My Score:</label>
                            <input type="number" id="self-assess-p1-q2" min="0" max="3" class="self-assess-input">
                        </div>
                    </div>
                    <textarea id="exam-p1-q2" class="exam-answer-textarea text-black" placeholder="Your answer..."></textarea>
                    <button id="ms-button-p1-q2" class="mark-scheme-button no-print" onclick="toggleMarkScheme('ms-exam-p1-q2', 'exam-p1-q2')" disabled>Show Mark Scheme</button>
                    <div id="ms-exam-p1-q2" class="mark-scheme">
                        <p><strong>Mark Scheme:</strong></p>
                        <ul>
                            <li>Monitors incoming and/or outgoing network traffic (1 mark).</li>
                            <li>Blocks traffic based on a set of predefined rules or criteria (1 mark).</li>
                            <li>Acts as a barrier between a trusted network (e.g. LAN) and an untrusted network (e.g. Internet) (1 mark).</li>
                            <li>Can block access to/from specific IP addresses or ports (1 mark).</li>
                            <li>Helps prevent unauthorized access to the system/network (1 mark).</li>
                             <li>(Award 1 mark for each distinct correct point, max 3 marks)</li>
                        </ul>
                    </div>
                </div>
                 <div class="exam-question-item" data-points="2">
                    <div class="flex justify-between items-start">
                        <p class="font-medium text-gray-800 mb-1 flex-grow">3. What is the main purpose of penetration testing? [2 marks]</p>
                        <div class="flex items-center ml-2">
                            <label for="self-assess-p1-q3" class="text-xs text-gray-600 mr-1">My Score:</label>
                            <input type="number" id="self-assess-p1-q3" min="0" max="2" class="self-assess-input">
                        </div>
                    </div>
                    <textarea id="exam-p1-q3" class="exam-answer-textarea text-black" placeholder="Your answer..."></textarea>
                    <button id="ms-button-p1-q3" class="mark-scheme-button no-print" onclick="toggleMarkScheme('ms-exam-p1-q3', 'exam-p1-q3')" disabled>Show Mark Scheme</button>
                    <div id="ms-exam-p1-q3" class="mark-scheme">
                        <p><strong>Mark Scheme:</strong></p>
                        <ul>
                            <li>To identify security vulnerabilities/weaknesses in a system or network (1 mark).</li>
                            <li>By simulating an attack / performing authorized hacking to see if security can be breached (1 mark).</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="key-takeaways-prevention1" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-indigo-600"><i class="fas fa-key mr-2"></i>Key Takeaways</h2>
                <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-yellow-50 p-5 rounded-lg border border-yellow-300 space-y-2 show">
                <ul class="list-disc list-inside space-y-1 text-yellow-800">
                    <li><strong class="font-semibold">Anti-malware software</strong> is crucial for detecting, preventing, and removing various types of malicious software. Regular updates are essential.</li>
                    <li><strong class="font-semibold">Firewalls</strong> act as digital barriers, monitoring and controlling network traffic based on security rules to block unauthorized access and malicious connections.</li>
                    <li><strong class="font-semibold">Penetration Testing</strong> involves ethically simulating attacks to proactively identify and address security vulnerabilities in systems and applications.</li>
                </ul>
            </div>
        </section>
        
        <section id="related-videos-prevention1" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-semibold text-indigo-600"><i class="fas fa-video mr-2 text-purple-500"></i> Related Videos</h2>
                 <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-purple-50 p-5 rounded-lg border border-purple-200 space-y-4">
                <p class="text-gray-700">Watch these videos to reinforce your understanding of these security measures:</p>
                <ul class="list-disc list-inside space-y-3 text-purple-800 pl-4">
                    <li>
                        <strong>How Antivirus Software Works</strong>
                        <div class="aspect-video mt-1">
                             <iframe width="560" height="315" src="https://www.youtube.com/embed/hk9LPXzYeT0?si=HAl2K1i7UeyIDmc52" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                        <textarea class="w-full p-2 border border-purple-300 rounded-md text-sm bg-white mt-2 text-black" rows="2" placeholder="Optional notes for this video..."></textarea>
                    </li>
                    <li>
                        <strong>Understanding Firewalls</strong>
                         <div class="aspect-video mt-1">
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/hk9LPXzYeT0?si=HAl2K1i7UeyIDmc53" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                        <textarea class="w-full p-2 border border-purple-300 rounded-md text-sm bg-white mt-2 text-black" rows="2" placeholder="Optional notes for this video..."></textarea>
                    </li>
                    <li>
                        <strong>Introduction to Penetration Testing</strong>
                        <div class="aspect-video mt-1">
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/hk9LPXzYeT0?si=HAl2K1i7UeyIDmc54" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                        <textarea class="w-full p-2 border border-purple-300 rounded-md text-sm bg-white mt-2 text-black" rows="2" placeholder="Optional notes for this video..."></textarea>
                    </li>
                </ul>
                 <p class="text-xs text-purple-600 italic mt-3">Note: Replace "placeholder_video_id_..." in video URLs with actual YouTube video IDs.</p>
            </div>
        </section>

        <section id="next-steps-prevention1" class="task-container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl task-title text-indigo-600">What's Next?</h2>
                <label class="flex items-center text-sm text-gray-500 cursor-pointer hover:text-gray-700 no-print">
                    <input type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1.5 read-checkbox"> Mark as Read
                </label>
            </div>
            <div class="bg-indigo-50 p-5 rounded-lg border border-indigo-200 space-y-3">
                <p>You've covered the first set of crucial security prevention measures! Continue your learning with:</p>
                <ul class="list-disc list-inside space-y-2 text-indigo-800 pl-4">
                    <li><a href="gcse-sec-prevention2.html" class="text-blue-600 hover:underline">Preventing Threats - Part 2 (User Access Levels, Passwords, Encryption, Physical Security)</a></li>
                </ul>
                 <p>You can also return to the main <a href="gcse.html#security" class="text-blue-600 hover:underline">GCSE Security Overview</a> or revisit the <a href="gcse-sec-threats.html" class="text-blue-600 hover:underline">Threats Worksheets</a>.</p>
            </div>
        </section>

        <footer class="mt-12 text-center no-print">
            <button id="reset-all-tasks-prevention1" class="reset-button">Reset All Tasks</button>
            <button id="export-pdf-button-prevention1" class="export-pdf-button">Export to PDF</button>
             <p class="text-xs text-gray-500 mt-4">© <span id="currentYear"></span> MGS CS Hub. Content tailored for OCR GCSE Computer Science (J277).</p>
        </footer>
    </div>

    <script src="js/gcse-sec-prevention1.js"></script> <!-- Link to the new JS file -->
    <script src="js/worksheet-common.js"></script>
</body>
</html>
