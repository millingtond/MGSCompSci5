<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 1: Create a Game Window</title>
    
    <!-- All complex scripts are removed for a stable Trinket-based approach -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary-color: #3498db; --secondary-color: #2c3e50; --accent-color: #2ecc71; --accent-hover: #27ae60; --bg-color: #f8f9fa; --text-color: #495057; --light-gray: #dee2e6; --card-bg: #ffffff; --font-family: 'Poppins', sans-serif; }
        body { font-family: var(--font-family); line-height: 1.7; margin: 0; background-color: var(--bg-color); color: var(--text-color); display: flex; flex-direction: column; min-height: 100vh; }
        main { max-width: 1300px; width: 100%; margin: 30px auto; padding: 0 20px; box-sizing: border-box; flex-grow: 1; }
        nav { background-color: var(--card-bg); padding: 1rem 0; text-align: center; border-bottom: 1px solid var(--light-gray); box-shadow: 0 2px 4px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        nav a { color: var(--text-color); text-decoration: none; font-weight: 600; padding: 10px 20px; margin: 0 5px; border-radius: 8px; transition: all 0.3s ease; }
        nav a.active { background-color: var(--primary-color); color: white; }
        nav a:not(.active):hover { background-color: #ecf0f1; color: var(--primary-color); }
        h1, h2, h3 { color: var(--secondary-color); font-weight: 700; }
        h1 { font-size: 2.5rem; text-align: center; }
        main > p.intro { font-size: 1.1rem; color: #6c757d; max-width: 800px; text-align: center; margin: 0.5rem auto 40px auto; }
        .instructions { background: var(--card-bg); padding: 25px; border-radius: 12px; box-shadow: 0 4px 25px rgba(0,0,0,0.08); margin-bottom: 30px; }
        .instructions p, .instructions li { color: var(--text-color); font-size: 1.05rem; }
        .instructions code { background-color: #e8e8e8; padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', Courier, monospace; color: #c0392b; }
        .instructions strong { color: var(--secondary-color); }
        .trinket-container {
            border-radius: 12px;
            overflow: hidden; /* Ensures the iframe corners are rounded */
            box-shadow: 0 4px 25px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }
        .explanation-toggle { background-color: #ecf0f1; border: 1px solid var(--light-gray); border-radius: 8px; padding: 10px 20px; font-family: var(--font-family); font-size: 1rem; font-weight: 600; color: var(--secondary-color); cursor: pointer; transition: all 0.3s ease; margin-top: 20px; }
        .explanation-toggle:hover { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
        .explanation-panel { display: none; background-color: #e9f5ff; border-left: 5px solid var(--primary-color); padding: 20px; margin-top: 15px; border-radius: 8px; }
        .explanation-panel code { background-color: #d4eaff; }
        footer { text-align: center; padding: 25px; font-size: 0.9em; color: #6c757d; margin-top: 40px; background-color: #e9ecef; }
    </style>
</head>
<body>

    <nav>
        <a href="./index.html">Home</a>
        <a href="./lesson1.html" class="active">Lesson 1</a>
        <a href="./lesson2.html">Lesson 2</a>
        <a href="./lesson3.html">Lesson 3</a>
        <a href="./lesson4.html">Lesson 4</a>
        <a href="./lesson5.html">Lesson 5</a>
        <a href="./lesson6.html">Lesson 6</a>
    </nav>

    <main>
        <h1>Lesson 1: Create a Game Window</h1>
        <p class="intro">Every game needs a place to live. Our first mission is to tell Pygame to create a window, which is like the stage for our game.</p>

        <section class="instructions">
            <h3>Your Mission</h3>
            <p>The interactive window below is a live Pygame environment from a service called Trinket. You can type code on the left and see the result on the right.</p>
            <ol>
                <li><strong>Create the Screen:</strong> On the left side of the Trinket, find the line that says <code># YOUR CODE HERE to create the screen</code>.
                <br>On the next line, <strong>type this code to create a screen that is 800 pixels wide and 600 pixels high:</strong><br>
                <code>screen = pygame.display.set_mode((800, 600))</code></li>
                <li>
                    <strong>Color the Background:</strong> Now look further down for the comment <code># YOUR CODE HERE to color the background</code>.
                    <br>To fill the background, <strong>type this code:</strong><br>
                    <code>screen.fill("black")</code>
                </li>
            </ol>
            <p>Once you've typed those two lines, press the "Run" button ( <svg style="display: inline-block; vertical-align: middle;" viewBox="0 0 24 24" width="24" height="24" fill="black"><path d="M8 5v14l11-7z"></path></svg> ) at the top of the Trinket. A black window should appear on the right!</p>
            
            <button id="explanationBtn" class="explanation-toggle">Show Detailed Explanation</button>

            <div id="explanationPanel" class="explanation-panel">
                 <h3>Line-by-Line Code Explanation</h3>
                <ol>
                    <li><code>import pygame</code>: This line imports the Pygame library, giving us access to all its game-making commands.</li>
                    <li><code>pygame.init()</code>: This command "wakes up" all the different parts of Pygame so they are ready to use.</li>
                    <li><code>screen = pygame.display.set_mode((800, 600))</code>: This is the line you typed! It creates the visible game window with a width of 800 and a height of 600 pixels. We store it in a variable called `screen`.</li>
                    <li><code>pygame.display.set_caption(...)</code>: This sets the text that appears at the very top of the game window.</li>
                    <li><code>clock = pygame.time.Clock()</code>: This creates a timer object that we can use to control the game's speed.</li>
                    <li><code>running = True</code>: This is a "boolean" variable (True/False) that we use to control our main game loop. While it's `True`, the game keeps running.</li>
                    <li><code>while running:</code>: This starts the most important part of the game â€“ the game loop. The code inside this loop will run over and over again, many times per second.</li>
                    <li><code>for event in pygame.event.get():</code>: This checks for any events happening, like mouse clicks or key presses.</li>
                    <li><code>if event.type == pygame.QUIT:</code>: The `QUIT` event happens when you click the 'X' to close the window.</li>
                    <li><code>running = False</code>: If the 'X' is clicked, we set `running` to `False` to make the `while` loop stop.</li>
                    <li><code>screen.fill("black")</code>: This is the second line you typed. It covers the entire `screen` with the color black. This is done every frame to erase the previous frame's drawings.</li>
                    <li><code>pygame.display.flip()</code>: This is very important! After you've drawn everything, this command takes all your drawings and makes them visible on the screen, like flipping a page in a flipbook.</li>
                     <li><code>clock.tick(60)</code>: This line ensures our game doesn't run too fast. It limits the game loop to run a maximum of 60 times per second (60 frames per second).</li>
                    <li><code>pygame.quit()</code>: Once the loop has ended (because `running` became `False`), this command safely shuts down Pygame.</li>
                </ol>
            </div>
        </section>

        <div class="trinket-container">
            <!-- BUG FIX: Replaced the old, broken Trinket link with a new, working one. -->
            <iframe src="https://trinket.io/embed/python/b07e7b3e18?runOption=run" width="100%" height="600" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
        </div>
        
    </main>
    
    <footer><p>Pygame Tutorial | Created for Just Science Students</p></footer>

    <script type="text/javascript">
        // The page is now much simpler. We only need this script for the explanation toggle.
        const explanationBtn = document.getElementById('explanationBtn');
        const explanationPanel = document.getElementById('explanationPanel');

        function toggleExplanation() {
            if (explanationPanel.style.display === "block") {
                explanationPanel.style.display = "none";
                explanationBtn.textContent = "Show Detailed Explanation";
            } else {
                explanationPanel.style.display = "block";
                explanationBtn.textContent = "Hide Detailed Explanation";
            }
        }
        
        explanationBtn.addEventListener('click', toggleExplanation);
    </script>
</body>
</html>
