<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolean Logic: Digital Detective Agency & Logic Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            scroll-behavior: smooth;
        }
        
        .lesson-header-glow {
            animation: headerGlow 3s ease-in-out infinite;
        }
        
        @keyframes headerGlow {
            0%, 100% { text-shadow: 0 0 10px #10b981, 0 0 20px #10b981, 0 0 30px #10b981; }
            50% { text-shadow: 0 0 20px #14b8a6, 0 0 30px #14b8a6, 0 0 40px #14b8a6; }
        }
        
        .achievement-unlocked {
            animation: achievementPop 0.6s ease-out;
        }
        
        @keyframes achievementPop {
            0% { transform: scale(0) rotate(-15deg); opacity: 0; }
            60% { transform: scale(1.2) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background-color: #1e293b;
            margin: 10% auto;
            padding: 24px;
            border: 2px solid #10b981;
            width: 80%;
            max-width: 500px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-close {
            color: #94a3b8;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .modal-close:hover {
            color: #e2e8f0;
        }
        
        /* Flash Notification */
        .flash-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1100;
            background-color: #10b981;
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            animation: slideInRight 0.5s ease-out;
            display: none;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .flash-notification.show {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        /* Logic Gate Styles */
        .logic-gate {
            width: 80px;
            height: 60px;
            position: relative;
            display: inline-block;
            margin: 10px;
        }
        
        .gate-and {
            background: linear-gradient(to right, #1e293b 50%, transparent 50%);
            border-radius: 0 30px 30px 0;
            border: 2px solid #10b981;
        }
        
        .gate-or {
            background: #1e293b;
            clip-path: polygon(0 0, 60% 0, 100% 50%, 60% 100%, 0 100%, 20% 50%);
            border: 2px solid #14b8a6;
        }
        
        .gate-not {
            background: #1e293b;
            clip-path: polygon(0 0, 70% 50%, 0 100%);
            border: 2px solid #06b6d4;
        }
        
        .gate-not::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #1e293b;
            border: 2px solid #06b6d4;
        }
        
        /* Switch Styles */
        .logic-switch {
            width: 60px;
            height: 30px;
            background: #475569;
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .logic-switch.on {
            background: #10b981;
        }
        
        .logic-switch::after {
            content: '';
            position: absolute;
            width: 26px;
            height: 26px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }
        
        .logic-switch.on::after {
            transform: translateX(30px);
        }
        
        /* Circuit Wire */
        .circuit-wire {
            height: 2px;
            background: #475569;
            position: relative;
            transition: background 0.3s;
        }
        
        .circuit-wire.active {
            background: #10b981;
            box-shadow: 0 0 5px #10b981;
        }
        
        /* Truth Table Styles */
        .truth-table {
            border-collapse: collapse;
            margin: 20px auto;
        }
        
        .truth-table th, .truth-table td {
            border: 1px solid #475569;
            padding: 8px 16px;
            text-align: center;
        }
        
        .truth-table th {
            background: #1e293b;
            color: #10b981;
            font-weight: bold;
        }
        
        .truth-table td {
            background: #0f172a;
        }
        
        .truth-table .true {
            color: #10b981;
            font-weight: bold;
        }
        
        .truth-table .false {
            color: #ef4444;
            font-weight: bold;
        }
        
        /* Expression Evaluator */
        .expression-step {
            padding: 8px 16px;
            margin: 4px;
            background: #1e293b;
            border-radius: 8px;
            border: 1px solid #475569;
            transition: all 0.3s;
        }
        
        .expression-step.active {
            border-color: #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
            transform: scale(1.05);
        }
        
        /* Number Line */
        .number-line {
            position: relative;
            height: 60px;
            background: linear-gradient(to right, #1e293b 0%, #1e293b 49%, #10b981 50%, #1e293b 51%, #1e293b 100%);
            background-size: 20px 2px;
            background-position: 0 center;
            background-repeat: repeat-x;
            border-radius: 4px;
            margin: 20px 0;
        }
        
        .number-marker {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }
        
        /* Draggable Elements */
        .draggable {
            cursor: grab;
            transition: transform 0.2s;
        }
        
        .draggable:active {
            cursor: grabbing;
            transform: scale(1.05);
        }
        
        .drop-zone {
            border: 2px dashed #475569;
            border-radius: 8px;
            padding: 20px;
            min-height: 80px;
            transition: all 0.3s;
        }
        
        .drop-zone.drag-over {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }
        
        /* Game Timer */
        .game-timer {
            font-size: 24px;
            font-weight: bold;
            color: #10b981;
            text-align: center;
            padding: 10px;
            background: #1e293b;
            border-radius: 8px;
            border: 2px solid #10b981;
            min-width: 100px;
        }
        
        /* Password Validator */
        .password-rule {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .password-rule.valid {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }
        
        .password-rule.invalid {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }
        
        /* Traffic Light */
        .traffic-light {
            width: 60px;
            height: 160px;
            background: #1e293b;
            border-radius: 30px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
            border: 2px solid #475569;
        }
        
        .traffic-bulb {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #0f172a;
            transition: all 0.3s;
        }
        
        .traffic-bulb.red.on {
            background: #ef4444;
            box-shadow: 0 0 20px #ef4444;
        }
        
        .traffic-bulb.yellow.on {
            background: #f59e0b;
            box-shadow: 0 0 20px #f59e0b;
        }
        
        .traffic-bulb.green.on {
            background: #10b981;
            box-shadow: 0 0 20px #10b981;
        }
        
        /* Code blocks */
        .code-block {
            background: #0f172a;
            border: 1px solid #475569;
            border-radius: 6px;
            padding: 12px;
            font-family: 'Courier New', monospace;
            color: #e2e8f0;
            overflow-x: auto;
        }
        
        .code-true {
            color: #10b981;
        }
        
        .code-false {
            color: #ef4444;
        }
        
        .code-operator {
            color: #14b8a6;
            font-weight: bold;
        }
        
        .code-variable {
            color: #fbbf24;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-emerald-900 to-teal-900 min-h-screen text-white">
    <div class="max-w-7xl mx-auto p-4 md:p-8">
        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-bold lesson-header-glow mb-4">
                Boolean Logic: Digital Detective Agency
            </h1>
            <p class="text-xl text-emerald-300">Master the Language of Digital Decision Making</p>
            
            <!-- XP Bar -->
            <div class="mt-8 bg-slate-800 rounded-full p-2 max-w-2xl mx-auto border border-emerald-500">
                <div class="flex justify-between items-center mb-2 px-4">
                    <span id="levelDisplay" class="text-sm font-bold text-emerald-300">Level 1: Logic Rookie</span>
                    <span class="text-sm font-bold text-emerald-300"><span id="xpDisplay">0</span> / 75 XP</span>
                </div>
                <div class="bg-slate-700 rounded-full h-4 mx-2">
                    <div id="xpBar" class="bg-gradient-to-r from-emerald-500 to-teal-500 h-full rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="mb-10 bg-slate-800/90 backdrop-blur p-4 rounded-lg sticky top-4 z-40 border border-emerald-500/50">
            <ul class="flex flex-wrap justify-center gap-3 text-sm md:text-base">
                <li><a href="#warmup" class="hover:text-emerald-300 transition-colors">‚ö° Warm-up</a></li>
                <li><a href="#starter" class="hover:text-emerald-300 transition-colors">üîê Password Mystery</a></li>
                <li><a href="#comparison" class="hover:text-emerald-300 transition-colors">üîç Comparisons</a></li>
                <li><a href="#boolean" class="hover:text-emerald-300 transition-colors">‚ö° Boolean Gates</a></li>
                <li><a href="#expressions" class="hover:text-emerald-300 transition-colors">üßÆ Expressions</a></li>
                <li><a href="#realworld" class="hover:text-emerald-300 transition-colors">üèôÔ∏è Real World</a></li>
                <li><a href="#exam" class="hover:text-emerald-300 transition-colors">üìù Exam Prep</a></li>
                <li><a href="#achievements" class="hover:text-emerald-300 transition-colors">üèÜ Achievements</a></li>
            </ul>
        </nav>

        <!-- Flash Notification -->
        <div id="flashNotification" class="flash-notification">
            <i class="fas fa-check-circle"></i>
            <span id="flashMessage"></span>
        </div>

        <!-- Warm-up Section -->
        <section id="warmup" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">‚ö° Warm-up: Digital Foundations</h2>
            
            <!-- Quick Fire Comparisons -->
            <div class="mb-8 bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Quick Fire Comparisons</h3>
                <p class="text-gray-300 mb-4">60 seconds to answer as many as you can!</p>
                
                <div class="flex gap-4 items-center mb-4">
                    <button onclick="startQuickFire()" class="bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded-lg font-bold transition-colors">
                        Start Challenge
                    </button>
                    <div id="quickFireTimer" class="game-timer hidden">60</div>
                    <div id="quickFireScore" class="text-lg font-bold hidden">Score: 0</div>
                </div>
                
                <div id="quickFireQuestion" class="hidden">
                    <div class="text-2xl font-mono mb-4 text-center p-4 bg-slate-800 rounded-lg" id="quickFireExpression"></div>
                    <div class="flex gap-4 justify-center">
                        <button onclick="answerQuickFire(true)" class="bg-green-600 hover:bg-green-700 px-8 py-3 rounded-lg text-xl font-bold transition-colors">
                            TRUE
                        </button>
                        <button onclick="answerQuickFire(false)" class="bg-red-600 hover:bg-red-700 px-8 py-3 rounded-lg text-xl font-bold transition-colors">
                            FALSE
                        </button>
                    </div>
                </div>
                
                <div id="quickFireResults" class="hidden mt-4 text-center">
                    <h4 class="text-2xl font-bold mb-2">Time's Up!</h4>
                    <p class="text-xl">Final Score: <span id="finalScore" class="text-emerald-400 font-bold"></span></p>
                </div>
            </div>

            <!-- Operator Matching -->
            <div class="bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Operator Matching</h3>
                <p class="text-gray-300 mb-4">Drag operators to their meanings</p>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-bold mb-3">Operators</h4>
                        <div id="operatorsList" class="space-y-2">
                            <!-- Operators will be added by JavaScript -->
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-3">Meanings</h4>
                        <div id="meaningsList" class="space-y-2">
                            <!-- Meanings will be added by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <button onclick="checkOperatorMatching()" class="mt-4 bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded-lg font-bold transition-colors">
                    Check Answers
                </button>
            </div>
        </section>

        <!-- Starter: Password Validator Mystery -->
        <section id="starter" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">üîê Starter: The Password Validator Mystery</h2>
            
            <div class="bg-slate-900/50 rounded-lg p-6">
                <p class="text-gray-300 mb-4">
                    A mysterious password checker has been discovered. Can you figure out its rules by testing different passwords?
                </p>
                
                <div class="max-w-md mx-auto">
                    <input 
                        type="text" 
                        id="passwordInput" 
                        placeholder="Enter a test password..."
                        class="w-full px-4 py-3 bg-slate-800 border border-emerald-500/50 rounded-lg text-white placeholder-gray-400 focus:border-emerald-400 focus:outline-none"
                        oninput="checkPassword()"
                    >
                    
                    <div class="mt-6 space-y-2">
                        <div id="rule1" class="password-rule">
                            <i class="fas fa-question-circle"></i>
                            <span>Rule 1: ???</span>
                        </div>
                        <div id="rule2" class="password-rule">
                            <i class="fas fa-question-circle"></i>
                            <span>Rule 2: ???</span>
                        </div>
                        <div id="rule3" class="password-rule">
                            <i class="fas fa-question-circle"></i>
                            <span>Rule 3: ???</span>
                        </div>
                    </div>
                    
                    <div id="passwordResult" class="mt-6 text-center p-4 rounded-lg hidden">
                        <i class="fas fa-check-circle text-4xl mb-2"></i>
                        <p class="text-lg font-bold">Password Status</p>
                    </div>
                    
                    <button onclick="revealPasswordRules()" class="mt-6 w-full bg-emerald-600 hover:bg-emerald-700 px-6 py-3 rounded-lg font-bold transition-colors">
                        Reveal the Boolean Logic
                    </button>
                    
                    <div id="passwordLogic" class="hidden mt-6 p-4 bg-slate-800 rounded-lg">
                        <h4 class="font-bold text-emerald-400 mb-2">The Boolean Expression:</h4>
                        <code class="code-block text-sm">
                            length >= 8 <span class="code-operator">AND</span> hasNumber <span class="code-operator">AND</span> 
                            (hasUppercase <span class="code-operator">OR</span> hasSymbol)
                        </code>
                    </div>
                </div>
            </div>
        </section>

        <!-- Task 1: Comparison Operators -->
        <section id="comparison" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">üîç Task 1: Comparison Operators - Number Detective Agency</h2>
            
            <!-- Operator Training Academy -->
            <div class="mb-8 bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Operator Training Academy</h3>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">First Number:</label>
                                <input 
                                    type="number" 
                                    id="compNum1" 
                                    value="5"
                                    class="w-full px-3 py-2 bg-slate-800 border border-emerald-500/50 rounded text-white"
                                    oninput="updateComparison()"
                                >
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Operator:</label>
                                <select 
                                    id="compOperator"
                                    class="w-full px-3 py-2 bg-slate-800 border border-emerald-500/50 rounded text-white"
                                    onchange="updateComparison()"
                                >
                                    <option value="==">== (equals)</option>
                                    <option value="!=">!= (not equals)</option>
                                    <option value="<">< (less than)</option>
                                    <option value="<="><= (less than or equal)</option>
                                    <option value=">">  > (greater than)</option>
                                    <option value=">=">>= (greater than or equal)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Second Number:</label>
                                <input 
                                    type="number" 
                                    id="compNum2" 
                                    value="10"
                                    class="w-full px-3 py-2 bg-slate-800 border border-emerald-500/50 rounded text-white"
                                    oninput="updateComparison()"
                                >
                            </div>
                        </div>
                        
                        <div class="mt-6 text-center">
                            <div id="comparisonExpression" class="text-2xl font-mono mb-2">5 < 10</div>
                            <div id="comparisonResult" class="text-3xl font-bold text-emerald-400">TRUE</div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="font-bold mb-3">Visual Number Line</h4>
                        <div id="numberLine" class="number-line relative">
                            <div id="marker1" class="number-marker" style="left: 25%;">5</div>
                            <div id="marker2" class="number-marker" style="left: 50%;">10</div>
                        </div>
                        <div id="comparisonExplanation" class="mt-4 p-4 bg-slate-800 rounded text-sm">
                            5 is less than 10, so the expression evaluates to TRUE.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Case File Challenges -->
            <div class="mb-8 bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Case File Challenges</h3>
                <div id="caseFiles" class="space-y-4">
                    <!-- Case files will be added by JavaScript -->
                </div>
            </div>

            <!-- Operator Olympics -->
            <div class="bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Operator Olympics</h3>
                <p class="text-gray-300 mb-4">Solve 20 comparisons in 60 seconds!</p>
                
                <div class="text-center">
                    <button onclick="startOperatorOlympics()" class="bg-emerald-600 hover:bg-emerald-700 px-8 py-3 rounded-lg font-bold text-lg transition-colors">
                        Start Olympics
                    </button>
                    
                    <div id="olympicsGame" class="hidden mt-6">
                        <div class="flex justify-center gap-8 mb-6">
                            <div id="olympicsTimer" class="game-timer">60</div>
                            <div class="text-2xl font-bold">Score: <span id="olympicsScore">0</span>/20</div>
                        </div>
                        
                        <div id="olympicsQuestion" class="text-3xl font-mono mb-6 p-4 bg-slate-800 rounded-lg"></div>
                        
                        <div class="flex gap-4 justify-center">
                            <button onclick="answerOlympics(true)" class="bg-green-600 hover:bg-green-700 px-12 py-4 rounded-lg text-xl font-bold transition-colors">
                                TRUE
                            </button>
                            <button onclick="answerOlympics(false)" class="bg-red-600 hover:bg-red-700 px-12 py-4 rounded-lg text-xl font-bold transition-colors">
                                FALSE
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Task 2: Boolean Operators -->
        <section id="boolean" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">‚ö° Task 2: Boolean Operators - Logic Gate Laboratory</h2>
            
            <!-- Switch Circuit Simulator -->
            <div class="mb-8 bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Switch Circuit Simulator</h3>
                
                <div class="flex justify-center items-center gap-8 flex-wrap">
                    <div class="text-center">
                        <p class="mb-2">Switch A</p>
                        <div id="switchA" class="logic-switch mx-auto" onclick="toggleSwitch('A')"></div>
                        <p id="switchAValue" class="mt-2 font-mono">FALSE</p>
                    </div>
                    
                    <select id="gateType" onchange="updateCircuit()" class="px-4 py-2 bg-slate-800 border border-emerald-500/50 rounded">
                        <option value="AND">AND Gate</option>
                        <option value="OR">OR Gate</option>
                        <option value="NOT">NOT Gate</option>
                    </select>
                    
                    <div class="text-center" id="switchBContainer">
                        <p class="mb-2">Switch B</p>
                        <div id="switchB" class="logic-switch mx-auto" onclick="toggleSwitch('B')"></div>
                        <p id="switchBValue" class="mt-2 font-mono">FALSE</p>
                    </div>
                    
                    <div class="text-center">
                        <p class="mb-2">Output</p>
                        <div id="outputBulb" class="w-16 h-16 rounded-full bg-gray-700 mx-auto transition-all duration-300"></div>
                        <p id="outputValue" class="mt-2 font-mono font-bold">FALSE</p>
                    </div>
                </div>
                
                <div class="mt-6 max-w-2xl mx-auto">
                    <div id="circuitDiagram" class="bg-slate-800 p-6 rounded-lg">
                        <!-- Circuit visualization will be updated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Truth Table Builder -->
            <div class="mb-8 bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Truth Table Builder</h3>
                
                <div class="overflow-x-auto">
                    <table id="truthTable" class="truth-table mx-auto">
                        <!-- Truth table will be generated by JavaScript -->
                    </table>
                </div>
                
                <div class="mt-6 text-center">
                    <button onclick="generateTruthTable()" class="bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded-lg font-bold transition-colors">
                        Generate Truth Table
                    </button>
                </div>
            </div>

            <!-- Security System Designer -->
            <div class="bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Security System Designer</h3>
                <p class="text-gray-300 mb-4">Design door lock logic using gates</p>
                
                <div id="securityScenarios" class="space-y-6">
                    <!-- Security scenarios will be added by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Task 3: Expression Evaluator -->
        <section id="expressions" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">üßÆ Task 3: Expression Evaluator - The Truth Machine</h2>
            
            <!-- Step-by-Step Evaluator -->
            <div class="mb-8 bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Step-by-Step Evaluator</h3>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Enter Expression:</label>
                    <input 
                        type="text" 
                        id="expressionInput" 
                        placeholder="e.g., 5 > 3 AND 10 < 20"
                        class="w-full px-4 py-3 bg-slate-800 border border-emerald-500/50 rounded-lg text-white placeholder-gray-400"
                    >
                </div>
                
                <button onclick="evaluateExpression()" class="bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded-lg font-bold transition-colors">
                    Evaluate Step by Step
                </button>
                
                <div id="evaluationSteps" class="mt-6 space-y-2">
                    <!-- Steps will be shown here -->
                </div>
                
                <div class="mt-6 p-4 bg-slate-800 rounded-lg">
                    <h4 class="font-bold text-emerald-400 mb-2">Remember the Order:</h4>
                    <div class="flex items-center gap-4 justify-center text-lg">
                        <span class="px-3 py-1 bg-cyan-600 rounded">NOT</span>
                        <i class="fas fa-arrow-right"></i>
                        <span class="px-3 py-1 bg-emerald-600 rounded">AND</span>
                        <i class="fas fa-arrow-right"></i>
                        <span class="px-3 py-1 bg-teal-600 rounded">OR</span>
                    </div>
                </div>
            </div>

            <!-- Expression Challenge Arena -->
            <div class="bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Expression Challenge Arena</h3>
                
                <div id="expressionChallenges" class="space-y-4">
                    <!-- Challenges will be added by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Task 4: Real-World Logic -->
        <section id="realworld" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">üèôÔ∏è Task 4: Real-World Logic - Smart City Controller</h2>
            
            <!-- Traffic Light Logic -->
            <div class="mb-8 bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Traffic Light Controller</h3>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-bold mb-3">Conditions</h4>
                        <div class="space-y-3">
                            <label class="flex items-center gap-3">
                                <input type="checkbox" id="trafficSensor" onchange="updateTrafficLight()" class="w-5 h-5 text-emerald-600">
                                <span>Traffic detected</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" id="pedestrianButton" onchange="updateTrafficLight()" class="w-5 h-5 text-emerald-600">
                                <span>Pedestrian button pressed</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" id="emergencyVehicle" onchange="updateTrafficLight()" class="w-5 h-5 text-emerald-600">
                                <span>Emergency vehicle approaching</span>
                            </label>
                        </div>
                        
                        <div class="mt-6">
                            <h4 class="font-bold mb-2">Logic Rules:</h4>
                            <code class="code-block text-xs">
                                IF emergencyVehicle THEN red<br>
                                ELSE IF pedestrianButton AND NOT trafficSensor THEN red<br>
                                ELSE IF trafficSensor THEN green<br>
                                ELSE yellow
                            </code>
                        </div>
                    </div>
                    
                    <div class="flex justify-center items-center">
                        <div class="traffic-light">
                            <div id="redLight" class="traffic-bulb red"></div>
                            <div id="yellowLight" class="traffic-bulb yellow"></div>
                            <div id="greenLight" class="traffic-bulb green"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Smart Home Automator -->
            <div class="bg-slate-900/50 rounded-lg p-6">
                <h3 class="text-xl font-bold text-teal-400 mb-4">Smart Home Automator</h3>
                
                <div id="smartHomeScenarios" class="space-y-6">
                    <!-- Smart home scenarios will be added by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Exam Prep -->
        <section id="exam" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">üìù Exam Prep Zone</h2>
            
            <div id="examQuestions" class="space-y-6">
                <!-- Exam questions will be added by JavaScript -->
            </div>
        </section>

        <!-- Achievements Gallery -->
        <section id="achievements" class="mb-12 bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-emerald-500/30">
            <h2 class="text-3xl font-bold text-emerald-400 mb-6">üèÜ Achievement Gallery</h2>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div id="achievePasswordCracker" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-lock-open text-4xl mb-2"></i>
                    <h4 class="font-bold">Password Cracker</h4>
                    <p class="text-sm text-gray-400">Complete starter</p>
                </div>
                
                <div id="achieveComparisonCommander" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-balance-scale text-4xl mb-2"></i>
                    <h4 class="font-bold">Comparison Commander</h4>
                    <p class="text-sm text-gray-400">Master comparisons</p>
                </div>
                
                <div id="achieveGateGuardian" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-microchip text-4xl mb-2"></i>
                    <h4 class="font-bold">Gate Guardian</h4>
                    <p class="text-sm text-gray-400">Build truth tables</p>
                </div>
                
                <div id="achieveExpressionExpert" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-calculator text-4xl mb-2"></i>
                    <h4 class="font-bold">Expression Expert</h4>
                    <p class="text-sm text-gray-400">Evaluate expressions</p>
                </div>
                
                <div id="achieveLogicArchitect" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-city text-4xl mb-2"></i>
                    <h4 class="font-bold">Logic Architect</h4>
                    <p class="text-sm text-gray-400">Complete smart city</p>
                </div>
                
                <div id="achieveBooleanScholar" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-graduation-cap text-4xl mb-2"></i>
                    <h4 class="font-bold">Boolean Scholar</h4>
                    <p class="text-sm text-gray-400">Excel in exam prep</p>
                </div>
                
                <div id="achieveExtensionExplorer" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-rocket text-4xl mb-2"></i>
                    <h4 class="font-bold">Extension Explorer</h4>
                    <p class="text-sm text-gray-400">Complete extension</p>
                </div>
                
                <div id="achieveLogicLegend" class="achievement-card bg-slate-900/50 p-4 rounded-lg text-center opacity-50 transition-all">
                    <i class="fas fa-trophy text-4xl mb-2"></i>
                    <h4 class="font-bold">Logic Legend</h4>
                    <p class="text-sm text-gray-400">Master everything!</p>
                </div>
            </div>
        </section>

        <!-- Modal -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <span class="modal-close" onclick="closeModal()">&times;</span>
                <div id="modalContent" class="text-center">
                    <!-- Modal content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global State
        let totalXP = 0;
        let currentLevel = 1;
        const XP_PER_LEVEL = 75;
        const levels = ['Logic Rookie', 'Comparison Cadet', 'Boolean Builder', 'Expression Expert', 'Circuit Master'];
        
        // Achievement tracking
        const achievements = {
            passwordCracker: false,
            comparisonCommander: false,
            gateGuardian: false,
            expressionExpert: false,
            logicArchitect: false,
            booleanScholar: false,
            extensionExplorer: false,
            logicLegend: false
        };

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            initializeWarmup();
            initializeCaseChallenges();
            generateTruthTable();
            initializeSecurityScenarios();
            initializeExpressionChallenges();
            initializeSmartHome();
            initializeExamQuestions();
            updateCircuit();
            updateTrafficLight();
        });

        // XP and Level System
        function addXP(amount) {
            totalXP += amount;
            updateXPDisplay();
            showNotification(`+${amount} XP earned!`);
            checkLevelUp();
        }

        function updateXPDisplay() {
            const levelXP = totalXP % XP_PER_LEVEL;
            document.getElementById('xpDisplay').textContent = totalXP;
            document.getElementById('xpBar').style.width = `${(levelXP / XP_PER_LEVEL) * 100}%`;
        }

        function checkLevelUp() {
            const newLevel = Math.floor(totalXP / XP_PER_LEVEL) + 1;
            if (newLevel > currentLevel && newLevel <= levels.length) {
                currentLevel = newLevel;
                document.getElementById('levelDisplay').textContent = `Level ${currentLevel}: ${levels[currentLevel - 1]}`;
                showModal(`Level Up! You are now ${levels[currentLevel - 1]}!`);
            }
        }

        // Notification System
        function showNotification(message) {
            const notification = document.getElementById('flashNotification');
            const messageEl = document.getElementById('flashMessage');
            messageEl.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Modal System
        function showModal(content) {
            const modal = document.getElementById('modal');
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `<h3 class="text-2xl font-bold mb-4 text-emerald-400">${content}</h3>`;
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        // Achievement System
        function unlockAchievement(id, name) {
            if (!achievements[id]) {
                achievements[id] = true;
                const card = document.getElementById(`achieve${id.charAt(0).toUpperCase() + id.slice(1)}`);
                card.classList.remove('opacity-50');
                card.classList.add('achievement-unlocked', 'border-2', 'border-emerald-400');
                showNotification(`Achievement Unlocked: ${name}!`);
                addXP(10);
                checkMasterAchievement();
            }
        }

        function checkMasterAchievement() {
            const allUnlocked = Object.keys(achievements)
                .filter(key => key !== 'logicLegend')
                .every(key => achievements[key]);
            
            if (allUnlocked && !achievements.logicLegend) {
                unlockAchievement('logicLegend', 'Logic Legend');
                addXP(50);
            }
        }

        // Warm-up Section
        let quickFireTimer = null;
        let quickFireScore = 0;
        let quickFireTimeLeft = 60;

        function initializeWarmup() {
            // Initialize operator matching
            const operators = [
                { symbol: '==', meaning: 'Equal to' },
                { symbol: '!=', meaning: 'Not equal to' },
                { symbol: '<', meaning: 'Less than' },
                { symbol: '<=', meaning: 'Less than or equal to' },
                { symbol: '>', meaning: 'Greater than' },
                { symbol: '>=', meaning: 'Greater than or equal to' }
            ];

            const operatorsList = document.getElementById('operatorsList');
            const meaningsList = document.getElementById('meaningsList');

            operators.forEach((op, index) => {
                operatorsList.innerHTML += `
                    <div draggable="true" ondragstart="drag(event)" id="op${index}" 
                         class="draggable bg-slate-800 p-3 rounded cursor-move text-center font-mono text-lg">
                        ${op.symbol}
                    </div>
                `;

                meaningsList.innerHTML += `
                    <div ondrop="drop(event)" ondragover="allowDrop(event)" 
                         data-meaning="${index}" 
                         class="drop-zone bg-slate-800 p-3 rounded min-h-[48px]">
                        ${op.meaning}
                    </div>
                `;
            });
        }

        function startQuickFire() {
            quickFireScore = 0;
            quickFireTimeLeft = 60;
            document.getElementById('quickFireQuestion').classList.remove('hidden');
            document.getElementById('quickFireTimer').classList.remove('hidden');
            document.getElementById('quickFireScore').classList.remove('hidden');
            document.getElementById('quickFireResults').classList.add('hidden');
            
            generateQuickFireQuestion();
            
            quickFireTimer = setInterval(() => {
                quickFireTimeLeft--;
                document.getElementById('quickFireTimer').textContent = quickFireTimeLeft;
                
                if (quickFireTimeLeft <= 0) {
                    endQuickFire();
                }
            }, 1000);
        }

        function generateQuickFireQuestion() {
            const num1 = Math.floor(Math.random() * 20) - 10;
            const num2 = Math.floor(Math.random() * 20) - 10;
            const operators = ['==', '!=', '<', '<=', '>', '>='];
            const operator = operators[Math.floor(Math.random() * operators.length)];
            
            document.getElementById('quickFireExpression').textContent = `${num1} ${operator} ${num2}`;
        }

        function answerQuickFire(answer) {
            const expression = document.getElementById('quickFireExpression').textContent;
            const correct = eval(expression);
            
            if (answer === correct) {
                quickFireScore++;
                document.getElementById('quickFireScore').textContent = `Score: ${quickFireScore}`;
                showNotification('Correct!');
            } else {
                showNotification('Incorrect!');
            }
            
            generateQuickFireQuestion();
        }

        function endQuickFire() {
            clearInterval(quickFireTimer);
            document.getElementById('quickFireQuestion').classList.add('hidden');
            document.getElementById('quickFireResults').classList.remove('hidden');
            document.getElementById('finalScore').textContent = quickFireScore;
            
            if (quickFireScore >= 15) {
                addXP(10);
                showNotification('Excellent performance!');
            } else if (quickFireScore >= 10) {
                addXP(5);
                showNotification('Good job!');
            }
        }

        // Drag and Drop
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            const data = ev.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            
            if (ev.target.classList.contains('drop-zone')) {
                ev.target.innerHTML = '';
                ev.target.appendChild(draggedElement);
            }
        }

        function checkOperatorMatching() {
            const dropZones = document.querySelectorAll('.drop-zone[data-meaning]');
            let correct = 0;
            
            dropZones.forEach(zone => {
                const operatorEl = zone.querySelector('.draggable');
                if (operatorEl) {
                    const opIndex = parseInt(operatorEl.id.replace('op', ''));
                    const expectedIndex = parseInt(zone.dataset.meaning);
                    
                    if (opIndex === expectedIndex) {
                        correct++;
                        zone.classList.add('border-2', 'border-green-500');
                    } else {
                        zone.classList.add('border-2', 'border-red-500');
                    }
                }
            });
            
            if (correct === 6) {
                addXP(5);
                showNotification('Perfect! All operators matched correctly!');
            }
        }

        // Password Validator
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            const hasLength = password.length >= 8;
            const hasNumber = /\d/.test(password);
            const hasUppercase = /[A-Z]/.test(password);
            const hasSymbol = /[!@#$%^&*(),.?":{}|<>]/.test(password);
            
            // Update rule displays
            updatePasswordRule('rule1', hasLength, 'Length >= 8 characters');
            updatePasswordRule('rule2', hasNumber, 'Contains at least one number');
            updatePasswordRule('rule3', hasUppercase || hasSymbol, 'Contains uppercase OR symbol');
            
            // Check overall validity
            const isValid = hasLength && hasNumber && (hasUppercase || hasSymbol);
            const resultDiv = document.getElementById('passwordResult');
            
            if (password.length > 0) {
                resultDiv.classList.remove('hidden');
                if (isValid) {
                    resultDiv.className = 'mt-6 text-center p-4 rounded-lg bg-green-500/20 text-green-400';
                    resultDiv.innerHTML = '<i class="fas fa-check-circle text-4xl mb-2"></i><p class="text-lg font-bold">Password Accepted!</p>';
                } else {
                    resultDiv.className = 'mt-6 text-center p-4 rounded-lg bg-red-500/20 text-red-400';
                    resultDiv.innerHTML = '<i class="fas fa-times-circle text-4xl mb-2"></i><p class="text-lg font-bold">Password Rejected</p>';
                }
            } else {
                resultDiv.classList.add('hidden');
            }
        }

        function updatePasswordRule(ruleId, isValid, text) {
            const rule = document.getElementById(ruleId);
            if (isValid) {
                rule.className = 'password-rule valid';
                rule.innerHTML = `<i class="fas fa-check-circle"></i><span>${text}</span>`;
            } else {
                rule.className = 'password-rule invalid';
                rule.innerHTML = `<i class="fas fa-times-circle"></i><span>${text}</span>`;
            }
        }

        function revealPasswordRules() {
            document.getElementById('passwordLogic').classList.remove('hidden');
            unlockAchievement('passwordCracker', 'Password Cracker');
            addXP(15);
        }

        // Comparison Operators
        function updateComparison() {
            const num1 = parseFloat(document.getElementById('compNum1').value) || 0;
            const num2 = parseFloat(document.getElementById('compNum2').value) || 0;
            const operator = document.getElementById('compOperator').value;
            
            // Update expression display
            document.getElementById('comparisonExpression').textContent = `${num1} ${operator} ${num2}`;
            
            // Evaluate result
            let result;
            switch(operator) {
                case '==': result = num1 == num2; break;
                case '!=': result = num1 != num2; break;
                case '<': result = num1 < num2; break;
                case '<=': result = num1 <= num2; break;
                case '>': result = num1 > num2; break;
                case '>=': result = num1 >= num2; break;
            }
            
            document.getElementById('comparisonResult').textContent = result ? 'TRUE' : 'FALSE';
            document.getElementById('comparisonResult').className = result ? 'text-3xl font-bold text-emerald-400' : 'text-3xl font-bold text-red-400';
            
            // Update number line
            updateNumberLine(num1, num2);
            
            // Update explanation
            const explanations = {
                '==': `${num1} is ${result ? 'equal to' : 'not equal to'} ${num2}`,
                '!=': `${num1} is ${result ? 'not equal to' : 'equal to'} ${num2}`,
                '<': `${num1} is ${result ? 'less than' : 'not less than'} ${num2}`,
                '<=': `${num1} is ${result ? 'less than or equal to' : 'greater than'} ${num2}`,
                '>': `${num1} is ${result ? 'greater than' : 'not greater than'} ${num2}`,
                '>=': `${num1} is ${result ? 'greater than or equal to' : 'less than'} ${num2}`
            };
            
            document.getElementById('comparisonExplanation').textContent = 
                `${explanations[operator]}, so the expression evaluates to ${result ? 'TRUE' : 'FALSE'}.`;
        }

        function updateNumberLine(num1, num2) {
            const min = Math.min(num1, num2) - 5;
            const max = Math.max(num1, num2) + 5;
            const range = max - min;
            
            const marker1 = document.getElementById('marker1');
            const marker2 = document.getElementById('marker2');
            
            marker1.style.left = `${((num1 - min) / range) * 100}%`;
            marker1.textContent = num1;
            
            marker2.style.left = `${((num2 - min) / range) * 100}%`;
            marker2.textContent = num2;
        }

        // Case File Challenges
        function initializeCaseChallenges() {
            const cases = [
                {
                    description: "The thief's age is >= 25 AND < 40.",
                    suspects: [
                        { name: "Alex", age: 23 },
                        { name: "Blake", age: 32 },
                        { name: "Casey", age: 40 },
                        { name: "Dana", age: 28 }
                    ],
                    solution: ["Blake", "Dana"]
                },
                {
                    description: "The witness saw someone with height > 170cm OR weight < 60kg.",
                    suspects: [
                        { name: "Eve", height: 165, weight: 55 },
                        { name: "Frank", height: 180, weight: 75 },
                        { name: "Grace", height: 160, weight: 65 },
                        { name: "Henry", height: 175, weight: 58 }
                    ],
                    solution: ["Eve", "Frank", "Henry"]
                }
            ];

            const container = document.getElementById('caseFiles');
            
            cases.forEach((caseData, index) => {
                const caseDiv = document.createElement('div');
                caseDiv.className = 'bg-slate-800 p-4 rounded-lg';
                caseDiv.innerHTML = `
                    <h4 class="font-bold mb-2">Case ${index + 1}</h4>
                    <p class="text-gray-300 mb-3">${caseData.description}</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <h5 class="font-medium mb-2">Suspects:</h5>
                            <div id="suspects${index}" class="space-y-2">
                                ${caseData.suspects.map(s => `
                                    <div class="bg-slate-700 p-2 rounded text-sm">
                                        ${s.name} ${s.age !== undefined ? `(Age: ${s.age})` : `(H: ${s.height}cm, W: ${s.weight}kg)`}
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        <div>
                            <h5 class="font-medium mb-2">Matches:</h5>
                            <div id="matches${index}" class="drop-zone min-h-[100px]"></div>
                        </div>
                    </div>
                    <button onclick="checkCase(${index})" class="mt-3 bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded font-bold text-sm">
                        Check Solution
                    </button>
                `;
                container.appendChild(caseDiv);
            });
        }

        // Operator Olympics
        let olympicsTimer = null;
        let olympicsScore = 0;
        let olympicsTimeLeft = 60;
        let olympicsQuestions = 0;

        function startOperatorOlympics() {
            olympicsScore = 0;
            olympicsTimeLeft = 60;
            olympicsQuestions = 0;
            
            document.getElementById('olympicsGame').classList.remove('hidden');
            document.getElementById('olympicsScore').textContent = '0';
            
            generateOlympicsQuestion();
            
            olympicsTimer = setInterval(() => {
                olympicsTimeLeft--;
                document.getElementById('olympicsTimer').textContent = olympicsTimeLeft;
                
                if (olympicsTimeLeft <= 0 || olympicsQuestions >= 20) {
                    endOlympics();
                }
            }, 1000);
        }

        function generateOlympicsQuestion() {
            const types = ['integer', 'decimal', 'negative'];
            const type = types[Math.min(olympicsQuestions / 7, 2)];
            
            let num1, num2;
            if (type === 'integer') {
                num1 = Math.floor(Math.random() * 100);
                num2 = Math.floor(Math.random() * 100);
            } else if (type === 'decimal') {
                num1 = (Math.random() * 100).toFixed(1);
                num2 = (Math.random() * 100).toFixed(1);
            } else {
                num1 = Math.floor(Math.random() * 200) - 100;
                num2 = Math.floor(Math.random() * 200) - 100;
            }
            
            const operators = ['==', '!=', '<', '<=', '>', '>='];
            const operator = operators[Math.floor(Math.random() * operators.length)];
            
            document.getElementById('olympicsQuestion').textContent = `${num1} ${operator} ${num2}`;
        }

        function answerOlympics(answer) {
            const expression = document.getElementById('olympicsQuestion').textContent;
            const correct = eval(expression);
            
            if (answer === correct) {
                olympicsScore++;
                document.getElementById('olympicsScore').textContent = olympicsScore;
                showNotification('Correct!');
            } else {
                showNotification('Incorrect!');
            }
            
            olympicsQuestions++;
            
            if (olympicsQuestions < 20 && olympicsTimeLeft > 0) {
                generateOlympicsQuestion();
            } else {
                endOlympics();
            }
        }

        function endOlympics() {
            clearInterval(olympicsTimer);
           document.getElementById('olympicsGame').classList.add('hidden');
           
           let message = `Olympics Complete! Score: ${olympicsScore}/20`;
           if (olympicsScore >= 18) {
               addXP(30);
               message += ' - Perfect!';
               unlockAchievement('comparisonCommander', 'Comparison Commander');
           } else if (olympicsScore >= 15) {
               addXP(20);
               message += ' - Excellent!';
           } else if (olympicsScore >= 10) {
               addXP(10);
               message += ' - Good job!';
           }
           
           showModal(message);
       }

       // Boolean Operators - Circuit Simulator
       let switchStates = { A: false, B: false };

       function toggleSwitch(switchId) {
           switchStates[switchId] = !switchStates[switchId];
           const switchEl = document.getElementById(`switch${switchId}`);
           const valueEl = document.getElementById(`switch${switchId}Value`);
           
           if (switchStates[switchId]) {
               switchEl.classList.add('on');
               valueEl.textContent = 'TRUE';
               valueEl.className = 'mt-2 font-mono text-emerald-400';
           } else {
               switchEl.classList.remove('on');
               valueEl.textContent = 'FALSE';
               valueEl.className = 'mt-2 font-mono text-red-400';
           }
           
           updateCircuit();
       }

       function updateCircuit() {
           const gateType = document.getElementById('gateType').value;
           const A = switchStates.A;
           const B = switchStates.B;
           let output;
           
           // Show/hide switch B for NOT gate
           const switchBContainer = document.getElementById('switchBContainer');
           if (gateType === 'NOT') {
               switchBContainer.style.display = 'none';
               output = !A;
           } else {
               switchBContainer.style.display = 'block';
               if (gateType === 'AND') {
                   output = A && B;
               } else if (gateType === 'OR') {
                   output = A || B;
               }
           }
           
           // Update output display
           const outputBulb = document.getElementById('outputBulb');
           const outputValue = document.getElementById('outputValue');
           
           if (output) {
               outputBulb.className = 'w-16 h-16 rounded-full bg-emerald-400 mx-auto transition-all duration-300 shadow-lg shadow-emerald-400/50';
               outputValue.textContent = 'TRUE';
               outputValue.className = 'mt-2 font-mono font-bold text-emerald-400';
           } else {
               outputBulb.className = 'w-16 h-16 rounded-full bg-gray-700 mx-auto transition-all duration-300';
               outputValue.textContent = 'FALSE';
               outputValue.className = 'mt-2 font-mono font-bold text-red-400';
           }
           
           // Update circuit diagram
           updateCircuitDiagram(gateType, A, B, output);
       }

       function updateCircuitDiagram(gateType, A, B, output) {
           const diagram = document.getElementById('circuitDiagram');
           let gateSymbol = '';
           
           if (gateType === 'AND') {
               gateSymbol = `
                   <div class="flex items-center justify-center">
                       <div class="text-sm mr-4">${A ? 'TRUE' : 'FALSE'}</div>
                       <div class="gate-and"></div>
                       <div class="text-sm ml-4">${output ? 'TRUE' : 'FALSE'}</div>
                   </div>
                   <div class="text-sm mt-2">${B ? 'TRUE' : 'FALSE'}</div>
               `;
           } else if (gateType === 'OR') {
               gateSymbol = `
                   <div class="flex items-center justify-center">
                       <div class="text-sm mr-4">${A ? 'TRUE' : 'FALSE'}</div>
                       <div class="gate-or"></div>
                       <div class="text-sm ml-4">${output ? 'TRUE' : 'FALSE'}</div>
                   </div>
                   <div class="text-sm mt-2">${B ? 'TRUE' : 'FALSE'}</div>
               `;
           } else if (gateType === 'NOT') {
               gateSymbol = `
                   <div class="flex items-center justify-center">
                       <div class="text-sm mr-4">${A ? 'TRUE' : 'FALSE'}</div>
                       <div class="gate-not"></div>
                       <div class="text-sm ml-4">${output ? 'TRUE' : 'FALSE'}</div>
                   </div>
               `;
           }
           
           diagram.innerHTML = `
               <h4 class="font-bold mb-4 text-center">${gateType} Gate Logic</h4>
               ${gateSymbol}
               <div class="mt-4 text-center text-sm text-gray-400">
                   ${gateType === 'AND' ? 'Output is TRUE only when BOTH inputs are TRUE' : 
                     gateType === 'OR' ? 'Output is TRUE when AT LEAST ONE input is TRUE' :
                     'Output is the OPPOSITE of the input'}
               </div>
           `;
       }

       // Truth Table Generator
       function generateTruthTable() {
           const gateType = document.getElementById('gateType').value;
           const table = document.getElementById('truthTable');
           
           let html = '<thead><tr>';
           
           if (gateType === 'NOT') {
               html += '<th>A</th><th>NOT A</th>';
               html += '</tr></thead><tbody>';
               html += `<tr><td class="false">FALSE</td><td class="true">TRUE</td></tr>`;
               html += `<tr><td class="true">TRUE</td><td class="false">FALSE</td></tr>`;
           } else {
               html += `<th>A</th><th>B</th><th>A ${gateType} B</th>`;
               html += '</tr></thead><tbody>';
               
               const values = [[false, false], [false, true], [true, false], [true, true]];
               
               values.forEach(([a, b]) => {
                   let result;
                   if (gateType === 'AND') result = a && b;
                   else if (gateType === 'OR') result = a || b;
                   
                   html += '<tr>';
                   html += `<td class="${a ? 'true' : 'false'}">${a ? 'TRUE' : 'FALSE'}</td>`;
                   html += `<td class="${b ? 'true' : 'false'}">${b ? 'TRUE' : 'FALSE'}</td>`;
                   html += `<td class="${result ? 'true' : 'false'}">${result ? 'TRUE' : 'FALSE'}</td>`;
                   html += '</tr>';
               });
           }
           
           html += '</tbody>';
           table.innerHTML = html;
           
           // First time generating awards achievement
           if (!achievements.gateGuardian) {
               unlockAchievement('gateGuardian', 'Gate Guardian');
               addXP(35);
           }
       }

       // Security System Designer
       function initializeSecurityScenarios() {
           const scenarios = [
               {
                   title: "Basic Door Lock",
                   description: "Door opens if keycard AND PIN are correct",
                   inputs: { keycard: false, pin: false },
                   logic: "(keycard AND pin)"
               },
               {
                   title: "Emergency Override",
                   description: "Door opens if (keycard AND PIN) OR emergency button",
                   inputs: { keycard: false, pin: false, emergency: false },
                   logic: "(keycard AND pin) OR emergency"
               },
               {
                   title: "Secure Vault",
                   description: "Vault opens if (fingerprint AND keycode) AND NOT alarm",
                   inputs: { fingerprint: false, keycode: false, alarm: false },
                   logic: "(fingerprint AND keycode) AND NOT alarm"
               }
           ];

           const container = document.getElementById('securityScenarios');
           
           scenarios.forEach((scenario, index) => {
               const div = document.createElement('div');
               div.className = 'bg-slate-800 p-4 rounded-lg';
               div.innerHTML = `
                   <h4 class="font-bold mb-2">${scenario.title}</h4>
                   <p class="text-gray-300 mb-3">${scenario.description}</p>
                   <div class="space-y-2 mb-4">
                       ${Object.keys(scenario.inputs).map(input => `
                           <label class="flex items-center gap-3">
                               <input type="checkbox" id="${index}_${input}" 
                                      onchange="updateSecuritySystem(${index})" 
                                      class="w-5 h-5 text-emerald-600">
                               <span>${input.charAt(0).toUpperCase() + input.slice(1)}</span>
                           </label>
                       `).join('')}
                   </div>
                   <div class="flex items-center gap-4">
                       <span class="font-bold">Door Status:</span>
                       <div id="door${index}" class="px-4 py-2 rounded font-bold">
                           LOCKED
                       </div>
                   </div>
                   <div class="mt-3 text-sm text-gray-400">
                       Logic: <code>${scenario.logic}</code>
                   </div>
               `;
               container.appendChild(div);
           });
       }

       function updateSecuritySystem(scenarioIndex) {
           const scenarios = [
               { inputs: ['keycard', 'pin'], eval: (k, p) => k && p },
               { inputs: ['keycard', 'pin', 'emergency'], eval: (k, p, e) => (k && p) || e },
               { inputs: ['fingerprint', 'keycode', 'alarm'], eval: (f, k, a) => (f && k) && !a }
           ];
           
           const scenario = scenarios[scenarioIndex];
           const values = scenario.inputs.map(input => 
               document.getElementById(`${scenarioIndex}_${input}`).checked
           );
           
           const doorOpen = scenario.eval(...values);
           const doorEl = document.getElementById(`door${scenarioIndex}`);
           
           if (doorOpen) {
               doorEl.textContent = 'OPEN';
               doorEl.className = 'px-4 py-2 rounded font-bold bg-emerald-500/20 text-emerald-400';
           } else {
               doorEl.textContent = 'LOCKED';
               doorEl.className = 'px-4 py-2 rounded font-bold bg-red-500/20 text-red-400';
           }
       }

       // Expression Evaluator
       function evaluateExpression() {
           const input = document.getElementById('expressionInput').value;
           const stepsContainer = document.getElementById('evaluationSteps');
           
           if (!input) {
               showNotification('Please enter an expression');
               return;
           }
           
           try {
               // Parse and evaluate step by step
               const steps = parseExpression(input);
               stepsContainer.innerHTML = '';
               
               steps.forEach((step, index) => {
                   setTimeout(() => {
                       const stepDiv = document.createElement('div');
                       stepDiv.className = 'expression-step';
                       stepDiv.innerHTML = `
                           <div class="flex justify-between items-center">
                               <span>Step ${index + 1}: ${step.description}</span>
                               <span class="font-mono ${step.result ? 'text-emerald-400' : 'text-red-400'}">
                                   ${step.result !== undefined ? (step.result ? 'TRUE' : 'FALSE') : ''}
                               </span>
                           </div>
                       `;
                       stepsContainer.appendChild(stepDiv);
                       
                       // Highlight current step
                       setTimeout(() => {
                           stepDiv.classList.add('active');
                       }, 100);
                       
                       // Award XP for first successful evaluation
                       if (index === steps.length - 1 && !achievements.expressionExpert) {
                           unlockAchievement('expressionExpert', 'Expression Expert');
                           addXP(35);
                       }
                   }, index * 500);
               });
           } catch (error) {
               showNotification('Invalid expression format');
           }
       }

       function parseExpression(expr) {
           // Simplified parser for demonstration
           const steps = [];
           
           // Step 1: Evaluate comparisons
           const comparisonRegex = /(\d+)\s*(==|!=|<=|>=|<|>)\s*(\d+)/g;
           let modifiedExpr = expr;
           let match;
           
           while ((match = comparisonRegex.exec(expr)) !== null) {
               const num1 = parseInt(match[1]);
               const operator = match[2];
               const num2 = parseInt(match[3]);
               const result = eval(`${num1} ${operator} ${num2}`);
               
               steps.push({
                   description: `Evaluate ${num1} ${operator} ${num2}`,
                   result: result
               });
               
               modifiedExpr = modifiedExpr.replace(match[0], result ? 'TRUE' : 'FALSE');
           }
           
           // Step 2: Evaluate NOT operations
           if (modifiedExpr.includes('NOT')) {
               const notRegex = /NOT\s+(TRUE|FALSE)/g;
               while ((match = notRegex.exec(modifiedExpr)) !== null) {
                   const value = match[1] === 'TRUE';
                   const result = !value;
                   
                   steps.push({
                       description: `Evaluate NOT ${match[1]}`,
                       result: result
                   });
                   
                   modifiedExpr = modifiedExpr.replace(match[0], result ? 'TRUE' : 'FALSE');
               }
           }
           
           // Step 3: Evaluate AND operations
           if (modifiedExpr.includes('AND')) {
               const andRegex = /(TRUE|FALSE)\s+AND\s+(TRUE|FALSE)/g;
               while ((match = andRegex.exec(modifiedExpr)) !== null) {
                   const left = match[1] === 'TRUE';
                   const right = match[2] === 'TRUE';
                   const result = left && right;
                   
                   steps.push({
                       description: `Evaluate ${match[1]} AND ${match[2]}`,
                       result: result
                   });
                   
                   modifiedExpr = modifiedExpr.replace(match[0], result ? 'TRUE' : 'FALSE');
               }
           }
           
           // Step 4: Evaluate OR operations
           if (modifiedExpr.includes('OR')) {
               const orRegex = /(TRUE|FALSE)\s+OR\s+(TRUE|FALSE)/g;
               while ((match = orRegex.exec(modifiedExpr)) !== null) {
                   const left = match[1] === 'TRUE';
                   const right = match[2] === 'TRUE';
                   const result = left || right;
                   
                   steps.push({
                       description: `Evaluate ${match[1]} OR ${match[2]}`,
                       result: result
                   });
               }
           }
           
           return steps;
       }

       // Expression Challenges
       function initializeExpressionChallenges() {
           const challenges = [
               { expr: "5 > 3 AND 10 < 20", answer: true },
               { expr: "7 == 7 OR 4 != 4", answer: true },
               { expr: "NOT (3 > 5)", answer: true },
               { expr: "6 <= 5 AND 8 >= 8", answer: false },
               { expr: "(4 > 2 AND 6 < 8) OR 1 == 2", answer: true },
               { expr: "NOT (5 == 5) OR (3 < 4 AND 7 > 6)", answer: true },
               { expr: "10 > 15 OR (20 == 20 AND 30 < 40)", answer: true },
               { expr: "(5 + 3 > 7) AND NOT (10 - 5 < 4)", answer: true },
               { expr: "NOT (8 >= 8 AND 12 <= 15) OR 5 != 5", answer: false },
               { expr: "(TRUE AND FALSE) OR (NOT FALSE AND TRUE)", answer: true }
           ];

           const container = document.getElementById('expressionChallenges');
           let correctCount = 0;
           
           challenges.forEach((challenge, index) => {
               const div = document.createElement('div');
               div.className = 'bg-slate-800 p-4 rounded-lg';
               div.innerHTML = `
                   <div class="flex justify-between items-center">
                       <code class="text-lg">${challenge.expr}</code>
                       <div class="flex gap-2">
                           <button onclick="checkExpression(${index}, true)" 
                                   class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-bold">
                               TRUE
                           </button>
                           <button onclick="checkExpression(${index}, false)" 
                                   class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded font-bold">
                               FALSE
                           </button>
                       </div>
                   </div>
                   <div id="exprResult${index}" class="mt-2 text-sm"></div>
               `;
               container.appendChild(div);
           });
           
           // Store challenges for checking
           window.expressionChallenges = challenges;
           window.expressionCorrectCount = 0;
       }

       function checkExpression(index, userAnswer) {
           const challenge = window.expressionChallenges[index];
           const resultDiv = document.getElementById(`exprResult${index}`);
           
           if (userAnswer === challenge.answer) {
               resultDiv.innerHTML = '<span class="text-emerald-400">‚úì Correct!</span>';
               window.expressionCorrectCount++;
               addXP(3);
               
               if (window.expressionCorrectCount >= 8) {
                   unlockAchievement('expressionExpert', 'Expression Expert');
               }
           } else {
               resultDiv.innerHTML = '<span class="text-red-400">‚úó Incorrect. Try again!</span>';
           }
       }

       // Traffic Light Logic
       function updateTrafficLight() {
           const traffic = document.getElementById('trafficSensor').checked;
           const pedestrian = document.getElementById('pedestrianButton').checked;
           const emergency = document.getElementById('emergencyVehicle').checked;
           
           // Reset all lights
           document.getElementById('redLight').classList.remove('on');
           document.getElementById('yellowLight').classList.remove('on');
           document.getElementById('greenLight').classList.remove('on');
           
           // Apply logic rules
           if (emergency) {
               document.getElementById('redLight').classList.add('on');
           } else if (pedestrian && !traffic) {
               document.getElementById('redLight').classList.add('on');
           } else if (traffic) {
               document.getElementById('greenLight').classList.add('on');
           } else {
               document.getElementById('yellowLight').classList.add('on');
           }
           
           // First time using traffic light
           if (!achievements.logicArchitect) {
               setTimeout(() => {
                   unlockAchievement('logicArchitect', 'Logic Architect');
                   addXP(30);
               }, 1000);
           }
       }

       // Smart Home Automation
       function initializeSmartHome() {
           const scenarios = [
               {
                   title: "Heating System",
                   description: "Design heating logic based on temperature and occupancy",
                   conditions: {
                       temperature: { type: 'number', value: 20, label: 'Temperature (¬∞C)' },
                       someoneHome: { type: 'boolean', value: false, label: 'Someone Home' },
                       time: { type: 'number', value: 12, label: 'Hour (24h)' },
                       weekday: { type: 'boolean', value: true, label: 'Weekday' }
                   },
                   logic: "(temperature < 18 AND someoneHome) OR (time < 7 AND weekday)",
                   output: "Heating"
               },
               {
                   title: "Security System",
                   description: "Alert when motion detected and nobody home",
                   conditions: {
                       motionDetected: { type: 'boolean', value: false, label: 'Motion Detected' },
                       residentHome: { type: 'boolean', value: true, label: 'Resident Home' },
                       time: { type: 'number', value: 23, label: 'Hour (24h)' }
                   },
                   logic: "motionDetected AND NOT residentHome AND time > 22",
                   output: "Alert"
               }
           ];

           const container = document.getElementById('smartHomeScenarios');
           
           scenarios.forEach((scenario, index) => {
               const div = document.createElement('div');
               div.className = 'bg-slate-800 p-4 rounded-lg';
               div.innerHTML = `
                   <h4 class="font-bold mb-2">${scenario.title}</h4>
                   <p class="text-gray-300 mb-3">${scenario.description}</p>
                   <div class="grid md:grid-cols-2 gap-4">
                       <div class="space-y-3">
                           ${Object.entries(scenario.conditions).map(([key, cond]) => {
                               if (cond.type === 'boolean') {
                                   return `
                                       <label class="flex items-center gap-3">
                                           <input type="checkbox" id="smart_${index}_${key}" 
                                                  onchange="updateSmartHome(${index})"
                                                  ${cond.value ? 'checked' : ''}
                                                  class="w-5 h-5 text-emerald-600">
                                           <span>${cond.label}</span>
                                       </label>
                                   `;
                               } else {
                                   return `
                                       <div>
                                           <label class="block text-sm mb-1">${cond.label}</label>
                                           <input type="number" id="smart_${index}_${key}" 
                                                  value="${cond.value}"
                                                  onchange="updateSmartHome(${index})"
                                                  class="w-full px-3 py-1 bg-slate-700 border border-emerald-500/50 rounded">
                                       </div>
                                   `;
                               }
                           }).join('')}
                       </div>
                       <div class="flex items-center justify-center">
                           <div class="text-center">
                               <div id="smartOutput${index}" class="text-2xl font-bold mb-2 p-4 rounded">
                                   ${scenario.output}: OFF
                               </div>
                               <code class="text-xs text-gray-400">${scenario.logic}</code>
                           </div>
                       </div>
                   </div>
               `;
               container.appendChild(div);
               
               // Initialize display
               updateSmartHome(index);
           });
           
           // Store scenarios for evaluation
           window.smartHomeScenarios = scenarios;
       }

       function updateSmartHome(scenarioIndex) {
           const scenario = window.smartHomeScenarios[scenarioIndex];
           const conditions = {};
           
           // Get current values
           Object.keys(scenario.conditions).forEach(key => {
               const element = document.getElementById(`smart_${scenarioIndex}_${key}`);
               if (scenario.conditions[key].type === 'boolean') {
                   conditions[key] = element.checked;
               } else {
                   conditions[key] = parseFloat(element.value);
               }
           });
           
           // Evaluate logic
           let result = false;
           if (scenarioIndex === 0) {
               // Heating logic
               result = (conditions.temperature < 18 && conditions.someoneHome) || 
                       (conditions.time < 7 && conditions.weekday);
           } else if (scenarioIndex === 1) {
               // Security logic
               result = conditions.motionDetected && !conditions.residentHome && conditions.time > 22;
           }
           
           // Update display
           const outputDiv = document.getElementById(`smartOutput${scenarioIndex}`);
           if (result) {
               outputDiv.textContent = `${scenario.output}: ON`;
               outputDiv.className = 'text-2xl font-bold mb-2 p-4 rounded bg-emerald-500/20 text-emerald-400';
           } else {
               outputDiv.textContent = `${scenario.output}: OFF`;
               outputDiv.className = 'text-2xl font-bold mb-2 p-4 rounded bg-gray-500/20 text-gray-400';
           }
       }

       // Exam Questions
       function initializeExamQuestions() {
           const questions = [
               {
                   question: "Complete the truth table for the expression: A OR (B AND C)",
                   type: "truthTable",
                   marks: 4
               },
               {
                   question: "Evaluate: (15 > 10 AND 20 <= 20) OR NOT (5 == 5)",
                   type: "evaluate",
                   answer: false,
                   marks: 3
               },
               {
                   question: "Write a Boolean expression for: 'The alarm sounds if motion is detected AND the system is armed AND it's NOT daytime (hour < 6 OR hour > 18)'",
                   type: "write",
                   sample: "motion AND armed AND (hour < 6 OR hour > 18)",
                   marks: 4
               },
               {
                   question: "Which expressions are equivalent?\nA) NOT (x > 5 AND y < 10)\nB) x <= 5 OR y >= 10\nC) NOT x > 5 OR NOT y < 10",
                   type: "identify",
                   answer: "A and B are equivalent (De Morgan's Law)",
                   marks: 3
               },
               {
                   question: "Debug this expression. It should return TRUE when age is between 13 and 19 (inclusive):\nage > 13 AND age < 19",
                   type: "debug",
                   answer: "age >= 13 AND age <= 19",
                   marks: 2
               }
           ];

           const container = document.getElementById('examQuestions');
           
           questions.forEach((q, index) => {
               const div = document.createElement('div');
               div.className = 'bg-slate-800 p-6 rounded-lg';
               div.innerHTML = `
                   <div class="flex justify-between items-start mb-4">
                       <h4 class="font-bold text-lg">Question ${index + 1}</h4>
                       <span class="bg-emerald-500/20 text-emerald-400 px-3 py-1 rounded text-sm">
                           ${q.marks} marks
                       </span>
                   </div>
                   <p class="mb-4">${q.question}</p>
                   <textarea id="examAnswer${index}" 
                             class="w-full p-3 bg-slate-700 border border-emerald-500/50 rounded text-white h-32"
                             placeholder="Your answer..."></textarea>
                   <div class="mt-4 flex gap-3">
                       <button onclick="checkExamAnswer(${index})" 
                               class="bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded font-bold">
                           Check Answer
                       </button>
                       <button onclick="showExamHint(${index})" 
                               class="bg-teal-600 hover:bg-teal-700 px-4 py-2 rounded font-bold">
                           Show Hint
                       </button>
                   </div>
                   <div id="examFeedback${index}" class="mt-4"></div>
               `;
               container.appendChild(div);
           });
           
           // Store questions for checking
           window.examQuestions = questions;
       }

       function checkExamAnswer(index) {
           const question = window.examQuestions[index];
           const userAnswer = document.getElementById(`examAnswer${index}`).value;
           const feedbackDiv = document.getElementById(`examFeedback${index}`);
           
           // Simple checking logic (in real implementation, would be more sophisticated)
           let feedback = '';
           let correct = false;
           
           if (question.type === 'evaluate' && userAnswer.toLowerCase().includes('false')) {
               correct = true;
               feedback = '‚úì Correct! The expression evaluates to FALSE.';
           } else if (question.type === 'write' && userAnswer.toLowerCase().includes('motion') && 
                     userAnswer.toLowerCase().includes('armed') && userAnswer.toLowerCase().includes('hour')) {
               correct = true;
               feedback = '‚úì Good expression! Make sure to handle the time condition correctly.';
           } else if (question.type === 'debug' && userAnswer.includes('>=') && userAnswer.includes('<=')) {
               correct = true;
               feedback = '‚úì Correct! Using >= and <= includes the boundary values.';
           }
           
           if (correct) {
               feedbackDiv.innerHTML = `<div class="text-emerald-400">${feedback}</div>`;
               addXP(5);
               
               // Check if enough questions answered
               if (!achievements.booleanScholar) {
                   unlockAchievement('booleanScholar', 'Boolean Scholar');
                   addXP(40);
               }
           } else {
               feedbackDiv.innerHTML = `<div class="text-red-400">Not quite right. Try again!</div>`;
           }
       }

       function showExamHint(index) {
           const hints = [
               "Remember to evaluate each part of the truth table systematically",
               "Work through the expression step by step, following operator precedence",
               "Think about what conditions need to be true for the alarm to sound",
               "Use De Morgan's Law: NOT (A AND B) = NOT A OR NOT B",
               "Think about whether the boundaries (13 and 19) should be included"
           ];
           
           showNotification(`Hint: ${hints[index]}`);
       }

       // Initialize everything
       updateComparison();
   </script>
</body>
</html>