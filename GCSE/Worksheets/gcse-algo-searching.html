<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Algorithms - GCSE Computer Science</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <style>
        :root {
            --primary-color: #6B46C1;
            --secondary-color: #EC4899;
            --success-color: #10B981;
            --error-color: #EF4444;
            --warning-color: #F59E0B;
            --bg-color: #F9FAFB;
            --text-color: #111827;
            --card-bg: #FFFFFF;
            --border-color: #E5E7EB;
            --font-size: 16px;
        }

        .high-contrast {
            --primary-color: #FFFF00;
            --secondary-color: #00FFFF;
            --bg-color: #000000;
            --text-color: #FFFFFF;
            --card-bg: #1A1A1A;
            --border-color: #FFFFFF;
        }

        .dyslexia-font {
            font-family: 'OpenDyslexic', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: var(--font-size);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .shame-mode body {
            background-color: #FEE2E2 !important;
        }

        .shame-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #DC2626;
            color: white;
            padding: 20px;
            border-radius: 10px;
            font-size: 24px;
            font-weight: bold;
            z-index: 10000;
            animation: pulse 2s infinite;
            display: none;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .xp-bar {
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            height: 30px;
            margin: 20px auto;
            max-width: 400px;
            position: relative;
            overflow: hidden;
        }

        .xp-fill {
            background: linear-gradient(90deg, #10B981, #34D399);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 20px;
        }

        .xp-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .level-badge {
            display: inline-block;
            background: gold;
            color: #333;
            padding: 5px 15px;
            border-radius: 20px;
            margin-top: 10px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .nav-controls {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .nav-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .section-indicators {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .section-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .section-dot.active {
            background: var(--primary-color);
            transform: scale(1.2);
        }

        .section-dot.completed {
            background: var(--success-color);
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }

        .card h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .card h3 {
            color: var(--secondary-color);
            margin: 20px 0 10px;
            font-size: 1.4rem;
        }

        .task-box {
            background: #F3F4F6;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .task-box:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(107, 70, 193, 0.3);
        }

        .button.secondary {
            background: var(--secondary-color);
        }

        .button.success {
            background: var(--success-color);
        }

        .button.error {
            background: var(--error-color);
        }

        input[type="text"], input[type="number"], textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--card-bg);
            color: var(--text-color);
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(107, 70, 193, 0.1);
        }

        .drag-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .drag-item {
            background: var(--primary-color);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: move;
            transition: all 0.3s ease;
            user-select: none;
        }

        .drag-item:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .drag-item.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            min-height: 100px;
            border: 3px dashed var(--border-color);
            border-radius: 10px;
            padding: 30px;
            margin: 10px 0;
            transition: all 0.3s ease;
            background: rgba(0,0,0,0.02);
        }

        .drop-zone.drag-over {
            border-color: var(--primary-color);
            background: rgba(107, 70, 193, 0.1);
            transform: scale(1.02);
        }

        .algorithm-visualizer {
            background: #1F2937;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .array-element {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: #374151;
            color: white;
            text-align: center;
            line-height: 50px;
            margin: 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .array-element.highlighted {
            background: var(--warning-color);
            transform: scale(1.1);
        }

        .array-element.found {
            background: var(--success-color);
            animation: bounce 0.5s ease;
        }

        .array-element.discarded {
            opacity: 0.3;
            transform: scale(0.9);
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .canvas-container {
            position: relative;
            margin: 20px 0;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            display: none;
        }

        canvas {
            display: block;
            background: white;
            cursor: crosshair;
            touch-action: none;
        }

        .canvas-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }

        .achievement-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #333;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: slideIn 0.5s ease, slideOut 0.5s ease 3s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(400px); }
        }

        .particle {
            position: fixed;
            pointer-events: none;
            animation: particle 1s ease-out forwards;
        }

        @keyframes particle {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(0);
                opacity: 0;
            }
        }

        .feedback {
            margin-top: 10px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.correct {
            background: #D1FAE5;
            color: #065F46;
            border: 1px solid #6EE7B7;
        }

        .feedback.incorrect {
            background: #FEE2E2;
            color: #991B1B;
            border: 1px solid #FCA5A5;
        }

        .accessibility-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 100;
        }

        .control-group {
            margin: 10px 0;
        }

        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .quiz-option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 15px;
            margin: 10px 0;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--primary-color);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .mark-scheme {
            background: #EFF6FF;
            border: 2px solid #3B82F6;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .predicted-marks {
            display: flex;
            gap: 10px;
            align-items: center;
            margin: 15px 0;
        }

        .code-exercise {
            background: #1F2937;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        pre {
            background: #2d2d2d;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            color: #f8f8f2;
            margin: 15px 0;
        }

        code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        /* Override Prism theme for better integration */
        pre[class*="language-"] {
            margin: 15px 0;
            background: #2d2d2d;
            font-size: 14px;
            line-height: 1.5;
        }
        
        code[class*="language-"] {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            text-shadow: none;
        }
        
        /* Custom token colors for better readability */
        .token.comment {
            color: #8292a2;
        }
        
        .token.keyword {
            color: #c792ea;
        }
        
        .token.function {
            color: #82aaff;
        }
        
        .token.string {
            color: #c3e88d;
        }
        
        .token.number {
            color: #f78c6c;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .array-element {
                width: 40px;
                height: 40px;
                line-height: 40px;
                margin: 3px;
            }
            
            .drag-container {
                flex-direction: column;
            }
        }

        /* Mobile gesture support */
        @media (pointer: coarse) {
            .drag-item {
                padding: 20px 30px;
            }
            
            .button {
                padding: 15px 30px;
            }
        }

        /* Print styles */
        @media print {
            .nav-controls, .accessibility-controls {
                display: none;
            }
            
            .section {
                display: block !important;
                page-break-after: always;
            }
        }

        /* Loading animation */
        .loader {
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Tooltips */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            white-space: nowrap;
            font-size: 14px;
            z-index: 10;
        }

        #comparisonGraph {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        /* Skip to content link for accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 0 0 5px 0;
        }

        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="shame-message" id="shameMessage">
        🚫 COPYING AND PASTING IS NOT ALLOWED! 🚫<br>
        Nice try, but real learning requires real effort!
    </div>

    <header>
        <div class="header-content">
            <h1>Search Algorithms</h1>
            <p>GCSE Computer Science - OCR J277</p>
            <div class="xp-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="xp-fill" id="xpFill"></div>
                <span class="xp-text" id="xpText">0 / 100 XP</span>
            </div>
            <div class="level-badge" id="levelBadge">Level 1 - Beginner</div>
        </div>
    </header>

    <div class="container" id="main-content">
        <nav class="nav-controls" role="navigation" aria-label="Lesson navigation">
            <div class="nav-buttons">
                <button class="nav-button" id="prevBtn" onclick="navigateSection(-1)" disabled aria-label="Previous section">
                    ← Previous
                </button>
                <button class="nav-button" id="nextBtn" onclick="navigateSection(1)" aria-label="Next section">
                    Next →
                </button>
            </div>
            <div class="section-indicators" role="tablist">
                <!-- Section indicators will be generated dynamically -->
            </div>
        </nav>

        <!-- Section 0: Welcome & Objectives -->
        <section class="section active" id="section-0" role="tabpanel">
            <div class="card">
                <h2>Welcome to Search Algorithms! 🎯</h2>
                <p>In this interactive lesson, you'll master two fundamental searching algorithms that form the backbone of computer science.</p>
                
                <h3>Learning Objectives</h3>
                <ul>
                    <li>✓ Understand how Linear Search works and trace through examples</li>
                    <li>✓ Understand how Binary Search works and its requirements</li>
                    <li>✓ Compare the efficiency of both algorithms</li>
                    <li>✓ Apply searching algorithms to real-world scenarios</li>
                    <li>✓ Identify common mistakes and how to avoid them</li>
                </ul>

                <div class="task-box">
                    <h3>How This Lesson Works</h3>
                    <p>🎮 Complete interactive tasks to earn XP points</p>
                    <p>🏆 Unlock achievements as you progress</p>
                    <p>📝 Practice exam-style questions</p>
                    <p>🚀 Challenge yourself with extension activities</p>
                </div>

                <button class="button success" onclick="completeIntro()">Let's Begin!</button>
            </div>
        </section>

        <!-- Section 1: Starter Activity -->
        <section class="section" id="section-1" role="tabpanel">
            <div class="card">
                <h2>Starter Activity: What Do You Already Know? 🤔</h2>
                <p>Let's see what you already know about searching for items in a list!</p>

                <div class="task-box">
                    <h3>Quick Quiz</h3>
                    <p>Imagine you have a phone book with 1000 names in alphabetical order. You need to find "Smith, John".</p>
                    <p><strong>Which approach would be more efficient?</strong></p>
                    
                    <button class="quiz-option" onclick="checkStarterQuiz(this, 'A')">
                        A) Start from the beginning and check each name one by one
                    </button>
                    <button class="quiz-option" onclick="checkStarterQuiz(this, 'B')">
                        B) Open to the middle, see if you need to go forward or backward, and repeat
                    </button>
                    <button class="quiz-option" onclick="checkStarterQuiz(this, 'C')">
                        C) Start from the end and work backwards
                    </button>
                    <button class="quiz-option" onclick="checkStarterQuiz(this, 'D')">
                        D) Pick random pages until you find it
                    </button>
                    
                    <div id="starterFeedback" class="feedback"></div>
                </div>

                <div class="task-box" id="starterTask2" style="display: none;">
                    <h3>Arrange the Steps</h3>
                    <p>Drag these steps into the correct order for finding a number in an unsorted list:</p>
                    
                    <div class="drag-container" id="starterDragItems">
                        <div class="drag-item" draggable="true" data-value="check">Check if current item matches</div>
                        <div class="drag-item" draggable="true" data-value="start">Start at the first item</div>
                        <div class="drag-item" draggable="true" data-value="found">If match found, stop searching</div>
                        <div class="drag-item" draggable="true" data-value="next">Move to next item if not found</div>
                    </div>
                    
                    <div class="drop-zone" id="starterDropZone">
                        Drop the steps here in order
                    </div>
                    
                    <button class="button" onclick="checkStarterDragDrop()">Check Order</button>
                    <button class="button secondary" onclick="resetStarterDragDrop()">Reset</button>
                    
                    <div id="starterDragFeedback" class="feedback"></div>
                </div>
            </div>
        </section>

        <!-- Section 2: Linear Search -->
        <section class="section" id="section-2" role="tabpanel">
            <div class="card">
                <h2>Linear Search Algorithm 🔍</h2>
                
                <div class="task-box">
                    <h3>What is Linear Search?</h3>
                    <p><strong>Definition:</strong> A searching algorithm which looks at every element in turn until it finds the target.</p>
                    
                    <h4>Key Characteristics:</h4>
                    <ul>
                        <li>✓ Works on both sorted and unsorted data</li>
                        <li>✓ Simple to understand and implement</li>
                        <li>✗ Can be slow for large datasets</li>
                        <li>✗ Always checks elements sequentially</li>
                    </ul>
                </div>

                <div class="task-box">
                    <h3>How Linear Search Works</h3>
                    <ol>
                        <li>Access the first value in the list</li>
                        <li>Compare this value to the search value</li>
                        <li>If it does not equal search value, move to the next element</li>
                        <li>If it equals search value, return True/Print "Item found"</li>
                        <li>If end of list reached without finding, return False/"Not found"</li>
                    </ol>
                </div>

                <div class="task-box">
                    <h3>Interactive Linear Search Visualizer</h3>
                    <p>Click "Start Search" to see how linear search finds the target value:</p>
                    
                    <div class="algorithm-visualizer">
                        <div id="linearArrayDisplay"></div>
                        <div style="margin-top: 20px;">
                            <label style="color: white;">Search for: 
                                <input type="number" id="linearSearchTarget" value="7" min="1" max="10" style="width: 60px;">
                            </label>
                            <button class="button success" onclick="startLinearSearch()">Start Search</button>
                            <button class="button secondary" onclick="resetLinearSearch()">Reset</button>
                        </div>
                        <div id="linearSearchStatus" style="color: white; margin-top: 10px;"></div>
                    </div>
                </div>

                <div class="task-box">
                    <h3>Practice: Trace Through Linear Search</h3>
                    <p>Given the array: [3, 7, 2, 9, 1, 5, 8]</p>
                    <p>We want to find the value 5.</p>
                    <p><strong>How many comparisons will linear search make?</strong></p>
                    
                    <input type="number" id="linearTraceAnswer" placeholder="Enter number of comparisons">
                    <button class="button" onclick="checkLinearTrace()">Check Answer</button>
                    
                    <div id="linearTraceFeedback" class="feedback"></div>
                </div>

                <div class="task-box">
                    <h3>Algorithm Recognition</h3>
                    <p><strong>Note:</strong> You don't need to write code for these algorithms in the exam, but you should be able to recognise how they work and trace through them.</p>
                    
                    <h4>Linear Search - Python Implementation:</h4>
                    <pre><code class="language-python">def linear_search(array, target):
    for i in range(len(array)):
        if array[i] == target:
            return i  # Found at position i
    return -1  # Not found</code></pre>
                    
                    <h4>Linear Search - OCR Reference Language:</h4>
                    <pre><code class="language-pascal">FUNCTION linearSearch(array, target)
    FOR i = 0 TO LENGTH(array) - 1
        IF array[i] = target THEN
            RETURN i  // Found at position i
        END IF
    END FOR
    RETURN -1  // Not found
END FUNCTION</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 3: Binary Search -->
        <section class="section" id="section-3" role="tabpanel">
            <div class="card">
                <h2>Binary Search Algorithm ⚡</h2>
                
                <div class="task-box">
                    <h3>What is Binary Search?</h3>
                    <p><strong>Definition:</strong> A searching algorithm that divides the search space in half each time until it finds the target.</p>
                    
                    <h4>Key Characteristics:</h4>
                    <ul>
                        <li>✓ Much faster than linear search for large datasets</li>
                        <li>✓ Reduces search space by half each iteration</li>
                        <li>✗ ONLY works on sorted data</li>
                        <li>✗ More complex to implement</li>
                    </ul>
                </div>

                <div class="task-box">
                    <h3>How Binary Search Works</h3>
                    <ol>
                        <li>Find the middle element of the sorted array</li>
                        <li>Compare middle value to search value</li>
                        <li>If middle value is smaller, discard lower half</li>
                        <li>If middle value is larger, discard upper half</li>
                        <li>If middle value equals search value, found!</li>
                        <li>Repeat with remaining half until found or list size is 1</li>
                    </ol>
                </div>

                <div class="task-box">
                    <h3>Interactive Binary Search Visualizer</h3>
                    <p>Watch how binary search efficiently finds the target:</p>
                    
                    <div class="algorithm-visualizer">
                        <div id="binaryArrayDisplay"></div>
                        <div style="margin-top: 20px;">
                            <label style="color: white;">Search for: 
                                <input type="number" id="binarySearchTarget" value="7" min="1" max="10" style="width: 60px;">
                            </label>
                            <button class="button success" onclick="startBinarySearch()">Start Search</button>
                            <button class="button secondary" onclick="resetBinarySearch()">Reset</button>
                        </div>
                        <div id="binarySearchStatus" style="color: white; margin-top: 10px;"></div>
                    </div>
                </div>

                <div class="task-box">
                    <h3>Binary Search Decision Tree</h3>
                    <p>Complete the decision tree for binary search:</p>
                    
                    <div style="text-align: center; margin: 20px 0;">
                        <p><strong>Is the array sorted?</strong></p>
                        <select id="binaryDecision1" onchange="updateBinaryDecisionTree()">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                        
                        <div id="binaryDecisionNext" style="display: none; margin-top: 20px;">
                            <p><strong>Compare middle element to target:</strong></p>
                            <select id="binaryDecision2" onchange="updateBinaryDecision2()">
                                <option value="">Choose...</option>
                                <option value="equal">Middle = Target</option>
                                <option value="less">Middle < Target</option>
                                <option value="greater">Middle > Target</option>
                            </select>
                            
                            <div id="binaryDecisionResult" style="margin-top: 20px; display: none;">
                                <p><strong>What should we do next?</strong></p>
                                <select id="binaryDecision3">
                                    <option value="">Choose...</option>
                                    <option value="found">Return found/position</option>
                                    <option value="searchUpper">Search upper half</option>
                                    <option value="searchLower">Search lower half</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="button" onclick="checkBinaryDecisionTree()" style="margin-top: 20px;">Check Decision</button>
                        <div id="binaryDecisionFeedback" class="feedback"></div>
                    </div>
                </div>

                <div class="task-box">
                    <h3>Practice: Calculate Maximum Comparisons</h3>
                    <p>For a sorted array of 1000 elements, what is the maximum number of comparisons binary search would make?</p>
                    
                    <input type="number" id="binaryMaxComparisons" placeholder="Enter maximum comparisons">
                    <button class="button" onclick="checkBinaryMaxComparisons()">Check Answer</button>
                    <button class="button secondary" onclick="showDrawingCanvas('binaryCanvas')">📝 Show Workings</button>
                    
                <div class="task-box">
                    <h3>Algorithm Recognition</h3>
                    <p><strong>Note:</strong> You don't need to write code for these algorithms in the exam, but you should be able to recognise how they work and trace through them.</p>
                    
                    <h4>Binary Search - Python Implementation:</h4>
                    <pre><code class="language-python">def binary_search(array, target):
    low = 0
    high = len(array) - 1
    
    while low <= high:
        mid = (low + high) // 2
        if array[mid] == target:
            return mid  # Found
        elif array[mid] < target:
            low = mid + 1  # Search upper half
        else:
            high = mid - 1  # Search lower half
    
    return -1  # Not found</code></pre>
                    
                    <h4>Binary Search - OCR Reference Language:</h4>
                    <pre><code class="language-pascal">FUNCTION binarySearch(array, target)
    low = 0
    high = LENGTH(array) - 1
    
    WHILE low <= high
        mid = (low + high) DIV 2
        IF array[mid] = target THEN
            RETURN mid
        ELSE IF array[mid] < target THEN
            low = mid + 1
        ELSE
            high = mid - 1
        END IF
    END WHILE
    RETURN -1
END FUNCTION</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 4: Comparing Algorithms -->
        <section class="section" id="section-4" role="tabpanel">
            <div class="card">
                <h2>Comparing Linear vs Binary Search 🔄</h2>
                
                <div class="task-box">
                    <h3>Efficiency Comparison</h3>
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr>
                            <th style="border: 2px solid var(--border-color); padding: 10px;">Aspect</th>
                            <th style="border: 2px solid var(--border-color); padding: 10px;">Linear Search</th>
                            <th style="border: 2px solid var(--border-color); padding: 10px;">Binary Search</th>
                        </tr>
                        <tr>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Works on unsorted data?</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">✓ Yes</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">✗ No</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Best case comparisons</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">1 (first element)</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">1 (middle element)</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Worst case (n elements)</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">n comparisons</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">log₂(n) comparisons</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Implementation complexity</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Simple</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">More complex</td>
                        </tr>
                    </table>
                </div>

                <div class="task-box">
                    <h3>Interactive Comparison</h3>
                    <p>Match each scenario to the best search algorithm:</p>
                    
                    <div class="drag-container">
                        <div class="drag-item" draggable="true" data-algorithm="linear">Finding a name in an unsorted class register</div>
                        <div class="drag-item" draggable="true" data-algorithm="binary">Looking up a word in a dictionary</div>
                        <div class="drag-item" draggable="true" data-algorithm="linear">Searching for a specific color car in a parking lot</div>
                        <div class="drag-item" draggable="true" data-algorithm="binary">Finding a page number in a textbook</div>
                    </div>
                    
                    <div style="display: flex; gap: 20px; margin-top: 20px;">
                        <div style="flex: 1;">
                            <h4>Linear Search Best For:</h4>
                            <div class="drop-zone" id="linearDropZone" data-algorithm="linear"></div>
                        </div>
                        <div style="flex: 1;">
                            <h4>Binary Search Best For:</h4>
                            <div class="drop-zone" id="binaryDropZone" data-algorithm="binary"></div>
                        </div>
                    </div>
                    
                    <button class="button" onclick="checkComparisonDragDrop()">Check Answers</button>
                    <button class="button secondary" onclick="resetComparisonDragDrop()">Reset</button>
                    
                    <div id="comparisonFeedback" class="feedback"></div>
                </div>

                <div class="task-box">
                    <h3>Efficiency Calculator</h3>
                    <p>See how the number of comparisons grows with array size:</p>
                    
                    <label>Array size: 
                        <input type="number" id="arraySizeInput" value="100" min="10" max="10000" step="10">
                    </label>
                    <button class="button" onclick="calculateEfficiency()">Calculate</button>
                    
                    <div id="efficiencyResults" style="margin-top: 20px;"></div>
                    
                    <div class="task-box" style="margin-top: 20px;">
                        <h4>Interactive Comparison Graph</h4>
                        <p>Drag the slider to see how comparisons scale with array size:</p>
                        <label>Array size: 
                            <input type="range" id="graphSlider" min="10" max="1000" value="100" oninput="updateComparisonGraph()">
                            <span id="sliderValue">100</span>
                        </label>
                        <canvas id="comparisonGraph" width="600" height="400" style="border: 1px solid #ddd; display: block; margin-top: 20px;"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Real-World Context -->
        <section class="section" id="section-5" role="tabpanel">
            <div class="card">
                <h2>Real-World Applications 🌍</h2>
                
                <div class="task-box" id="realWorldApplications" style="display: none;">
                    <h3>Where Are These Algorithms Used?</h3>
                    
                    <h4>Linear Search Applications:</h4>
                    <ul>
                        <li>🔍 Find function in text editors (Ctrl+F)</li>
                        <li>🛒 Searching through shopping cart items</li>
                        <li>📧 Finding unread emails in inbox</li>
                        <li>🎮 Checking collision detection in simple games</li>
                    </ul>
                    
                    <h4>Binary Search Applications:</h4>
                    <ul>
                        <li>📚 Dictionary/encyclopedia lookups</li>
                        <li>📱 Contact search in phone (alphabetically sorted)</li>
                        <li>🎵 Finding songs in sorted playlists</li>
                        <li>💾 Database index searches</li>
                        <li>🎯 Git bisect for finding bugs in code history</li>
                    </ul>
                </div>

                <div class="task-box">
                    <h3>Scenario Analysis</h3>
                    <p>A streaming service has 10 million songs sorted by title. A user searches for "Yesterday" by The Beatles.</p>
                    
                    <p><strong>Question 1:</strong> Using linear search, in the worst case, how many songs might need to be checked?</p>
                    <input type="text" id="streamingLinear" placeholder="Your answer">
                    
                    <p style="margin-top: 15px;"><strong>Question 2:</strong> Using binary search, what's the maximum number of comparisons needed?</p>
                    <input type="text" id="streamingBinary" placeholder="Your answer">
                    
                    <button class="button" onclick="checkStreamingScenario()">Check Answers</button>
                    <div id="streamingFeedback" class="feedback"></div>
                </div>

                <div class="task-box">
                    <h3>Design Your Own Search Scenario</h3>
                    <p>Think of a real-world situation where searching is needed:</p>
                    
                    <textarea id="userScenario" rows="3" placeholder="Describe your scenario..."></textarea>
                    
                    <p>Which algorithm would be best and why?</p>
                    <textarea id="userScenarioReason" rows="3" placeholder="Explain your choice..."></textarea>
                    
                    <button class="button" onclick="submitUserScenario()">Submit Scenario</button>
                    <div id="scenarioFeedback" class="feedback"></div>
                </div>
            </div>
        </section>
            </div>
        </section>

        <!-- Section 6: Common Mistakes -->
        <section class="section" id="section-6" role="tabpanel">
            <div class="card">
                <h2>Common Mistakes to Avoid ⚠️</h2>
                
                <div class="task-box">
                    <h3>Spot the Error!</h3>
                    <p>Can you identify what's wrong with each implementation?</p>
                    
                    <div style="margin: 20px 0;">
                        <h4>Mistake 1: Binary Search Implementation</h4>
                        <pre><code>FUNCTION binarySearch(array, target)
    low = 0
    high = LENGTH(array)  // ERROR HERE!
    
    WHILE low <= high
        mid = (low + high) / 2
        IF array[mid] = target THEN
            RETURN mid
        ELSE IF array[mid] < target THEN
            low = mid + 1
        ELSE
            high = mid - 1
        END IF
    END WHILE
    RETURN -1
END FUNCTION</code></pre>
                        
                        <p>What's the error?</p>
                        <button class="quiz-option" onclick="checkMistake1(this, 'A')">
                            A) The while condition is wrong
                        </button>
                        <button class="quiz-option" onclick="checkMistake1(this, 'B')">
                            B) high should be LENGTH(array) - 1
                        </button>
                        <button class="quiz-option" onclick="checkMistake1(this, 'C')">
                            C) The mid calculation is wrong
                        </button>
                        
                        <div id="mistake1Feedback" class="feedback"></div>
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <h4>Mistake 2: Common Misconception</h4>
                        <p>"Binary search is always better than linear search."</p>
                        <p><strong>Why is this statement incorrect?</strong></p>
                        
                        <textarea id="mistake2Answer" rows="3" placeholder="Explain why this is wrong..."></textarea>
                        <button class="button" onclick="checkMistake2()">Check Answer</button>
                        
                        <div id="mistake2Feedback" class="feedback"></div>
                    </div>
                </div>

                <div class="task-box">
                    <h3>Key Points to Remember</h3>
                    <ul>
                        <li>🔴 Binary search ONLY works on sorted data</li>
                        <li>🔴 Array indices start at 0, not 1</li>
                        <li>🔴 Integer division may be needed for middle index</li>
                        <li>🔴 Don't forget to update low/high pointers correctly</li>
                        <li>🔴 Consider edge cases (empty array, single element)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 7: Practice Exam Questions -->
        <section class="section" id="section-7" role="tabpanel">
            <div class="card">
                <h2>Practice Exam Questions 📝</h2>
                <p>These questions are in the style of OCR J277 exam questions.</p>
                
                <div class="task-box">
                    <h3>Question 1 (4 marks)</h3>
                    <p>A program stores student names in an array. The array is not sorted.</p>
                    <p>Describe how a linear search algorithm would find a specific student's name in the array.</p>
                    
                    <textarea id="examQ1" rows="6" placeholder="Write your answer here..."></textarea>
                    
                    <div class="predicted-marks">
                        <label>Predicted marks: 
                            <input type="number" id="examQ1Marks" min="0" max="4" placeholder="0-4">
                        </label>
                        <button class="button" onclick="checkExamQ1()">Show Mark Scheme</button>
                    </div>
                    
                    <div id="examQ1Feedback" class="feedback"></div>
                    
                    <div id="examQ1MarkScheme" class="mark-scheme">
                        <h4>Mark Scheme:</h4>
                        <ul>
                            <li>1 mark: Start at the beginning/first element of the array</li>
                            <li>1 mark: Compare current element with target name</li>
                            <li>1 mark: If not found, move to next element / increment position</li>
                            <li>1 mark: Return found/true if match OR not found/false if end reached</li>
                        </ul>
                    </div>
                </div>

                <div class="task-box">
                    <h3>Question 2 (6 marks)</h3>
                    <p>A sorted array contains the following numbers: [3, 7, 11, 19, 23, 31, 43]</p>
                    <p>Show how binary search would find the value 19. Include all steps and comparisons made.</p>
                    
                    <textarea id="examQ2" rows="8" placeholder="Write your answer here..."></textarea>
                    <button class="button secondary" onclick="showDrawingCanvas('examQ2Canvas')">📝 Show Workings</button>
                    
                    <div class="canvas-container" id="examQ2CanvasContainer">
                        <canvas id="examQ2Canvas" width="600" height="300"></canvas>
                        <div class="canvas-controls">
                            <button class="button secondary" onclick="clearCanvas('examQ2Canvas')">Clear</button>
                            <button class="button error" onclick="hideCanvas('examQ2Canvas')">Close</button>
                        </div>
                    </div>
                    
                    <div class="predicted-marks">
                        <label>Predicted marks: 
                            <input type="number" id="examQ2Marks" min="0" max="6" placeholder="0-6">
                        </label>
                        <button class="button" onclick="checkExamQ2()">Show Mark Scheme</button>
                    </div>
                    
                    <div id="examQ2Feedback" class="feedback"></div>
                    
                    <div id="examQ2MarkScheme" class="mark-scheme">
                        <h4>Mark Scheme:</h4>
                        <ul>
                            <li>1 mark: Identify initial low=0, high=6</li>
                            <li>1 mark: First comparison - mid=3, array[3]=19</li>
                            <li>1 mark: 19 = 19, so target found immediately!</li>
                            <li>1 mark: State that only 1 comparison was needed</li>
                            <li>1 mark: Correct calculation of middle index</li>
                            <li>1 mark: Clear presentation of steps</li>
                        </ul>
                    </div>
                </div>

                <div class="task-box">
                    <h3>Question 3 (2 marks)</h3>
                    <p>State one advantage and one disadvantage of binary search compared to linear search.</p>
                    
                    <label>Advantage:</label>
                    <input type="text" id="examQ3Advantage" placeholder="One advantage...">
                    
                    <label style="margin-top: 10px;">Disadvantage:</label>
                    <input type="text" id="examQ3Disadvantage" placeholder="One disadvantage...">
                    
                    <div class="predicted-marks">
                        <label>Predicted marks: 
                            <input type="number" id="examQ3Marks" min="0" max="2" placeholder="0-2">
                        </label>
                        <button class="button" onclick="checkExamQ3()">Show Mark Scheme</button>
                    </div>
                    
                    <div id="examQ3Feedback" class="feedback"></div>
                    
                    <div id="examQ3MarkScheme" class="mark-scheme">
                        <h4>Mark Scheme:</h4>
                        <p><strong>Advantage (1 mark):</strong></p>
                        <ul>
                            <li>Faster/more efficient for large datasets</li>
                            <li>Fewer comparisons needed</li>
                            <li>Time complexity of O(log n) vs O(n)</li>
                        </ul>
                        <p><strong>Disadvantage (1 mark):</strong></p>
                        <ul>
                            <li>Only works on sorted data</li>
                            <li>More complex to implement</li>
                            <li>Requires data to be in order first</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 8: Extension Activities -->
        <section class="section" id="section-8" role="tabpanel">
            <div class="card">
                <h2>Extension Activities 🚀</h2>
                <p>Ready to go beyond the specification? These challenges will push your understanding further!</p>
                
                <div class="task-box">
                    <h3>Challenge 1: Performance Analysis</h3>
                    <p>If binary search takes 1 millisecond per comparison, and linear search takes 0.1 milliseconds per comparison, at what array size does binary search become faster?</p>
                    
                    <input type="number" id="performanceAnswer" placeholder="Array size">
                    <button class="button" onclick="checkPerformanceAnalysis()">Check Answer</button>
                    <button class="button secondary" onclick="showDrawingCanvas('performanceCanvas')">📝 Show Workings</button>
                    
                    <div class="canvas-container" id="performanceCanvasContainer">
                        <canvas id="performanceCanvas" width="600" height="300"></canvas>
                        <div class="canvas-controls">
                            <button class="button secondary" onclick="clearCanvas('performanceCanvas')">Clear</button>
                            <button class="button error" onclick="hideCanvas('performanceCanvas')">Close</button>
                        </div>
                    </div>
                    
                    <div id="performanceFeedback" class="feedback"></div>
                </div>

                <div class="task-box">
                    <h3>Challenge 2: Interpolation Search</h3>
                    <p>Research interpolation search - an advanced algorithm that can be even faster than binary search for uniformly distributed data.</p>
                    <p>Explain how it differs from binary search:</p>
                    
                    <textarea id="interpolationExplain" rows="4" placeholder="Explain interpolation search..."></textarea>
                    <button class="button" onclick="submitInterpolation()">Submit Explanation</button>
                    <div id="interpolationFeedback" class="feedback"></div>
                </div>
            </div>
        </section>

        <!-- Section 9: Video Resources -->
        <section class="section" id="section-9" role="tabpanel">
            <div class="card">
                <h2>Video Resources 🎥</h2>
                <p>Additional video explanations will be added here to reinforce your learning.</p>
                
                <div class="task-box">
                    <h3>Recommended Videos</h3>
                    <p><em>Videos will be embedded here. Topics will include:</em></p>
                    <ul>
                        <li>📹 Linear Search Walkthrough</li>
                        <li>📹 Binary Search Visualization</li>
                        <li>📹 Comparing Search Algorithms</li>
                        <li>📹 Exam Technique Tips</li>
                    </ul>
                    
                    <div style="background: #F3F4F6; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center;">
                        <p style="color: #6B7280;">Video placeholder - Content coming soon!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 10: Summary -->
        <section class="section" id="section-10" role="tabpanel">
            <div class="card">
                <h2>Summary & Key Takeaways 🎯</h2>
                
                <div class="task-box">
                    <h3>What You've Learned</h3>
                    <ul>
                        <li>✅ Linear search checks each element sequentially</li>
                        <li>✅ Binary search divides the search space in half</li>
                        <li>✅ Linear search works on any data, sorted or unsorted</li>
                        <li>✅ Binary search ONLY works on sorted data</li>
                        <li>✅ Binary search is more efficient for large datasets</li>
                        <li>✅ The choice of algorithm depends on your data and requirements</li>
                    </ul>
                </div>

                <div class="task-box">
                    <h3>Your Achievements</h3>
                    <div id="achievementSummary"></div>
                </div>

                <div class="task-box">
                    <h3>Quick Reference</h3>
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr>
                            <th style="border: 2px solid var(--border-color); padding: 10px;">Algorithm</th>
                            <th style="border: 2px solid var(--border-color); padding: 10px;">Time Complexity</th>
                            <th style="border: 2px solid var(--border-color); padding: 10px;">Space Complexity</th>
                            <th style="border: 2px solid var(--border-color); padding: 10px;">Prerequisite</th>
                        </tr>
                        <tr>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Linear Search</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">O(n)</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">O(1)</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">None</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Binary Search</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">O(log n)</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">O(1)</td>
                            <td style="border: 1px solid var(--border-color); padding: 10px;">Sorted array</td>
                        </tr>
                    </table>
                </div>

                <div class="task-box">
                    <h3>Next Steps</h3>
                    <p>Great job completing this lesson! Consider:</p>
                    <ul>
                        <li>🔍 Practice implementing these algorithms in Python</li>
                        <li>📚 Try more past paper questions on searching</li>
                        <li>🎯 Explore sorting algorithms (next topic!)</li>
                        <li>💡 Think about how search is used in apps you use daily</li>
                    </ul>
                </div>

                <button class="button success" onclick="generateCertificate()">🏆 Generate Completion Certificate</button>
            </div>
        </section>
    </div>

    <div class="accessibility-controls" role="complementary" aria-label="Accessibility controls">
        <h4>Accessibility</h4>
        <div class="control-group">
            <label>
                <input type="checkbox" id="highContrastToggle" onchange="toggleHighContrast()">
                High Contrast
            </label>
        </div>
        <div class="control-group">
            <label>
                <input type="checkbox" id="dyslexiaFontToggle" onchange="toggleDyslexiaFont()">
                Dyslexia Font
            </label>
        </div>
        <div class="control-group">
            <label>Font Size:
                <input type="range" id="fontSizeSlider" min="12" max="24" value="16" onchange="changeFontSize(this.value)">
            </label>
        </div>
    </div>

    <script src="gcse-algo-searching.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-pascal.min.js"></script>
</body>
</html>