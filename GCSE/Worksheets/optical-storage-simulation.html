<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optical Storage Adventure - GCSE Computer Science</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #0a0e27;
            min-height: 100vh;
            overflow-x: hidden;
            color: #333;
        }

        /* Animated background */
        .bg-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .laser-grid {
            position: absolute;
            width: 200%;
            height: 200%;
            background-image: 
                linear-gradient(rgba(255,0,0,0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,0,0,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: grid-move 10s linear infinite;
        }

        @keyframes grid-move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .floating-bits {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .bit {
            position: absolute;
            font-family: monospace;
            color: rgba(0,255,0,0.3);
            animation: float-up 8s linear infinite;
        }

        @keyframes float-up {
            0% { 
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { 
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: glow-in 1s ease-out;
        }

        @keyframes glow-in {
            from { 
                opacity: 0;
                transform: translateY(-20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-size: 3em;
            background: linear-gradient(45deg, #00ffff, #ff00ff, #00ffff);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient-shift 3s ease infinite;
            margin-bottom: 10px;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .subtitle {
            color: #64b5f6;
            font-size: 1.2em;
        }

        /* Progress and achievements */
        .progress-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            height: 30px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #00c853, #64dd17);
            height: 100%;
            width: 0%;
            border-radius: 20px;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            z-index: 1;
        }

        .achievements {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .achievement {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }

        .achievement.unlocked {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            animation: achievement-pop 0.5s ease;
            box-shadow: 0 0 20px rgba(255,215,0,0.6);
        }

        @keyframes achievement-pop {
            0% { transform: scale(0); }
            60% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .achievement-tooltip {
            position: absolute;
            bottom: -30px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .achievement:hover .achievement-tooltip {
            opacity: 1;
        }

        /* Main content area */
        .main-content {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }

        /* Tab navigation */
        .tab-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab-btn {
            padding: 15px 30px;
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            position: relative;
            color: #666;
            transition: all 0.3s;
            font-weight: bold;
        }

        .tab-btn.active {
            color: #1976d2;
        }

        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 3px;
            background: #1976d2;
            transition: width 0.3s;
        }

        .tab-btn.active::after {
            width: 100%;
        }

        .tab-content {
            display: none;
            animation: fade-in 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Enhanced disc visualization */
        .disc-lab {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            border-radius: 20px;
            padding: 40px;
            position: relative;
            overflow: visible;
        }

        .disc-container {
            position: relative;
            width: 350px;
            height: 350px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .disc {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: absolute;
            transform-style: preserve-3d;
            animation: rotate 10s linear infinite;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .disc:hover {
            animation-play-state: paused;
            transform: rotateX(15deg) rotateY(15deg);
        }

        .disc-surface {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .cd .disc-surface {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,255,255,0.8), transparent 40%),
                conic-gradient(from 0deg, #e0e0e0, #c0c0c0, #e0e0e0, #c0c0c0, #e0e0e0);
            box-shadow: 
                0 0 30px rgba(255,255,255,0.5),
                inset 0 0 30px rgba(0,0,0,0.2);
        }

        .dvd .disc-surface {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6), transparent 40%),
                conic-gradient(from 0deg, #9c27b0, #7b1fa2, #9c27b0, #7b1fa2, #9c27b0);
            box-shadow: 
                0 0 30px rgba(156,39,176,0.5),
                inset 0 0 30px rgba(0,0,0,0.2);
        }

        .bluray .disc-surface {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6), transparent 40%),
                conic-gradient(from 0deg, #1976d2, #1565c0, #1976d2, #1565c0, #1976d2);
            box-shadow: 
                0 0 30px rgba(25,118,210,0.5),
                inset 0 0 30px rgba(0,0,0,0.2);
        }

        .disc-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #333, #000);
            border-radius: 50%;
            z-index: 10;
        }

        .disc-hole {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 30px;
            background: #f0f0f0;
            border-radius: 50%;
        }

        /* Data visualization on disc */
        .data-track {
            position: absolute;
            border: 1px solid rgba(0,255,0,0.3);
            border-radius: 50%;
            animation: pulse-track 2s ease-in-out infinite;
        }

        @keyframes pulse-track {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        /* Laser system */
        .laser-assembly {
            position: absolute;
            top: 50%;
            right: -100px;
            transform: translateY(-50%);
            width: 100px;
            height: 60px;
            background: linear-gradient(135deg, #424242, #212121);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: right 0.5s;
            cursor: pointer;
        }

        .laser-assembly.active {
            right: -50px;
        }

        .laser-lens {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            position: relative;
        }

        .laser-lens.cd {
            background: radial-gradient(circle, #ff00ff, #cc00cc);
            animation: laser-glow-cd 1s ease-in-out infinite alternate;
        }

        .laser-lens.dvd {
            background: radial-gradient(circle, #ff0000, #cc0000);
            animation: laser-glow-dvd 1s ease-in-out infinite alternate;
        }

        .laser-lens.bluray {
            background: radial-gradient(circle, #0066ff, #0044cc);
            animation: laser-glow-bluray 1s ease-in-out infinite alternate;
        }

        @keyframes laser-glow-cd {
            from { box-shadow: 0 0 10px #ff00ff; }
            to { box-shadow: 0 0 30px #ff00ff; }
        }

        @keyframes laser-glow-dvd {
            from { box-shadow: 0 0 10px #ff0000; }
            to { box-shadow: 0 0 30px #ff0000; }
        }

        @keyframes laser-glow-bluray {
            from { box-shadow: 0 0 10px #0066ff; }
            to { box-shadow: 0 0 30px #0066ff; }
        }

        .laser-beam {
            position: absolute;
            top: 50%;
            right: 80px;
            width: 0;
            height: 3px;
            transform: translateY(-50%);
            transition: width 0.5s;
            filter: blur(1px);
        }

        .laser-beam.cd {
            background: linear-gradient(to right, rgba(255,0,255,0), rgba(255,0,255,0.8), #ff00ff);
        }

        .laser-beam.dvd {
            background: linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,0.8), #ff0000);
        }

        .laser-beam.bluray {
            background: linear-gradient(to right, rgba(0,102,255,0), rgba(0,102,255,0.8), #0066ff);
        }

        .laser-beam.active {
            width: 350px;
        }

        /* Reflection visualization */
        .reflection-beam {
            position: absolute;
            top: calc(50% + 3px);
            right: 80px;
            width: 0;
            height: 2px;
            transform: translateY(-50%);
            transition: width 0.5s;
            filter: blur(1px);
            opacity: 0.6;
        }

        .reflection-beam.cd {
            background: linear-gradient(to left, rgba(255,0,255,0), rgba(255,0,255,0.6), #ff00ff);
        }

        .reflection-beam.dvd {
            background: linear-gradient(to left, rgba(255,0,0,0), rgba(255,0,0,0.6), #ff0000);
        }

        .reflection-beam.bluray {
            background: linear-gradient(to left, rgba(0,102,255,0), rgba(0,102,255,0.6), #0066ff);
        }

        .reflection-beam.active {
            width: 350px;
        }

        /* Pit and land visualization */
        .pit-land-demo {
            position: relative;
            margin-top: 20px;
            background: rgba(0,0,0,0.9);
            border-radius: 10px;
            padding: 10px;
            display: none;
            width: 300px;
            z-index: 100;
            margin-left: auto;
            margin-right: auto;
        }

        .pit-land-demo.active {
            display: block;
        }

        .surface-view {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 40px;
            background: #333;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .pit, .land {
            height: 100%;
            transition: all 0.3s;
        }

        .land {
            background: linear-gradient(to bottom, #888, #aaa);
            width: 30px;
            position: relative;
        }

        .pit {
            background: linear-gradient(to bottom, #222, #444);
            width: 30px;
            height: 60%;
            margin-top: 20%;
            position: relative;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
        }

        .reflection-indicator {
            position: absolute;
            top: -20px;
            width: 30px;
            text-align: center;
            font-size: 12px;
            color: #00ff00;
            font-weight: bold;
        }

        /* Bit reading visualization */
        .bit-reader {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: #00ff00;
            padding: 10px 20px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 18px;
            min-width: 200px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }

        .bit-reader.active {
            opacity: 1;
        }

        /* Interactive disc selector */
        .disc-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .disc-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .disc-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent, rgba(255,255,255,0.3));
            transform: translateX(-100%);
            transition: transform 0.5s;
        }

        .disc-card:hover::before {
            transform: translateX(100%);
        }

        .disc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .disc-card.active {
            background: linear-gradient(135deg, #1976d2, #2196f3);
            color: white;
            transform: scale(1.05);
        }

        .disc-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        /* Storage calculator */
        .storage-calculator {
            background: #f5f5f5;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .calc-input {
            display: flex;
            gap: 20px;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .calc-input input {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            width: 150px;
        }

        .calc-input select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
        }

        .calc-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .calc-result-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .calc-result-card:hover {
            transform: translateY(-3px);
        }

        .calc-result-card h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .calc-result-card .number {
            font-size: 36px;
            font-weight: bold;
            color: #333;
        }

        .calc-result-card .unit {
            color: #666;
            font-size: 14px;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 40px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, #1976d2, #64b5f6);
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            position: relative;
        }

        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            width: 45%;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .timeline-content:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .timeline-point {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: #1976d2;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 0 3px rgba(25,118,210,0.3);
        }

        /* Comparison visualizer */
        .comparison-viz {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .viz-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .viz-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .viz-disc {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            border-radius: 50%;
            position: relative;
            animation: spin-slow 20s linear infinite;
        }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .viz-laser {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: laser-pulse 2s ease-in-out infinite;
        }

        .cd-laser { 
            background: #ff00ff; 
            box-shadow: 0 0 10px #ff00ff;
        }
        .dvd-laser { 
            background: #ff0000; 
            box-shadow: 0 0 10px #ff0000;
        }
        .bluray-laser { 
            background: #0066ff; 
            box-shadow: 0 0 10px #0066ff;
        }

        @keyframes laser-pulse {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            50% { 
                transform: translate(-50%, -50%) scale(2);
                opacity: 0.5;
            }
        }

        .capacity-bar {
            background: #e0e0e0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .capacity-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            transition: width 1s ease;
        }

        /* Enhanced Quiz */
        .quiz-container {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 20px;
            padding: 40px;
            color: white;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .quiz-container::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1), transparent);
            animation: rotate 20s linear infinite;
        }

        .question-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }

        .question-number {
            background: rgba(255,255,255,0.2);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .quiz-option {
            background: rgba(255,255,255,0.9);
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .quiz-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .quiz-option:hover::before {
            left: 100%;
        }

        .quiz-option:hover {
            transform: translateX(5px);
            box-shadow: -5px 5px 20px rgba(0,0,0,0.2);
        }

        .quiz-option.correct {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            animation: correct-answer 0.5s ease;
        }

        @keyframes correct-answer {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .quiz-option.incorrect {
            background: linear-gradient(135deg, #f44336, #e91e63);
            color: white;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Gamification elements */
        .streak-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
        }

        .streak-fire {
            font-size: 24px;
            animation: fire-dance 0.5s ease-in-out infinite alternate;
        }

        @keyframes fire-dance {
            from { transform: scale(1) rotate(-5deg); }
            to { transform: scale(1.2) rotate(5deg); }
        }

        .points-popup {
            position: fixed;
            color: #4caf50;
            font-size: 24px;
            font-weight: bold;
            pointer-events: none;
            z-index: 1000;
            animation: points-fly 1s ease-out forwards;
        }

        @keyframes points-fly {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(1.5);
            }
        }

        /* Sound toggle */
        .sound-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.95);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 1000;
            font-size: 24px;
            transition: all 0.3s;
        }

        .sound-toggle:hover {
            transform: scale(1.1);
        }

        .sound-toggle.muted {
            background: rgba(255,100,100,0.95);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .disc-container {
                width: 250px;
                height: 250px;
            }
            
            .timeline-item {
                flex-direction: column !important;
            }
            
            .timeline-content {
                width: 90%;
            }
            
            .comparison-viz {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }
        }

        /* Loading animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0e27;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-disc {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #1976d2, #64b5f6, #1976d2);
            animation: spin 1s linear infinite;
        }

        /* Sensor/Detector */
        .sensor {
            position: absolute;
            top: 50%;
            right: -30px;
            transform: translateY(-50%);
            width: 20px;
            height: 60px;
            background: linear-gradient(135deg, #666, #444);
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
        }

        .sensor-element {
            width: 12px;
            height: 12px;
            background: #222;
            border-radius: 2px;
            transition: all 0.3s;
        }

        .sensor-element.active {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }
        .hint-bubble {
            position: absolute;
            background: #fff3cd;
            color: #856404;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 14px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 100;
        }

        .hint-bubble.show {
            opacity: 1;
        }

        .hint-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #fff3cd;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="laser-grid"></div>
        <div class="floating-bits" id="floatingBits"></div>
    </div>

    <!-- Loading Screen -->
    <div class="loading" id="loadingScreen">
        <div class="loading-disc"></div>
    </div>

    <!-- Sound Toggle -->
    <div class="sound-toggle" id="soundToggle" onclick="toggleSound()">
        üîä
    </div>

    <!-- Streak Counter -->
    <div class="streak-counter" style="display: none;" id="streakCounter">
        <span class="streak-fire">üî•</span>
        <span id="streakCount">0</span> streak!
    </div>

    <!-- Main Container -->
    <div class="container">
        <div class="header">
            <h1>Optical Storage Adventure</h1>
            <p class="subtitle">Master the Technology of CDs, DVDs, and Blu-ray!</p>
        </div>

        <!-- Progress and Achievements -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
            <div class="progress-text">0% Complete</div>
        </div>

        <div class="achievements">
            <div class="achievement" data-achievement="explorer">
                üîç
                <span class="achievement-tooltip">Explorer: Try all disc types</span>
            </div>
            <div class="achievement" data-achievement="calculator">
                üßÆ
                <span class="achievement-tooltip">Calculator: Use the storage calculator</span>
            </div>
            <div class="achievement" data-achievement="historian">
                üìö
                <span class="achievement-tooltip">Historian: Read the timeline</span>
            </div>
            <div class="achievement" data-achievement="quiz-starter">
                ‚úèÔ∏è
                <span class="achievement-tooltip">Quiz Starter: Complete 5 questions</span>
            </div>
            <div class="achievement" data-achievement="quiz-master">
                üèÜ
                <span class="achievement-tooltip">Quiz Master: Score 90%+</span>
            </div>
            <div class="achievement" data-achievement="perfectionist">
                ‚≠ê
                <span class="achievement-tooltip">Perfectionist: Get 100%</span>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="main-content">
            <div class="tab-nav">
                <button class="tab-btn active" onclick="switchTab('explore', this)">üî¨ Explore</button>
                <button class="tab-btn" onclick="switchTab('compare', this)">üìä Compare</button>
                <button class="tab-btn" onclick="switchTab('calculate', this)">üßÆ Calculate</button>
                <button class="tab-btn" onclick="switchTab('history', this)">üìú History</button>
                <button class="tab-btn" onclick="switchTab('quiz', this)">üéØ Quiz</button>
            </div>

            <!-- Explore Tab -->
            <div class="tab-content active" id="explore-tab">
                <div class="disc-lab">
                    <h2 style="color: white; text-align: center; margin-bottom: 30px;">Interactive Disc Laboratory</h2>
                    
                    <div class="disc-selector">
                        <div class="disc-card active" onclick="selectDisc('cd')">
                            <div class="disc-icon">üíø</div>
                            <h3>CD</h3>
                            <p>700 MB</p>
                        </div>
                </div>
                        <div class="disc-card" onclick="selectDisc('dvd')">
                            <div class="disc-icon">üìÄ</div>
                            <h3>DVD</h3>
                            <p>4.7 GB</p>
                        </div>
                        <div class="disc-card" onclick="selectDisc('bluray')">
                            <div class="disc-icon">üíô</div>
                            <h3>Blu-ray</h3>
                            <p>25 GB</p>
                        </div>
                    </div>

                    <div style="text-align: center; color: white; margin-bottom: 10px;">
                        <small>Click the disc to switch types ‚Ä¢ Click the laser assembly to read data</small>
                    </div>
                    
                    <div class="disc-container">
                        <div class="disc cd" id="mainDisc">
                            <div class="disc-surface"></div>
                            <div class="disc-center"></div>
                            <div class="disc-hole"></div>
                            <!-- Data tracks -->
                            <div class="data-track" style="width: 200px; height: 200px; top: 75px; left: 75px;"></div>
                            <div class="data-track" style="width: 250px; height: 250px; top: 50px; left: 50px;"></div>
                            <div class="data-track" style="width: 300px; height: 300px; top: 25px; left: 25px;"></div>
                        </div>
                        <div class="laser-assembly" id="laserAssembly" onclick="activateLaser()" title="Click to activate laser">
                            <div class="laser-label">Laser & Sensor</div>
                            <div class="laser-lens cd" id="laserLens"></div>
                            <div class="sensor" title="Photodetector sensor">
                                <div class="sensor-element" id="sensor1"></div>
                                <div class="sensor-element" id="sensor2"></div>
                                <div class="sensor-element" id="sensor3"></div>
                            </div>
                        </div>
                        <div class="laser-beam cd" id="laserBeam"></div>
                        <div class="reflection-beam cd" id="reflectionBeam"></div>
                        <div class="bit-reader" id="bitReader">Reading: 01001000 01101001</div>
                        <div class="hint-bubble" id="hintBubble">Click the laser to read data!</div>
                    </div>
                    
                    <!-- Pit and Land Demonstration -->
                    <div class="pit-land-demo" id="pitLandDemo">
                            <div style="color: white; text-align: center; margin-bottom: 5px; font-size: 12px;">
                                Microscopic View of Disc Surface
                            </div>
                            <div class="surface-view">
                                <div class="land">
                                    <div class="reflection-indicator" style="color: #00ff00;">1</div>
                                </div>
                                <div class="pit">
                                    <div class="reflection-indicator" style="color: #ff0000;">0</div>
                                </div>
                                <div class="land">
                                    <div class="reflection-indicator" style="color: #00ff00;">1</div>
                                </div>
                                <div class="pit">
                                    <div class="reflection-indicator" style="color: #ff0000;">0</div>
                                </div>
                                <div class="land">
                                    <div class="reflection-indicator" style="color: #00ff00;">1</div>
                                </div>
                                <div class="land">
                                    <div class="reflection-indicator" style="color: #00ff00;">1</div>
                                </div>
                                <div class="pit">
                                    <div class="reflection-indicator" style="color: #ff0000;">0</div>
                                </div>
                                <div class="land">
                                    <div class="reflection-indicator" style="color: #00ff00;">1</div>
                                </div>
                            </div>
                            <div style="color: #aaa; text-align: center; margin-top: 5px; font-size: 11px;">
                                Lands reflect more light (1), Pits scatter light (0)
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 30px; background: #f5f5f5; padding: 20px; border-radius: 15px;">
                    <h3>How Optical Storage Works</h3>
                    <ol style="line-height: 1.8;">
                        <li><strong>Pits and Lands:</strong> Data is stored as microscopic pits (indentations) and lands (flat areas) on the disc surface.</li>
                        <li><strong>Laser Reading:</strong> A laser beam reflects differently off pits vs lands, creating binary data (0s and 1s).</li>
                        <li><strong>Spiral Track:</strong> Data is arranged in a continuous spiral from the center outward.</li>
                        <li><strong>Error Correction:</strong> Built-in error correction ensures data integrity even with minor scratches.</li>
                    </ol>
                    
                    <h3 style="margin-top: 20px;">Laser Colors Explained</h3>
                    <ul style="line-height: 1.8;">
                        <li><strong style="color: #ff00ff;">CD (Purple):</strong> Uses 780nm infrared laser - invisible to humans, shown as purple for visualization</li>
                        <li><strong style="color: #ff0000;">DVD (Red):</strong> Uses 650nm red laser - visible red light</li>
                        <li><strong style="color: #0066ff;">Blu-ray (Blue):</strong> Uses 405nm blue-violet laser - shorter wavelength allows more data</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><em>Shorter wavelengths = smaller pits = more data storage!</em></p>
                </div>
            </div>

            <!-- Compare Tab -->
            <div class="tab-content" id="compare-tab">
                <h2>Visual Comparison</h2>
                <div class="comparison-viz">
                    <div class="viz-card">
                        <h3>CD</h3>
                        <div class="viz-disc cd">
                            <div class="disc-surface"></div>
                            <div class="viz-laser cd-laser"></div>
                        </div>
                        <div class="specs">
                            <p><strong>Wavelength:</strong> 780nm</p>
                            <p><strong>Color:</strong> Infrared (Purple shown)</p>
                            <p><strong>Track Pitch:</strong> 1.6Œºm</p>
                        </div>
                        <div class="capacity-bar">
                            <div class="capacity-fill" style="width: 2.8%"></div>
                        </div>
                        <p>700 MB / 25 GB scale</p>
                    </div>

                    <div class="viz-card">
                        <h3>DVD</h3>
                        <div class="viz-disc dvd">
                            <div class="disc-surface"></div>
                            <div class="viz-laser dvd-laser"></div>
                        </div>
                        <div class="specs">
                            <p><strong>Wavelength:</strong> 650nm</p>
                            <p><strong>Color:</strong> Red</p>
                            <p><strong>Track Pitch:</strong> 0.74Œºm</p>
                        </div>
                        <div class="capacity-bar">
                            <div class="capacity-fill" style="width: 18.8%"></div>
                        </div>
                        <p>4.7 GB / 25 GB scale</p>
                    </div>

                    <div class="viz-card">
                        <h3>Blu-ray</h3>
                        <div class="viz-disc bluray">
                            <div class="disc-surface"></div>
                            <div class="viz-laser bluray-laser"></div>
                        </div>
                        <div class="specs">
                            <p><strong>Wavelength:</strong> 405nm</p>
                            <p><strong>Color:</strong> Blue-violet</p>
                            <p><strong>Track Pitch:</strong> 0.32Œºm</p>
                        </div>
                        <div class="capacity-bar">
                            <div class="capacity-fill" style="width: 100%"></div>
                        </div>
                        <p>25 GB / 25 GB scale</p>
                    </div>
                </div>

                <div style="margin-top: 30px;">
                    <h3>Benefits vs Drawbacks</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div style="background: #e8f5e9; padding: 20px; border-radius: 10px;">
                            <h4 style="color: #2e7d32;">‚úì Benefits</h4>
                            <ul style="line-height: 1.8;">
                                <li>Cheap per byte to manufacture</li>
                                <li>Very portable - lightweight & small</li>
                                <li>Excellent for archiving data</li>
                                <li>No power needed for storage</li>
                                <li>Wide compatibility</li>
                            </ul>
                        </div>
                        <div style="background: #ffebee; padding: 20px; border-radius: 10px;">
                            <h4 style="color: #c62828;">‚úó Drawbacks</h4>
                            <ul style="line-height: 1.8;">
                                <li>Limited storage vs HDDs/SSDs</li>
                                <li>Easily scratched or damaged</li>
                                <li>Requires disc reader/drive</li>
                                <li>Slow write speeds</li>
                                <li>Some types write-once only (CD-R, DVD-R)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calculate Tab -->
            <div class="tab-content" id="calculate-tab">
                <h2>Storage Calculator</h2>
                <div class="storage-calculator">
                    <h3>How many discs do you need?</h3>
                    <div class="calc-input">
                        <input type="number" id="fileSize" placeholder="File size" value="10">
                        <select id="fileSizeUnit">
                            <option value="MB">MB</option>
                            <option value="GB" selected>GB</option>
                            <option value="TB">TB</option>
                        </select>
                        <button class="btn btn-primary" onclick="calculateStorage()">Calculate</button>
                    </div>
                    
                    <div class="calc-results" id="calcResults">
                        <div class="calc-result-card">
                            <h4>CDs Needed</h4>
                            <div class="number" id="cdsNeeded">15</div>
                            <div class="unit">discs @ 700MB each</div>
                        </div>
                        <div class="calc-result-card">
                            <h4>DVDs Needed</h4>
                            <div class="number" id="dvdsNeeded">3</div>
                            <div class="unit">discs @ 4.7GB each</div>
                        </div>
                        <div class="calc-result-card">
                            <h4>Blu-rays Needed</h4>
                            <div class="number" id="bluraysNeeded">1</div>
                            <div class="unit">discs @ 25GB each</div>
                        </div>
                    </div>

                    <h3 style="margin-top: 40px;">Cost Comparison</h3>
                    <div class="calc-results">
                        <div class="calc-result-card">
                            <h4>CD Cost</h4>
                            <div class="number">¬£<span id="cdCost">3.75</span></div>
                            <div class="unit">@ ¬£0.25 per disc</div>
                        </div>
                        <div class="calc-result-card">
                            <h4>DVD Cost</h4>
                            <div class="number">¬£<span id="dvdCost">1.50</span></div>
                            <div class="unit">@ ¬£0.50 per disc</div>
                        </div>
                        <div class="calc-result-card">
                            <h4>Blu-ray Cost</h4>
                            <div class="number">¬£<span id="blurayCost">1.00</span></div>
                            <div class="unit">@ ¬£1.00 per disc</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div class="tab-content" id="history-tab">
                <h2>Evolution of Optical Storage</h2>
                <div class="timeline">
                    <div class="timeline-line"></div>
                    
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>1982 - CD Launch</h3>
                            <p>Sony and Philips release the Compact Disc, revolutionizing music distribution with 74 minutes of audio.</p>
                        </div>
                        <div class="timeline-point"></div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>1988 - CD-ROM</h3>
                            <p>CD-ROM drives bring 650-700MB of data storage to computers, enabling multimedia software.</p>
                        </div>
                        <div class="timeline-point"></div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>1997 - DVD Arrives</h3>
                            <p>DVD launches with 4.7GB capacity, enabling full movies with superior quality and bonus features.</p>
                        </div>
                        <div class="timeline-point"></div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>2006 - Blu-ray Era</h3>
                            <p>Blu-ray wins the HD format war, offering 25-50GB for high-definition video and large data backups.</p>
                        </div>
                        <div class="timeline-point"></div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>Today - Legacy Use</h3>
                            <p>While streaming dominates, optical media remains vital for archiving, physical media collections, and areas with limited internet.</p>
                        </div>
                        <div class="timeline-point"></div>
                    </div>
                </div>
            </div>

            <!-- Quiz Tab -->
            <div class="tab-content" id="quiz-tab">
                <div class="quiz-container">
                    <h2 style="text-align: center;">Ultimate Optical Storage Challenge</h2>
                    <p style="text-align: center; margin-bottom: 30px;">Test your knowledge and earn achievements!</p>
                    
                    <div id="quizContent" style="position: relative; z-index: 10;">
                        <!-- Quiz content will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize variables
        let soundEnabled = true;
        let currentDisc = 'cd';
        let achievements = {
            explorer: false,
            calculator: false,
            historian: false,
            'quiz-starter': false,
            'quiz-master': false,
            perfectionist: false
        };
        
        // Make functions globally accessible
        window.switchTab = switchTab;
        window.selectDisc = selectDisc;
        window.activateLaser = activateLaser;
        window.calculateStorage = calculateStorage;
        window.startQuiz = startQuiz;
        window.selectQuizAnswer = selectQuizAnswer;
        window.nextQuestion = nextQuestion;
        window.finishQuiz = finishQuiz;
        window.toggleSound = toggleSound;
        window.unlockAchievement = unlockAchievement;
        window.playSound = playSound;
        window.playSuccessSound = playSuccessSound;
        window.playErrorSound = playErrorSound;
        window.playClickSound = playClickSound;
        window.playAchievementSound = playAchievementSound;
        window.createFloatingBits = createFloatingBits;
        window.updateProgress = updateProgress;
        window.updateStreak = updateStreak;
        let exploredDiscs = new Set();
        let quizScore = 0;
        let questionsAnswered = 0;
        let currentStreak = 0;
        let totalProgress = 0;

        // Sound effects (using Web Audio API)
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(frequency, duration, type = 'sine') {
            if (!soundEnabled) return;
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.type = type;
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playSuccessSound() {
            playSound(523.25, 0.1); // C5
            setTimeout(() => playSound(659.25, 0.1), 100); // E5
            setTimeout(() => playSound(783.99, 0.2), 200); // G5
        }

        function playErrorSound() {
            playSound(200, 0.3, 'sawtooth');
        }

        function playClickSound() {
            playSound(800, 0.05);
        }

        function playAchievementSound() {
            playSound(440, 0.1); // A4
            setTimeout(() => playSound(554.37, 0.1), 100); // C#5
            setTimeout(() => playSound(659.25, 0.1), 200); // E5
            setTimeout(() => playSound(880, 0.3), 300); // A5
        }

        // Initialize floating bits
        function createFloatingBits() {
            const container = document.getElementById('floatingBits');
            const bits = ['0', '1'];
            
            setInterval(() => {
                const bit = document.createElement('div');
                bit.className = 'bit';
                bit.textContent = bits[Math.floor(Math.random() * 2)];
                bit.style.left = Math.random() * 100 + '%';
                bit.style.animationDuration = (5 + Math.random() * 5) + 's';
                bit.style.fontSize = (14 + Math.random() * 10) + 'px';
                container.appendChild(bit);
                
                setTimeout(() => bit.remove(), 10000);
            }, 500);
        }

        // Tab switching
        function switchTab(tabName, button) {
            playClickSound();
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            button.classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Check achievements
            if (tabName === 'history' && !achievements.historian) {
                unlockAchievement('historian');
            }
            
            updateProgress();
        }

        // Disc selection
        function selectDisc(type) {
            playClickSound();
            currentDisc = type;
            exploredDiscs.add(type);
            
            // Update disc appearance
            const disc = document.getElementById('mainDisc');
            disc.className = 'disc ' + type;
            
            // Update laser color
            const laserLens = document.getElementById('laserLens');
            const laserBeam = document.getElementById('laserBeam');
            const reflectionBeam = document.getElementById('reflectionBeam');
            
            laserLens.className = 'laser-lens ' + type;
            laserBeam.className = 'laser-beam ' + type;
            reflectionBeam.className = 'reflection-beam ' + type;
            
            // Reset laser if active
            if (laserActive) {
                laserBeam.classList.add('active');
                reflectionBeam.classList.add('active');
            }
            
            // Update disc cards
            document.querySelectorAll('.disc-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.disc-card').classList.add('active');
            
            // Check explorer achievement
            if (exploredDiscs.size === 3 && !achievements.explorer) {
                unlockAchievement('explorer');
            }
            
            // Show hint
            const hint = document.getElementById('hintBubble');
            hint.classList.add('show');
            setTimeout(() => hint.classList.remove('show'), 3000);
        }

        // Laser activation
        let laserActive = false;
        function activateLaser() {
            playClickSound();
            laserActive = !laserActive;
            
            const assembly = document.getElementById('laserAssembly');
            const beam = document.getElementById('laserBeam');
            const reflectionBeam = document.getElementById('reflectionBeam');
            const reader = document.getElementById('bitReader');
            const pitLandDemo = document.getElementById('pitLandDemo');
            
            if (laserActive) {
                assembly.classList.add('active');
                beam.classList.add('active');
                reflectionBeam.classList.add('active');
                reader.classList.add('active');
                pitLandDemo.classList.add('active');
                
                // Animate pit/land indicators
                const indicators = pitLandDemo.querySelectorAll('.reflection-indicator');
                indicators.forEach((indicator, index) => {
                    setTimeout(() => {
                        indicator.style.opacity = '0';
                        setTimeout(() => {
                            indicator.style.opacity = '1';
                        }, 100);
                    }, index * 200);
                });
                
                // Animate sensor
                const sensors = document.querySelectorAll('.sensor-element');
                let sensorInterval = setInterval(() => {
                    if (!laserActive) {
                        clearInterval(sensorInterval);
                        sensors.forEach(s => s.classList.remove('active'));
                        return;
                    }
                    
                    sensors.forEach(s => s.classList.remove('active'));
                    const randomSensor = sensors[Math.floor(Math.random() * sensors.length)];
                    randomSensor.classList.add('active');
                }, 300);
                
                // Simulate bit reading
                let bitInterval = setInterval(() => {
                    if (!laserActive) {
                        clearInterval(bitInterval);
                        return;
                    }
                    
                    let bits = '';
                    for (let i = 0; i < 16; i++) {
                        bits += Math.random() > 0.5 ? '1' : '0';
                        if (i === 7) bits += ' ';
                    }
                    reader.textContent = 'Reading: ' + bits;
                }, 200);
            } else {
                assembly.classList.remove('active');
                beam.classList.remove('active');
                reflectionBeam.classList.remove('active');
                reader.classList.remove('active');
                pitLandDemo.classList.remove('active');
                
                // Deactivate sensors
                const sensors = document.querySelectorAll('.sensor-element');
                sensors.forEach(s => s.classList.remove('active'));
            }
        }

        // Storage calculator
        function calculateStorage() {
            playClickSound();
            
            const size = parseFloat(document.getElementById('fileSize').value);
            const unit = document.getElementById('fileSizeUnit').value;
            
            // Convert to MB
            let sizeInMB = size;
            if (unit === 'GB') sizeInMB = size * 1024;
            if (unit === 'TB') sizeInMB = size * 1024 * 1024;
            
            // Calculate discs needed
            const cdsNeeded = Math.ceil(sizeInMB / 700);
            const dvdsNeeded = Math.ceil(sizeInMB / 4812.8); // 4.7 * 1024
            const bluraysNeeded = Math.ceil(sizeInMB / 25600); // 25 * 1024
            
            // Update display
            document.getElementById('cdsNeeded').textContent = cdsNeeded;
            document.getElementById('dvdsNeeded').textContent = dvdsNeeded;
            document.getElementById('bluraysNeeded').textContent = bluraysNeeded;
            
            // Calculate costs
            document.getElementById('cdCost').textContent = (cdsNeeded * 0.25).toFixed(2);
            document.getElementById('dvdCost').textContent = (dvdsNeeded * 0.50).toFixed(2);
            document.getElementById('blurayCost').textContent = (bluraysNeeded * 1.00).toFixed(2);
            
            // Achievement
            if (!achievements.calculator) {
                unlockAchievement('calculator');
            }
            
            // Add visual feedback
            document.querySelectorAll('.calc-result-card').forEach(card => {
                card.style.transform = 'scale(0)';
                setTimeout(() => {
                    card.style.transform = 'scale(1)';
                }, 100);
            });
        }

        // Quiz system
        const quizQuestions = [
            {
                question: "What type of storage is optical storage?",
                options: ["Primary storage", "Secondary storage", "Cache memory", "RAM"],
                correct: 1,
                explanation: "Optical storage is secondary storage - non-volatile storage for long-term data retention."
            },
            {
                question: "What technology does optical storage use to read data?",
                options: ["Magnetic fields", "Electrical current", "Laser light", "Radio waves"],
                correct: 2,
                explanation: "Optical storage uses laser light to read pits and lands on the disc surface."
            },
            {
                question: "Which has the SMALLEST storage capacity?",
                options: ["CD", "DVD", "Blu-ray", "All are equal"],
                correct: 0,
                explanation: "CD has only 700MB, while DVD has 4.7GB and Blu-ray has 25GB (single layer)."
            },
            {
                question: "Why can Blu-ray store more data than DVD?",
                options: ["Larger disc size", "Faster spinning", "Shorter wavelength laser", "Magnetic technology"],
                correct: 2,
                explanation: "Blu-ray uses a 405nm blue-violet laser vs DVD's 650nm red laser, allowing smaller pits."
            },
            {
                question: "What does 'DVD-R' mean?",
                options: ["DVD-Rewritable", "DVD-Recordable (write once)", "DVD-Random", "DVD-Red laser"],
                correct: 1,
                explanation: "DVD-R is DVD-Recordable - it can only be written to once, unlike DVD-RW."
            },
            {
                question: "Which is NOT a benefit of optical storage?",
                options: ["Cheap to manufacture", "Very portable", "Fast write speeds", "Good for archiving"],
                correct: 2,
                explanation: "Optical storage has SLOW write speeds compared to SSDs and HDDs."
            },
            {
                question: "What is a major drawback of optical discs?",
                options: ["Need constant power", "Easily scratched", "Very expensive", "Large physical size"],
                correct: 1,
                explanation: "Optical discs are easily damaged by scratches, which can make data unreadable."
            },
            {
                question: "What is required to use optical storage?",
                options: ["Internet connection", "Disc reader/drive", "Special software", "Cooling system"],
                correct: 1,
                explanation: "You need a disc reader/drive, unlike USB drives that plug directly into ports."
            },
            {
                question: "How is data stored on an optical disc?",
                options: ["Magnetic particles", "Electrical charges", "Pits and lands", "Chemical reactions"],
                correct: 2,
                explanation: "Data is stored as microscopic pits (indentations) and lands (flat areas)."
            },
            {
                question: "Which format is most cost-effective for 3GB of data?",
                options: ["Multiple CDs", "One DVD", "One Blu-ray", "Multiple Blu-rays"],
                correct: 1,
                explanation: "One DVD (4.7GB) is cheaper than Blu-ray and avoids needing multiple CDs."
            },
            {
                question: "What color is a CD's laser?",
                options: ["Blue", "Red", "Green", "Infrared (invisible)"],
                correct: 3,
                explanation: "CDs use an infrared laser at 780nm wavelength, which is invisible to humans."
            },
            {
                question: "How much data can a standard single-layer DVD store?",
                options: ["700 MB", "4.7 GB", "8.5 GB", "25 GB"],
                correct: 1,
                explanation: "A single-layer DVD stores 4.7 GB. Dual-layer DVDs can store 8.5 GB."
            },
            {
                question: "Why is optical storage good for archiving?",
                options: ["Fast access speed", "Low cost & long shelf life", "Constant rewriting", "No storage requirements"],
                correct: 1,
                explanation: "Optical media is cheap and can last decades when stored properly."
            },
            {
                question: "What happens when a laser hits a pit on a disc?",
                options: ["Reflects more light", "Reflects less light", "No reflection", "Burns the disc"],
                correct: 1,
                explanation: "Pits scatter the laser light, reflecting less back than the flat lands."
            },
            {
                question: "Which statement about optical storage is TRUE?",
                options: ["Fastest storage type", "Highest capacity", "Very portable", "Needs power to store data"],
                correct: 2,
                explanation: "Optical discs are thin, lightweight, and highly portable."
            }
        ];

        let currentQuestion = 0;
        let quizStarted = false;
        let userAnswers = [];

        function startQuiz() {
            console.log('Starting quiz...');
            playClickSound();
            quizStarted = true;
            currentQuestion = 0;
            quizScore = 0;
            questionsAnswered = 0;
            userAnswers = [];
            currentStreak = 0;
            document.getElementById('streakCounter').style.display = 'flex';
            displayQuestion();
        }

        function displayQuestion() {
            console.log('Displaying question:', currentQuestion);
            const quizContent = document.getElementById('quizContent');
            if (!quizContent) {
                console.error('Quiz content element not found');
                return;
            }
            
            const question = quizQuestions[currentQuestion];
            
            let html = `
                <div class="question-card">
                    <div class="question-number">${currentQuestion + 1}</div>
                    <h3>${question.question}</h3>
                    <div class="quiz-options">
            `;
            
            question.options.forEach((option, index) => {
                html += `
                    <div class="quiz-option" onclick="selectQuizAnswer(${index})">
                        ${option}
                    </div>
                `;
            });
            
            html += `
                    </div>
                    <div id="feedback" style="margin-top: 20px;"></div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-primary" id="nextQuestionBtn" onclick="nextQuestion()" style="display: none;">
                        ${currentQuestion < quizQuestions.length - 1 ? 'Next Question' : 'Finish Quiz'}
                    </button>
                </div>
            `;
            
            quizContent.innerHTML = html;
        }

        function selectQuizAnswer(index) {
            const options = document.querySelectorAll('.quiz-option');
            const question = quizQuestions[currentQuestion];
            
            // Disable further selection
            options.forEach(opt => {
                opt.onclick = null;
                opt.style.cursor = 'default';
            });
            
            userAnswers[currentQuestion] = index;
            questionsAnswered++;
            
            if (index === question.correct) {
                options[index].classList.add('correct');
                playSuccessSound();
                quizScore++;
                currentStreak++;
                updateStreak();
                showPoints('+100', event.pageX, event.pageY);
                
                document.getElementById('feedback').innerHTML = `
                    <div style="color: #4caf50; font-weight: bold;">
                        ‚úì Correct! ${question.explanation}
                    </div>
                `;
            } else {
                options[index].classList.add('incorrect');
                options[question.correct].classList.add('correct');
                playErrorSound();
                currentStreak = 0;
                updateStreak();
                
                document.getElementById('feedback').innerHTML = `
                    <div style="color: #f44336; font-weight: bold;">
                        ‚úó Incorrect. ${question.explanation}
                    </div>
                `;
            }
            
            document.getElementById('nextQuestionBtn').style.display = 'inline-block';
            
            // Check achievements
            if (questionsAnswered === 5 && !achievements['quiz-starter']) {
                unlockAchievement('quiz-starter');
            }
        }

        function nextQuestion() {
            playClickSound();
            
            if (currentQuestion < quizQuestions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            
            let message = '';
            if (percentage === 100) {
                message = 'üåü PERFECT SCORE! You are an optical storage master!';
                if (!achievements.perfectionist) {
                    unlockAchievement('perfectionist');
                }
            } else if (percentage >= 90) {
                message = 'üèÜ Excellent! You have mastered optical storage!';
                if (!achievements['quiz-master']) {
                    unlockAchievement('quiz-master');
                }
            } else if (percentage >= 70) {
                message = 'üëç Good job! You have a solid understanding.';
            } else if (percentage >= 50) {
                message = 'üìö Not bad! Review the topics you missed.';
            } else {
                message = 'üí™ Keep studying - you\'ll get there!';
            }
            
            const quizContent = document.getElementById('quizContent');
            quizContent.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>Quiz Complete!</h2>
                    <div style="font-size: 48px; margin: 20px 0;">
                        ${quizScore} / ${quizQuestions.length}
                    </div>
                    <div style="font-size: 36px; margin: 20px 0;">
                        ${percentage}%
                    </div>
                    <p style="font-size: 20px; margin: 20px 0;">${message}</p>
                    <button class="btn btn-primary" onclick="startQuiz()">Try Again</button>
                </div>
            `;
            
            updateProgress();
        }

        // Achievement system
        function unlockAchievement(id) {
            achievements[id] = true;
            const element = document.querySelector(`[data-achievement="${id}"]`);
            element.classList.add('unlocked');
            playAchievementSound();
            
            // Show notification
            showPoints('üèÜ Achievement Unlocked!', window.innerWidth / 2, 100);
            
            updateProgress();
        }

        function updateProgress() {
            const total = Object.keys(achievements).length;
            const unlocked = Object.values(achievements).filter(a => a).length;
            const exploredCount = exploredDiscs.size;
            
            // Calculate overall progress
            const achievementProgress = (unlocked / total) * 50;
            const explorationProgress = (exploredCount / 3) * 30;
            const quizProgress = Math.min((questionsAnswered / 10) * 20, 20);
            
            totalProgress = achievementProgress + explorationProgress + quizProgress;
            
            const progressFill = document.getElementById('progressFill');
            const progressText = document.querySelector('.progress-text');
            
            progressFill.style.width = totalProgress + '%';
            progressText.textContent = Math.round(totalProgress) + '% Complete';
        }

        function updateStreak() {
            const streakCount = document.getElementById('streakCount');
            streakCount.textContent = currentStreak;
            
            if (currentStreak === 0) {
                document.getElementById('streakCounter').style.display = 'none';
            }
        }

        function showPoints(text, x, y) {
            const popup = document.createElement('div');
            popup.className = 'points-popup';
            popup.textContent = text;
            popup.style.left = x + 'px';
            popup.style.top = y + 'px';
            document.body.appendChild(popup);
            
            setTimeout(() => popup.remove(), 1000);
        }

        // Sound toggle
        function toggleSound() {
            soundEnabled = !soundEnabled;
            const toggle = document.getElementById('soundToggle');
            toggle.textContent = soundEnabled ? 'üîä' : 'üîá';
            toggle.classList.toggle('muted', !soundEnabled);
            playClickSound();
        }

        // Initialize
        window.onload = function() {
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
            }, 1000);
            
            // Start floating bits
            createFloatingBits();
            
            // Initialize on load
            calculateStorage();
            
            // Set initial laser color
            const laserLens = document.getElementById('laserLens');
            const laserBeam = document.getElementById('laserBeam');
            const reflectionBeam = document.getElementById('reflectionBeam');
            laserLens.className = 'laser-lens cd';
            laserBeam.className = 'laser-beam cd';
            reflectionBeam.className = 'reflection-beam cd';
            
            // Initialize quiz
            const quizContent = document.getElementById('quizContent');
            if (quizContent) {
                quizContent.innerHTML = `
                    <div style="text-align: center; padding: 40px; position: relative; z-index: 10;">
                        <h3>Ready to test your knowledge?</h3>
                        <p style="margin: 20px 0;">15 questions covering all aspects of optical storage for OCR J277.</p>
                        <button class="btn btn-primary" onclick="startQuiz()" style="position: relative; z-index: 20;">Start Quiz</button>
                    </div>
                `;
            }
        };
    </script>
</body>
</html>