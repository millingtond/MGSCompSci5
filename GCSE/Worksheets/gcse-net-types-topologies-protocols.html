<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Protocols - GCSE Computer Science</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
            --text-color: #1f2937;
            --bg-color: #ffffff;
            --card-bg: #f3f4f6;
            --border-color: #e5e7eb;
            --font-size: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            font-size: var(--font-size);
            position: relative;
            overflow-x: hidden;
        }

        .high-contrast {
            --primary-color: #0000ff;
            --secondary-color: #008000;
            --error-color: #ff0000;
            --warning-color: #ff8800;
            --text-color: #000000;
            --bg-color: #ffffff;
            --card-bg: #f0f0f0;
            --border-color: #000000;
        }

        .dyslexia-font {
            font-family: 'Comic Sans MS', 'OpenDyslexic', sans-serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            animation: slideInDown 0.5s ease-out;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            animation: slideInUp 0.5s ease-out;
        }

        .stats-bar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px;
            margin: 20px 0;
            border-radius: 10px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
            margin: 5px 15px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .xp-bar {
            width: 200px;
            height: 20px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }

        .xp-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .navigation {
            position: sticky;
            top: 0;
            background: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            padding: 10px 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 8px 16px;
            border: none;
            background: var(--card-bg);
            color: var(--text-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .nav-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .nav-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.4em;
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .task-points {
            background: var(--secondary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .drag-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .drag-items, .drop-zones {
            flex: 1;
            min-width: 250px;
        }

        .draggable {
            background: white;
            border: 2px solid var(--primary-color);
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: move;
            transition: all 0.3s ease;
            position: relative;
        }

        .draggable:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .draggable.dragging {
            opacity: 0.5;
            transform: scale(1.05);
        }

        .drop-zone {
            min-height: 60px;
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            background: rgba(37, 99, 235, 0.05);
            transition: all 0.3s ease;
            position: relative;
        }

        .drop-zone.drag-over {
            border-color: var(--primary-color);
            background: rgba(37, 99, 235, 0.1);
            transform: scale(1.02);
        }

        .drop-zone.correct {
            border-color: var(--secondary-color);
            background: rgba(16, 185, 129, 0.1);
        }

        .drop-zone.incorrect {
            border-color: var(--error-color);
            background: rgba(239, 68, 68, 0.1);
            animation: shake 0.5s ease-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 5px;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.secondary {
            background: var(--secondary-color);
        }

        .btn.secondary:hover {
            background: #059669;
        }

        .btn-reset {
            background: var(--warning-color);
            font-size: 0.9em;
            padding: 8px 16px;
        }

        .btn-reset:hover {
            background: #dc2626;
        }

        .feedback-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .feedback-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .feedback-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            animation: fadeIn 0.3s ease-out;
        }

        .feedback-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            animation: slideInUp 0.3s ease-out;
        }

        .input-field {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1em;
            margin: 10px 0;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        textarea.input-field {
            resize: vertical;
            min-height: 100px;
        }

        .quiz-question {
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .quiz-options {
            margin: 15px 0;
        }

        .quiz-option {
            display: block;
            padding: 10px;
            margin: 5px 0;
            background: var(--card-bg);
            border: 2px solid transparent;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--primary-color);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            background: rgba(37, 99, 235, 0.1);
            border-color: var(--primary-color);
        }

        .quiz-option.correct {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--secondary-color);
        }

        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--error-color);
        }

        .achievement-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transform: translateX(400px);
            transition: transform 0.5s ease-out;
            z-index: 1500;
            max-width: 300px;
        }

        .achievement-popup.show {
            transform: translateX(0);
        }

        .achievement-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .hint-box {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--warning-color);
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            display: none;
        }

        .hint-toggle {
            background: var(--warning-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .simulation-container {
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .packet {
            position: absolute;
            width: 40px;
            height: 30px;
            background: var(--primary-color);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8em;
            transition: all 0.5s ease;
        }

        .server, .client {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            position: absolute;
        }

        .server {
            background: var(--secondary-color);
            top: 20px;
            right: 20px;
        }

        .client {
            background: var(--primary-color);
            bottom: 20px;
            left: 20px;
        }

        .protocol-badge {
            display: inline-block;
            padding: 5px 10px;
            background: var(--primary-color);
            color: white;
            border-radius: 20px;
            font-size: 0.8em;
            margin: 2px;
        }

        .protocol-badge.secure {
            background: var(--secondary-color);
        }

        .protocol-badge.insecure {
            background: var(--error-color);
        }

        .canvas-container {
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            margin: 20px 0;
            position: relative;
        }

        #drawingCanvas {
            cursor: crosshair;
            touch-action: none;
        }

        .canvas-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .accessibility-controls {
            position: fixed;
            top: 20px;
            left: 20px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .font-size-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 5px 0;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
            background: var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle-switch.active {
            background: var(--primary-color);
        }

        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .toggle-switch.active .toggle-slider {
            transform: translateX(26px);
        }

        .shame-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--error-color);
            color: white;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.2em;
            z-index: 3000;
            display: none;
            animation: shake 0.5s ease-out;
        }

        .loading-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .particle {
            position: fixed;
            pointer-events: none;
            opacity: 0;
            z-index: 2000;
        }

        @keyframes particleAnimation {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(0);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(1);
            }
        }

        /* Mobile responsive styles */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 1.8em;
            }

            .drag-container {
                flex-direction: column;
            }

            .nav-buttons {
                flex-wrap: wrap;
            }

            .stats-bar {
                flex-direction: column;
            }

            .feedback-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .accessibility-controls {
                position: static;
                margin-bottom: 20px;
            }
        }

        /* Print styles */
        @media print {
            .navigation, .feedback-btn, .accessibility-controls {
                display: none;
            }

            .section {
                display: block !important;
                page-break-after: always;
            }

            body {
                color: black;
                background: white;
            }
        }

        /* Focus styles for keyboard navigation */
        *:focus {
            outline: 3px solid var(--primary-color);
            outline-offset: 2px;
        }

        /* Skip to content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 0 0 5px 0;
        }

        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Accessibility Controls -->
    <div class="accessibility-controls" role="region" aria-label="Accessibility controls">
        <h4>Accessibility</h4>
        <div class="font-size-controls">
            <button class="btn" onclick="changeFontSize(-2)" aria-label="Decrease font size">A-</button>
            <span>Font Size</span>
            <button class="btn" onclick="changeFontSize(2)" aria-label="Increase font size">A+</button>
        </div>
        <label>
            <input type="checkbox" onchange="toggleHighContrast()" aria-label="Toggle high contrast mode">
            High Contrast
        </label>
        <br>
        <label>
            <input type="checkbox" onchange="toggleDyslexiaFont()" aria-label="Toggle dyslexia-friendly font">
            Dyslexia Font
        </label>
    </div>

    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>Network Protocols</h1>
            <p class="subtitle">GCSE Computer Science - OCR J277</p>
            <div class="stats-bar" role="status" aria-live="polite">
                <div class="stat-item">
                    <span class="stat-value" id="xpValue">0</span>
                    <span class="stat-label">XP</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="levelValue">0</span>
                    <span class="stat-label">Level</span>
                </div>
                <div class="stat-item">
                    <div class="xp-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        <div class="xp-fill" id="xpBar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="achievementCount">0</span>
                    <span class="stat-label">Achievements</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navigation" role="navigation" aria-label="Section navigation">
        <div class="container">
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="navigateToSection(0)" aria-label="Go to Starter">Starter</button>
                <button class="nav-btn" onclick="navigateToSection(1)" aria-label="Go to HTTP & HTTPS">HTTP/HTTPS</button>
                <button class="nav-btn" onclick="navigateToSection(2)" aria-label="Go to TCP/IP">TCP/IP</button>
                <button class="nav-btn" onclick="navigateToSection(3)" aria-label="Go to Email Protocols">Email</button>
                <button class="nav-btn" onclick="navigateToSection(4)" aria-label="Go to FTP">FTP</button>
                <button class="nav-btn" onclick="navigateToSection(5)" aria-label="Go to Wired & Ethernet">Wired</button>
                <button class="nav-btn" onclick="navigateToSection(6)" aria-label="Go to Summary">Summary</button>
                <button class="nav-btn" onclick="navigateToSection(7)" aria-label="Go to Exam Practice">Exam</button>
                <button class="nav-btn" onclick="navigateToSection(8)" aria-label="Go to Extension">Extension</button>
                <button class="nav-btn" onclick="navigateToSection(9)" aria-label="Go to Videos">Videos</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content" class="container">
        <!-- Section 0: Starter Activity -->
        <section class="section active" id="section-0">
            <div class="card">
                <div class="task-header">
                    <h2>Starter Activity: Protocol Matching Challenge</h2>
                    <span class="task-points">10 XP</span>
                </div>
                <p>Welcome! Let's begin by testing your knowledge of network protocols. Drag each protocol to its correct description.</p>
                
                <button class="hint-toggle" onclick="toggleHint('hint-starter')">Need a hint? (-2 XP)</button>
                <div id="hint-starter" class="hint-box">
                    Think about what each acronym stands for. HTTP deals with web pages, TCP with connections, and SMTP with sending emails.
                </div>

                <div class="drag-container">
                    <div class="drag-items">
                        <h3>Protocols</h3>
                        <div id="starterProtocols"></div>
                    </div>
                    <div class="drop-zones">
                        <h3>Descriptions</h3>
                        <div id="starterDescriptions"></div>
                    </div>
                </div>
                
                <button class="btn" onclick="checkStarterAnswers()">Check Answers</button>
                <button class="btn-reset" onclick="resetStarter()">Reset</button>
            </div>
        </section>

        <!-- Section 1: HTTP & HTTPS -->
        <section class="section" id="section-1">
            <div class="card">
                <div class="task-header">
                    <h2>HTTP & HTTPS: Web Security</h2>
                    <span class="task-points">15 XP</span>
                </div>
                
                <h3>Interactive Simulation: Secure vs Insecure Connection</h3>
                <div class="simulation-container" style="height: 300px;">
                    <div class="server">Server</div>
                    <div class="client">Client</div>
                    <div id="connectionLine" style="position: absolute; width: 2px; background: #ccc; transform-origin: top left;"></div>
                    <div id="dataPacket" class="packet" style="display: none;">Data</div>
                    <div style="position: absolute; top: 10px; left: 10px;">
                        <button class="btn" onclick="simulateHTTP()">Simulate HTTP</button>
                        <button class="btn secondary" onclick="simulateHTTPS()">Simulate HTTPS</button>
                    </div>
                    <div id="simulationStatus" style="position: absolute; bottom: 10px; left: 10px; right: 10px; text-align: center;"></div>
                </div>

                <h3>Fill in the Blanks</h3>
                <p>Complete the sentences by selecting the correct words from the options below.</p>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <p>HTTP stands for <select class="input-field" id="blank1" style="width: 200px;">
                        <option value="">Choose...</option>
                    </select> and is used to transmit <select class="input-field" id="blank2" style="width: 150px;">
                        <option value="">Choose...</option>
                    </select> from web servers to clients.</p>
                    
                    <p>HTTPS is the <select class="input-field" id="blank3" style="width: 150px;">
                        <option value="">Choose...</option>
                    </select> version of HTTP. It uses <select class="input-field" id="blank4" style="width: 150px;">
                        <option value="">Choose...</option>
                    </select> to protect data during transmission.</p>
                </div>
                
                <button class="btn" onclick="checkFillBlanks()">Check Answers</button>
                <button class="btn-reset" onclick="resetFillBlanks()">Reset</button>

                <h3>True or False</h3>
                <div id="trueFalseQuestions"></div>

                <button class="btn" onclick="checkTrueFalse()">Check Answers</button>
                <button class="btn-reset" onclick="resetSection1()">Reset Section</button>
            </div>
        </section>

        <!-- Section 2: TCP/IP -->
        <section class="section" id="section-2">
            <div class="card">
                <div class="task-header">
                    <h2>TCP/IP: The Foundation of Internet</h2>
                    <span class="task-points">20 XP</span>
                </div>

                <h3>Packet Routing Simulation</h3>
                <div class="simulation-container" style="height: 400px; position: relative;">
                    <canvas id="routingCanvas" width="800" height="400" style="width: 100%; height: 100%;"></canvas>
                    <div style="position: absolute; top: 10px; left: 10px;">
                        <button class="btn" onclick="startPacketSimulation()">Start Simulation</button>
                        <button class="btn-reset" onclick="resetPacketSimulation()">Reset</button>
                    </div>
                    <div id="packetInfo" style="position: absolute; bottom: 10px; left: 10px; background: rgba(255,255,255,0.9); padding: 10px; border-radius: 5px;"></div>
                </div>

                <h3>Sequencing Activity</h3>
                <p>Put these steps of TCP connection establishment in the correct order:</p>
                
                <div id="sequenceContainer" style="margin: 20px 0;">
                    <!-- Items will be populated by JavaScript -->
                </div>

                <div id="sequenceDropZones" style="margin: 20px 0;">
                    <h4>Correct Order:</h4>
                    <div class="drop-zone sequence-drop" data-position="1">Step 1</div>
                    <div class="drop-zone sequence-drop" data-position="2">Step 2</div>
                    <div class="drop-zone sequence-drop" data-position="3">Step 3</div>
                    <div class="drop-zone sequence-drop" data-position="4">Step 4</div>
                </div>

                <button class="btn" onclick="checkSequence()">Check Order</button>
                <button class="btn-reset" onclick="resetSequence()">Reset</button>

                <h3>Short Answer Questions</h3>
                <div style="margin: 20px 0;">
                    <p><strong>Question 1:</strong> What does TCP stand for? (Minimum 15 characters)</p>
                    <input type="text" class="input-field" id="tcpFullForm" placeholder="Enter your answer...">
                    
                    <p><strong>Question 2:</strong> Explain one advantage of using TCP for data transmission. (Minimum 30 characters)</p>
                    <textarea class="input-field" id="tcpAdvantage" placeholder="TCP provides..."></textarea>
                </div>

                <button class="btn" onclick="checkShortAnswers()">Submit Answers</button>
                <button class="btn-reset" onclick="resetSection2()">Reset Section</button>
            </div>
        </section>

        <!-- Section 3: Email Protocols -->
        <section class="section" id="section-3">
            <div class="card">
                <div class="task-header">
                    <h2>Email Protocols: POP, IMAP & SMTP</h2>
                    <span class="task-points">25 XP</span>
                </div>

                <h3>Interactive Email Flow Diagram</h3>
                <div class="simulation-container" style="height: 350px;">
                    <canvas id="emailCanvas" width="800" height="350" style="width: 100%; height: 100%;"></canvas>
                    <div style="position: absolute; top: 10px; left: 10px;">
                        <button class="btn" onclick="simulatePOP()">Simulate POP</button>
                        <button class="btn secondary" onclick="simulateIMAP()">Simulate IMAP</button>
                        <button class="btn" style="background: #8b5cf6;" onclick="simulateSMTP()">Simulate SMTP</button>
                    </div>
                </div>

                <h3>Categorization Exercise</h3>
                <p>Categorize these features into the correct email protocol:</p>
                
                <div class="drag-container">
                    <div class="drag-items">
                        <h4>Features</h4>
                        <div id="emailFeatures"></div>
                    </div>
                    <div class="drop-zones">
                        <h4>Protocols</h4>
                        <h5>POP</h5>
                        <div class="drop-zone category-drop" data-category="POP" style="min-height: 100px;"></div>
                        <h5>IMAP</h5>
                        <div class="drop-zone category-drop" data-category="IMAP" style="min-height: 100px;"></div>
                        <h5>SMTP</h5>
                        <div class="drop-zone category-drop" data-category="SMTP" style="min-height: 100px;"></div>
                    </div>
                </div>

                <button class="btn" onclick="checkCategories()">Check Categories</button>
                <button class="btn-reset" onclick="resetCategories()">Reset</button>

                <h3>Scenario-Based Questions</h3>
                <div class="quiz-question">
                    <p><strong>Scenario 1:</strong> Sarah works from both her office computer and her laptop at home. She wants to access the same emails from both devices and keep them organized in folders. Which protocol should she use?</p>
                    <div id="scenario1Options"></div>
                </div>

                <div class="quiz-question">
                    <p><strong>Scenario 2:</strong> A company wants to ensure their email server has limited storage usage. They prefer employees to download emails to their local machines. Which protocol is most suitable?</p>
                    <textarea class="input-field" id="scenario2Answer" placeholder="Explain your answer... (minimum 40 characters)"></textarea>
                </div>

                <button class="btn" onclick="checkScenarios()">Submit Answers</button>
                <button class="btn-reset" onclick="resetSection3()">Reset Section</button>
            </div>
        </section>

        <!-- Section 4: FTP -->
        <section class="section" id="section-4">
            <div class="card">
                <div class="task-header">
                    <h2>FTP: File Transfer Protocol</h2>
                    <span class="task-points">15 XP</span>
                </div>

                <h3>File Transfer Simulation</h3>
                <div class="simulation-container" style="height: 300px;">
                    <div id="ftpSimulation" style="position: relative; height: 100%;">
                        <div class="client" style="left: 50px; top: 100px;">
                            <div>Client</div>
                            <div id="clientFiles" style="margin-top: 10px;"></div>
                        </div>
                        <div class="server" style="right: 50px; top: 100px;">
                            <div>FTP Server</div>
                            <div id="serverFiles" style="margin-top: 10px;"></div>
                        </div>
                        <div id="transferAnimation" style="position: absolute; display: none;"></div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button class="btn" onclick="uploadFile()">Upload File</button>
                        <button class="btn secondary" onclick="downloadFile()">Download File</button>
                        <button class="btn-reset" onclick="resetFTPSim()">Reset</button>
                    </div>
                </div>

                <h3>Multiple Choice Questions</h3>
                <div class="quiz-question">
                    <p>1. What does FTP stand for?</p>
                    <label class="quiz-option">
                        <input type="radio" name="ftp1" value="A"> Fast Transfer Protocol
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ftp1" value="B"> File Transfer Protocol
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ftp1" value="C"> Full Text Protocol
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ftp1" value="D"> Forward Transfer Process
                    </label>
                </div>

                <div class="quiz-question">
                    <p>2. Which model does FTP use?</p>
                    <label class="quiz-option">
                        <input type="radio" name="ftp2" value="A"> Peer-to-peer model
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ftp2" value="B"> Client-server model
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ftp2" value="C"> Distributed model
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ftp2" value="D"> Centralized model
                    </label>
                </div>

                <div class="quiz-question">
                    <p>3. Explain one security concern with using standard FTP:</p>
                    <textarea class="input-field" id="ftpSecurity" placeholder="Write your answer... (minimum 30 characters)"></textarea>
                </div>

                <button class="btn" onclick="checkFTPAnswers()">Check Answers</button>
                <button class="btn-reset" onclick="resetSection4()">Reset Section</button>
            </div>
        </section>

        <!-- Section 5: Wired Connections & Ethernet -->
        <section class="section" id="section-5">
            <div class="card">
                <div class="task-header">
                    <h2>Wired Connections & Ethernet</h2>
                    <span class="task-points">20 XP</span>
                </div>

                <h3>Compare and Contrast</h3>
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <h4>Wired vs Wireless Connections</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <h5>Wired Advantages</h5>
                            <textarea class="input-field" id="wiredAdvantages" placeholder="List at least 2 advantages... (minimum 40 characters)"></textarea>
                        </div>
                        <div>
                            <h5>Wireless Advantages</h5>
                            <textarea class="input-field" id="wirelessAdvantages" placeholder="List at least 2 advantages... (minimum 40 characters)"></textarea>
                        </div>
                    </div>
                </div>

                <h3>Odd One Out</h3>
                <p>Which item doesn't belong in each group? Click to select.</p>
                
                <div class="quiz-question">
                    <p><strong>Group 1:</strong></p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group1', 'Ethernet')">Ethernet</button>
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group1', 'Wi-Fi')">Wi-Fi</button>
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group1', 'Fiber Optic')">Fiber Optic</button>
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group1', 'Coaxial')">Coaxial Cable</button>
                    </div>
                    <p>Explain why: <input type="text" class="input-field" id="oddExplain1" placeholder="Because..."></p>
                </div>

                <div class="quiz-question">
                    <p><strong>Group 2:</strong></p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group2', 'Fast')">Generally faster</button>
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group2', 'Interference')">Less interference</button>
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group2', 'Portable')">More portable</button>
                        <button class="quiz-option odd-one" onclick="selectOddOne(this, 'group2', 'Reliable')">More reliable</button>
                    </div>
                    <p>Explain why: <input type="text" class="input-field" id="oddExplain2" placeholder="Because..."></p>
                </div>

                <button class="btn" onclick="checkOddOneOut()">Check Answers</button>
                <button class="btn-reset" onclick="resetSection5()">Reset Section</button>

                <h3>Ethernet Speed Challenge</h3>
                <p>Match the Ethernet standards to their maximum speeds:</p>
                <div class="drag-container">
                    <div class="drag-items">
                        <div id="ethernetSpeeds"></div>
                    </div>
                    <div class="drop-zones">
                        <div id="ethernetStandards"></div>
                    </div>
                </div>

                <button class="btn" onclick="checkEthernetSpeeds()">Check Matches</button>
            </div>
        </section>

        <!-- Section 6: Summary -->
        <section class="section" id="section-6">
            <div class="card">
                <div class="task-header">
                    <h2>Summary: Test Your Knowledge</h2>
                    <span class="task-points">30 XP</span>
                </div>

                <p>Complete this comprehensive quiz to test your understanding of all protocols covered.</p>

                <div id="summaryQuiz">
                    <!-- Questions will be dynamically generated -->
                </div>

                <button class="btn" onclick="checkSummaryQuiz()">Submit Quiz</button>
                <button class="btn-reset" onclick="resetSummaryQuiz()">Reset Quiz</button>
                
                <div id="quizResults" style="margin-top: 20px; display: none;">
                    <h3>Your Results:</h3>
                    <p>Score: <span id="quizScore"></span>/10</p>
                    <div id="quizFeedback"></div>
                </div>
            </div>
        </section>

        <!-- Section 7: Practice Exam Questions -->
        <section class="section" id="section-7">
            <div class="card">
                <div class="task-header">
                    <h2>Practice Exam Questions</h2>
                    <span class="task-points">40 XP</span>
                </div>

                <p>These questions are in the style of OCR J277 exam papers. Answer all questions.</p>

                <div class="quiz-question">
                    <h3>Question 1 (4 marks)</h3>
                    <p>A school is setting up a new computer network. They need to choose between HTTP and HTTPS for their internal web applications.</p>
                    <p>(a) State what HTTP stands for. [1 mark]</p>
                    <input type="text" class="input-field" id="exam1a" placeholder="Your answer...">
                    
                    <p>(b) Explain two advantages of using HTTPS instead of HTTP. [2 marks]</p>
                    <textarea class="input-field" id="exam1b" placeholder="Advantage 1: ... Advantage 2: ..."></textarea>
                    
                    <p>(c) Identify the technology that HTTPS uses to secure data. [1 mark]</p>
                    <input type="text" class="input-field" id="exam1c" placeholder="Your answer...">
                    
                    <div style="margin-top: 10px;">
                        <label>Predicted marks for Question 1: 
                            <input type="number" min="0" max="4" id="predictedMarks1" style="width: 50px;">
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <h3>Question 2 (6 marks)</h3>
                    <p>A company uses email for communication. Their IT department is deciding between POP and IMAP protocols.</p>
                    <p>(a) Describe how POP handles emails differently from IMAP. [2 marks]</p>
                    <textarea class="input-field" id="exam2a" placeholder="Your answer..."></textarea>
                    
                    <p>(b) The company's employees often work from multiple devices. Recommend which protocol they should use and justify your choice. [2 marks]</p>
                    <textarea class="input-field" id="exam2b" placeholder="Your answer..."></textarea>
                    
                    <p>(c) State the protocol used for sending emails and explain its role in the email system. [2 marks]</p>
                    <textarea class="input-field" id="exam2c" placeholder="Your answer..."></textarea>
                    
                    <div style="margin-top: 10px;">
                        <label>Predicted marks for Question 2: 
                            <input type="number" min="0" max="6" id="predictedMarks2" style="width: 50px;">
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <h3>Question 3 (5 marks)</h3>
                    <p>Explain how TCP and IP work together to ensure reliable data transmission across the internet. Your answer should include:</p>
                    <ul>
                        <li>The role of TCP</li>
                        <li>The role of IP</li>
                        <li>How they work together</li>
                    </ul>
                    <textarea class="input-field" id="exam3" style="min-height: 150px;" placeholder="Your answer..."></textarea>
                    
                    <div style="margin-top: 10px;">
                        <label>Predicted marks for Question 3: 
                            <input type="number" min="0" max="5" id="predictedMarks3" style="width: 50px;">
                        </label>
                    </div>
                </div>

                <button class="btn" onclick="checkPredictedMarks()">View Mark Scheme</button>
                <div id="markScheme" style="display: none; margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
                    <!-- Mark scheme will be displayed here -->
                </div>

                <button class="btn-reset" onclick="resetSection7()">Reset Section</button>
            </div>
        </section>

        <!-- Section 8: Extension Activities -->
        <section class="section" id="section-8">
            <div class="card">
                <div class="task-header">
                    <h2>Extension: Beyond the Specification</h2>
                    <span class="task-points">50 XP</span>
                </div>

                <h3>Advanced Protocols</h3>
                <p>These protocols are not in the OCR specification but are important in modern networking:</p>

                <div class="quiz-question">
                    <h4>1. DNS (Domain Name System)</h4>
                    <p>Research and explain how DNS works to convert domain names to IP addresses. Include a simple diagram.</p>
                    <textarea class="input-field" id="dnsExplanation" style="min-height: 100px;" placeholder="Your explanation..."></textarea>
                    
                    <h4>Drawing Canvas</h4>
                    <div class="canvas-container">
                        <canvas id="drawingCanvas" width="600" height="300" style="background: white; border: 1px solid #ccc;"></canvas>
                    </div>
                    <div class="canvas-controls">
                        <button class="btn" onclick="clearCanvas()">Clear Canvas</button>
                        <label>Color: <input type="color" id="penColor" value="#000000"></label>
                        <label>Size: <input type="range" id="penSize" min="1" max="10" value="2"></label>
                    </div>
                </div>

                <div class="quiz-question">
                    <h4>2. WebSockets</h4>
                    <p>How do WebSockets differ from HTTP for real-time communication?</p>
                    <textarea class="input-field" id="websocketsAnswer" placeholder="Your answer..."></textarea>
                </div>

                <div class="quiz-question">
                    <h4>3. IPv6</h4>
                    <p>What problems does IPv6 solve that IPv4 couldn't handle?</p>
                    <textarea class="input-field" id="ipv6Answer" placeholder="Your answer..."></textarea>
                </div>

                <button class="btn" onclick="submitExtension()">Submit Extension Work</button>
                <button class="btn-reset" onclick="resetSection8()">Reset Section</button>
            </div>
        </section>

        <!-- Section 9: Videos -->
        <section class="section" id="section-9">
            <div class="card">
                <h2>Video Resources</h2>
                <p>Your teacher will add relevant video links here to support your learning.</p>
                
                <div style="background: #f0f0f0; padding: 20px; border-radius: 8px; text-align: center; margin: 20px 0;">
                    <p style="font-style: italic;">Video placeholder - Videos will be added by your teacher</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="background: white; padding: 20px; border-radius: 8px;">
                            <h4>Video 1: Introduction to Protocols</h4>
                            <div style="background: #ddd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 5px;">
                                [Video Placeholder]
                            </div>
                        </div>
                        <div style="background: white; padding: 20px; border-radius: 8px;">
                            <h4>Video 2: HTTP vs HTTPS</h4>
                            <div style="background: #ddd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 5px;">
                                [Video Placeholder]
                            </div>
                        </div>
                        <div style="background: white; padding: 20px; border-radius: 8px;">
                            <h4>Video 3: Email Protocols Explained</h4>
                            <div style="background: #ddd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 5px;">
                                [Video Placeholder]
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" style="background: #e0f2fe;">
                    <h3>🎉 Congratulations!</h3>
                    <p>You've completed the Network Protocols worksheet! Here's your summary:</p>
                    <ul>
                        <li>Total XP Earned: <span id="finalXP">0</span></li>
                        <li>Level Achieved: <span id="finalLevel">0</span></li>
                        <li>Achievements Unlocked: <span id="finalAchievements">0</span></li>
                    </ul>
                    <p>Remember to review any sections where you struggled and ask your teacher if you need help!</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Feedback Button -->
    <button class="feedback-btn" onclick="openFeedback()" aria-label="Send feedback">
        📧
    </button>

    <!-- Feedback Modal -->
    <div id="feedbackModal" class="feedback-modal">
        <div class="feedback-content">
            <h3>Send Feedback</h3>
            <p>Found a bug or have a suggestion? Let us know!</p>
            <textarea class="input-field" id="feedbackText" placeholder="Describe the issue or suggestion..."></textarea>
            <div style="margin-top: 15px;">
                <button class="btn" onclick="sendFeedback()">Send</button>
                <button class="btn secondary" onclick="closeFeedback()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup">
        <div class="achievement-icon">🏆</div>
        <h4 id="achievementTitle">Achievement Unlocked!</h4>
        <p id="achievementDesc">Description</p>
    </div>

    <!-- Shame Message -->
    <div id="shameMessage" class="shame-message">
        ❌ Nice try! Pasting is disabled. Type your answers to learn better! ❌
    </div>

    <!-- Link to JavaScript file -->
    <script src="gcse-net-types-topologies-protocols.js"></script>
</body>
</html>