<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Cloud Storage: Benefits & Drawbacks - GCSE Computer Science</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom CSS for a more polished and interactive look */
        body {
            font-family: 'Inter', sans-serif;
            background: #F0F2F5;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
        }

        /* Animation Keyframes */
        @keyframes float {
            0%, 100% { transform: translate(-50%, 0); }
            50% { transform: translate(-50%, -15px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes popIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        @keyframes data-flow-up {
            from { bottom: 130px; opacity: 1; }
            to { bottom: 280px; opacity: 0; }
        }

        @keyframes data-flow-broken {
            0% { bottom: 130px; opacity: 1; }
            50% { bottom: 200px; opacity: 1; }
            100% { bottom: 200px; opacity: 0; transform: scale(1.5); }
        }
        
        @keyframes shield-protect {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
        }

        .simulation-area {
            position: relative;
            min-height: 450px;
            background-color: #F7FAFC;
            border-radius: 1rem;
            overflow: hidden;
            border: 1px solid #E2E8F0;
        }
        
        .cloud {
            animation: float 4s ease-in-out infinite;
            transition: all 0.5s ease-in-out;
        }

        .feature-item.drawback-item {
            border-left-color: #F56565; /* Red for drawbacks */
        }
        
        /* Custom message box for alerts */
        #message-box {
            transition: opacity 0.3s, transform 0.3s;
        }

        /* Custom scrollbar for better aesthetics */
        .model-answer::-webkit-scrollbar {
            width: 8px;
        }
        .model-answer::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .model-answer::-webkit-scrollbar-thumb {
            background: #a8b2c2;
            border-radius: 10px;
        }
        .model-answer::-webkit-scrollbar-thumb:hover {
            background: #8892a3;
        }
    </style>
</head>
<body class="bg-gray-50">

    <div class="container">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800">‚òÅÔ∏è Cloud Storage: An Interactive Guide</h1>
            <p class="text-lg text-gray-500 mt-2">GCSE Computer Science - OCR J277 Specification</p>
        </header>

        <!-- Instructions -->
        <div class="bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-6 rounded-lg mb-8 shadow-sm">
            <h2 class="text-xl font-bold mb-2">üìñ How to Use This Guide</h2>
            <ul class="list-disc list-inside space-y-1">
                <li>Choose <strong>Benefits</strong> or <strong>Drawbacks</strong> to begin.</li>
                <li>Click a feature. In the popup, write your own explanation of the concept.</li>
                <li>Click <strong>Submit & Compare</strong> to see the model answer and an animation.</li>
                <li>Test your knowledge with the quiz at the end.</li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Simulation Area -->
            <div class="simulation-area flex items-center justify-center p-4">
                <div id="animation-container" class="w-full h-full relative">
                    <!-- Cloud -->
                    <div id="cloud" class="w-48 h-28 bg-sky-400 rounded-full absolute top-1/4 left-1/2 -translate-x-1/2 shadow-lg cloud">
                        <div class="absolute w-24 h-24 bg-sky-400 rounded-full -top-12 left-4"></div>
                        <div class="absolute w-28 h-28 bg-sky-400 rounded-full -top-10 right-4"></div>
                        <span class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-4xl text-white">‚òÅÔ∏è</span>
                    </div>
                    <!-- Device -->
                    <div id="device" class="absolute bottom-10 left-1/2 -translate-x-1/2 text-7xl">
                        üíª
                    </div>
                    <!-- Dynamic Animation Elements will be injected here -->
                </div>
            </div>

            <!-- Info Panel -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                <div class="flex border-b border-gray-200">
                    <button class="tab-btn flex-1 py-3 px-2 text-lg font-semibold text-gray-500 border-b-4 border-transparent hover:bg-gray-100 data-[active=true]:border-green-500 data-[active=true]:text-green-600 transition" data-tab="benefits" data-active="true" onclick="switchTab('benefits')">‚úÖ Benefits</button>
                    <button class="tab-btn flex-1 py-3 px-2 text-lg font-semibold text-gray-500 border-b-4 border-transparent hover:bg-gray-100 data-[active=true]:border-red-500 data-[active=true]:text-red-600 transition" data-tab="drawbacks" data-active="false" onclick="switchTab('drawbacks')">‚ö†Ô∏è Drawbacks</button>
                </div>
                <div class="mt-4">
                    <div id="benefits" class="tab-content space-y-3" style="animation: fadeIn 0.5s;">
                        <!-- Benefits will be injected here -->
                    </div>
                    <div id="drawbacks" class="tab-content space-y-3 hidden" style="animation: fadeIn 0.5s;">
                        <!-- Drawbacks will be injected here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="bg-gray-100 p-8 rounded-lg shadow-inner">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-gray-700">üéØ Test Your Knowledge</h2>
                <div class="text-xl font-bold bg-white px-4 py-2 rounded-lg shadow-sm">Score: <span id="score" class="text-green-500">0</span>/<span id="total">0</span></div>
            </div>
            <div id="quiz-container"></div>
            <div class="flex gap-4 justify-center mt-8">
                <button id="submitBtn" onclick="submitAnswer()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition transform hover:-translate-y-0.5 disabled:bg-gray-400 disabled:shadow-none disabled:transform-none disabled:cursor-not-allowed">Submit Answer</button>
                <button id="nextBtn" onclick="nextQuestion()" class="hidden bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition transform hover:-translate-y-0.5">Next Question</button>
                <button onclick="resetQuiz()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition transform hover:-translate-y-0.5">Reset Quiz</button>
            </div>
        </div>
    </div>

    <!-- Task Popup / Modal -->
    <div id="task-overlay" class="fixed inset-0 bg-black bg-opacity-60 hidden z-40" onclick="closePopup()"></div>
    <div id="task-popup" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-11/12 max-w-2xl bg-white rounded-2xl shadow-2xl p-8 z-50 hidden" style="animation: popIn 0.3s ease-out forwards;">
        <h3 id="popup-title" class="text-2xl font-bold text-gray-800 mb-4"></h3>
        
        <!-- User Input View -->
        <div id="user-input-view">
            <p class="text-gray-600 mb-4">In your own words, try to explain this concept. What does it mean in the context of cloud storage?</p>
            <textarea id="user-answer" rows="5" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition" placeholder="Type your answer here..."></textarea>
            <div class="mt-6 flex justify-end">
                <button id="submit-task-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition">Submit & Compare</button>
            </div>
        </div>

        <!-- Model Answer View -->
        <div id="model-answer-view" class="hidden">
             <p class="text-sm font-semibold text-gray-500 mb-2">MODEL ANSWER</p>
            <div id="popup-content" class="text-gray-700 bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto model-answer"></div>
            <div class="mt-6 flex justify-end">
                 <button onclick="closePopup()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition">Close</button>
            </div>
        </div>

    </div>
    
    <!-- Custom Message Box -->
    <div id="message-box" class="fixed top-5 left-1/2 -translate-x-1/2 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg z-50 opacity-0 transform -translate-y-10">
        <strong class="font-bold">Heads up!</strong>
        <span class="block sm:inline" id="message-box-text">Please select an answer.</span>
    </div>


    <script>
        // --- DATABASE ---
        const details = {
            benefit1: { title: "Access from Anywhere", content: "Cloud storage allows you to access your files from any device with an internet connection. This enables seamless remote working, as you can start work on one device and continue on another. Whether you're at home, in the office, or traveling, your files are always available.", animation: "remote-access", type: 'benefit' },
            benefit2: { title: "No Physical Storage Needed", content: "You don't need to carry USB drives, external hard drives, or worry about physical storage devices being lost or damaged. This also means no risk of leaving important files on a device at home or work.", animation: "no-physical", type: 'benefit' },
            benefit3: { title: "Professional Security", content: "Cloud providers employ security experts and use enterprise-level protection including encryption, firewalls, and regular security audits. This often exceeds the security measures available to individual users at home.", animation: "security", type: 'benefit' },
            benefit4: { title: "Scalable Storage", content: "Need more space? Cloud storage can be increased instantly without buying new hardware. You can scale up or down based on your needs, paying only for what you use.", animation: "scalable", type: 'benefit' },
            benefit5: { title: "Cost Efficient", content: "For many users, cloud storage is more cost-effective than purchasing and maintaining physical storage infrastructure. Most providers offer free tiers, and paid plans often cost less than equivalent hardware, especially when considering backup drives and redundancy.", animation: "cost-up", type: 'benefit' },
            benefit6: { title: "Automatic Backup", content: "Files are backed up automatically without any manual intervention. This saves time and ensures you never forget to backup important data. Version history is often included, allowing you to restore previous versions of files.", animation: "backup", type: 'benefit' },
            benefit7: { title: "Easy Sharing", content: "Share files or folders with others instantly through links or direct sharing. No need for email attachments with size limits or physical media. Collaboration features often allow multiple people to work on the same files.", animation: "sharing", type: 'benefit' },
            drawback1: { title: "Internet Dependency", content: "Without an internet connection, you cannot access your cloud-stored files. This can be problematic in areas with poor connectivity or during internet outages. Some services offer offline sync, but this requires advance planning.", animation: "no-internet", type: 'drawback' },
            drawback2: { title: "Speed Issues", content: "Upload and download speeds depend entirely on your internet connection. Large files can take hours to upload on slow connections. This can impact productivity when working with video files, large datasets, or numerous files.", animation: "slow-speed", type: 'drawback' },
            drawback3: { title: "Security Risks", content: "Data transmitted over the internet can potentially be intercepted, especially on unsecured networks. While encryption helps, the risk exists. Additionally, cloud providers can be targets for hackers due to the valuable data they store.", animation: "security-risk", type: 'drawback' },
            drawback4: { title: "Control Loss", content: "You're trusting a third party with your data. You can't directly control security measures, backup procedures, or data handling. If the provider changes policies or shuts down, you may face challenges.", animation: "no-control", type: 'drawback' },
            drawback5: { title: "Data Protection Act", content: "When storing personal data in the cloud, you must ensure compliance with data protection laws. This includes knowing where data is stored geographically, how it's protected, and ensuring the provider meets legal requirements. Non-compliance can result in significant fines.", animation: "legal", type: 'drawback' },
            drawback6: { title: "Ongoing Costs", content: "While initially cost-effective, monthly or annual fees accumulate over time. After several years, the total cost might exceed purchasing physical storage. Costs can also increase if providers raise prices or if you need more storage.", animation: "cost-down", type: 'drawback' },
            drawback7: { title: "Access Loss Risk", content: "If you forget your login credentials or lose access to your recovery email/phone, you might be permanently locked out of your files. Account suspension or termination can also cause data loss.", animation: "locked-out", type: 'drawback' },
        };

        const questions = [
            { question: "What is the PRIMARY requirement for accessing data stored in the cloud?", options: ["A USB cable", "An internet connection", "Special software", "A premium account"], correct: 1, feedback: "An internet connection is essential for cloud storage access. Without it, you cannot reach your data stored on remote servers." },
            { question: "Which of the following is a cost-related BENEFIT of cloud storage?", options: ["Monthly fees are always required", "It's always more expensive than physical storage", "Usually offers some free storage and can be more cost-efficient for large amounts of data", "There are no costs involved"], correct: 2, feedback: "Cloud storage often provides free tiers and can be more cost-efficient than buying and maintaining physical storage infrastructure, especially for large data volumes." },
            { question: "What happens to your data if you forget your cloud storage login details?", options: ["The data is automatically sent to your email", "You may lose access to your files", "The provider deletes your data immediately", "Nothing - you can always access it"], correct: 1, feedback: "Forgetting login credentials can result in losing access to your files, which is why secure password management is crucial." },
            { question: "Which security concern relates to data transmission in cloud storage?", options: ["Data could be intercepted during upload/download", "Files become corrupted automatically", "Storage capacity is reduced", "Files are always encrypted"], correct: 0, feedback: "Data interception during transmission is a real security risk, especially on unsecured networks. This is why encryption is important." },
            { question: "What legal consideration must be taken into account when storing personal data in the cloud?", options: ["Copyright Act", "Computer Misuse Act", "Data Protection Act", "Freedom of Information Act"], correct: 2, feedback: "The Data Protection Act has specific requirements for storing and handling personal data, including cloud storage." },
        ];

        let currentQuestion = 0;
        let score = 0;
        let selectedOption = -1;
        let answered = false;

        // --- INITIALIZATION ---
        function init() {
            populateFeatures();
            initQuiz();
        }

        function populateFeatures() {
            const benefitsContainer = document.getElementById('benefits');
            const drawbacksContainer = document.getElementById('drawbacks');
            
            benefitsContainer.innerHTML = '';
            drawbacksContainer.innerHTML = '';
            
            Object.entries(details).forEach(([key, detail]) => {
                const itemHtml = `
                    <div class="feature-item p-4 rounded-lg border-l-4 cursor-pointer transition transform hover:scale-105 hover:shadow-md ${detail.type === 'benefit' ? 'bg-green-50 border-green-400' : 'bg-red-50 border-red-400'}" onclick="showTask('${key}')">
                        <strong class="text-gray-800">${detail.title}</strong>
                        <p class="text-sm text-gray-600">${detail.content.substring(0, 50)}...</p>
                    </div>
                `;
                if (detail.type === 'benefit') {
                    benefitsContainer.innerHTML += itemHtml;
                } else {
                    drawbacksContainer.innerHTML += itemHtml;
                }
            });
        }

        // --- INTERACTIVE TASK LOGIC ---
        function showTask(detailId) {
            const detail = details[detailId];
            document.getElementById('popup-title').textContent = detail.title;
            document.getElementById('popup-content').textContent = detail.content;
            
            // Reset views
            document.getElementById('user-input-view').style.display = 'block';
            document.getElementById('model-answer-view').style.display = 'none';
            document.getElementById('user-answer').value = '';

            document.getElementById('task-overlay').classList.remove('hidden');
            document.getElementById('task-popup').classList.remove('hidden');
            
            const submitBtn = document.getElementById('submit-task-btn');
            submitBtn.onclick = () => {
                document.getElementById('user-input-view').style.display = 'none';
                document.getElementById('model-answer-view').style.display = 'block';
                animateFeature(detail.animation);
            };
        }

        function closePopup() {
            document.getElementById('task-overlay').classList.add('hidden');
            document.getElementById('task-popup').classList.add('hidden');
            clearAnimations();
        }


        // --- ANIMATION LOGIC ---
        function animateFeature(type) {
            clearAnimations();
            const container = document.getElementById('animation-container');
            
            switch(type) {
                case 'remote-access':
                case 'sharing':
                    ['üì±', 'üíª', 'üñ•Ô∏è'].forEach((icon, i) => {
                       setTimeout(() => {
                           const el = document.createElement('div');
                           el.innerText = icon;
                           el.className = 'absolute text-5xl opacity-0';
                           el.style.left = `${15 + i * 35}%`;
                           el.style.bottom = '10px';
                           el.style.animation = `fadeIn 0.5s ${i * 0.2}s forwards`;
                           container.appendChild(el);
                           createDataFlow(true, `${25 + i * 35}%`);
                       }, i * 200);
                    });
                    break;
                case 'no-physical':
                    const usb = document.createElement('div');
                    usb.innerText = 'üíæ';
                    usb.className = 'absolute text-7xl bottom-10 left-1/4 transition-opacity duration-500';
                    container.appendChild(usb);
                    setTimeout(() => usb.style.opacity = '0', 500);
                    break;
                case 'security':
                    const shield = document.createElement('div');
                    shield.innerText = 'üõ°Ô∏è';
                    shield.className = 'absolute text-9xl top-1/2 left-1/2';
                    shield.style.animation = 'shield-protect 1.5s ease-out';
                    container.appendChild(shield);
                    break;
                case 'scalable':
                    const cloud = document.getElementById('cloud');
                    cloud.style.transform = 'translate(-50%, -15px) scale(1.3)';
                    const plus = document.createElement('div');
                    plus.innerText = '+GB';
                    plus.className = 'absolute text-2xl font-bold text-green-500 top-1/2 left-1/2 opacity-0';
                    plus.style.animation = 'fadeIn 1s forwards';
                    container.appendChild(plus);
                    break;
                case 'backup':
                    createDataFlow(true);
                    break;
                case 'cost-up':
                case 'cost-down':
                    for(let i = 0; i < 5; i++) {
                       setTimeout(() => {
                           const money = document.createElement('div');
                           money.innerText = 'üí∞';
                           money.className = 'absolute text-3xl bottom-20 left-1/2 -translate-x-1/2 opacity-0';
                           money.style.animation = `data-flow-${type === 'cost-up' ? 'up' : 'broken'} 1.5s ease-out`;
                           container.appendChild(money);
                       }, i * 300);
                    }
                    break;
                case 'no-internet':
                case 'slow-speed':
                    createDataFlow(false, null, type === 'slow-speed' ? 3 : 1.5);
                     const brokenLink = document.createElement('div');
                     brokenLink.innerText = '‚ùå';
                     brokenLink.className = 'absolute text-5xl top-1/2 left-1/2 -translate-x-1/2 opacity-0';
                     brokenLink.style.animation = `fadeIn 0.5s 0.7s forwards`;
                     container.appendChild(brokenLink);
                    break;
                 case 'security-risk':
                    createDataFlow(true);
                    const hacker = document.createElement('div');
                    hacker.innerText = 'üïµÔ∏è';
                    hacker.className = 'absolute text-4xl top-1/2 left-1/4 opacity-0';
                    hacker.style.animation = 'fadeIn 1s 0.5s forwards';
                    container.appendChild(hacker);
                    break;
                case 'no-control':
                     const lock = document.createElement('div');
                     lock.innerText = 'üîí';
                     lock.className = 'absolute text-4xl top-1/4 left-1/2 opacity-0';
                     lock.style.animation = 'fadeIn 1s forwards';
                     container.appendChild(lock);
                    break;
                 case 'legal':
                    const gavel = document.createElement('div');
                    gavel.innerText = '‚öñÔ∏è';
                    gavel.className = 'absolute text-6xl top-1/2 left-1/2 -translate-x-1/2 opacity-0';
                    gavel.style.animation = 'fadeIn 1s forwards';
                    container.appendChild(gavel);
                    break;
                case 'locked-out':
                    const key = document.createElement('div');
                    key.innerText = 'üîë';
                    key.className = 'absolute text-5xl bottom-10 left-1/4 transition-opacity duration-500 opacity-0';
                    key.style.animation = 'fadeIn 1s forwards';
                    container.appendChild(key);
                    setTimeout(() => key.style.opacity = '0.2', 1500);
                    break;
            }
        }

        function createDataFlow(success = true, left = '50%', duration = 1.5) {
            const data = document.createElement('div');
            data.innerText = 'üìÑ';
            data.className = 'absolute text-2xl -translate-x-1/2';
            data.style.left = left;
            data.style.animation = `${success ? 'data-flow-up' : 'data-flow-broken'} ${duration}s ease-out forwards`;
            if(!success) data.style.color = 'red';
            document.getElementById('animation-container').appendChild(data);
        }

        function clearAnimations() {
            const container = document.getElementById('animation-container');
            const cloud = document.getElementById('cloud');
            cloud.style.transform = 'translate(-50%, 0) scale(1)';
            
            // Remove all children except the cloud and device
            while(container.children.length > 2) {
                if(container.lastChild.id !== 'cloud' && container.lastChild.id !== 'device') {
                    container.removeChild(container.lastChild);
                }
            }
        }


        // --- QUIZ LOGIC ---
        function initQuiz() {
            document.getElementById('total').textContent = questions.length;
            displayQuestion();
        }

        function displayQuestion() {
            const container = document.getElementById('quiz-container');
            const q = questions[currentQuestion];
            container.style.animation = 'fadeIn 0.5s';
            container.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="font-semibold text-gray-500 mb-2">Question ${currentQuestion + 1} of ${questions.length}</h3>
                    <p class="text-xl text-gray-800 mb-6">${q.question}</p>
                    <div class="space-y-3">
                        ${q.options.map((option, index) => `
                            <div class="option p-4 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition" onclick="selectOption(this, ${index})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div id="feedback" class="mt-4 p-4 rounded-lg hidden"></div>
                </div>
            `;
            selectedOption = -1;
            answered = false;
            document.getElementById('submitBtn').style.display = 'inline-block';
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('nextBtn').style.display = 'none';
        }

        function selectOption(el, index) {
            if (answered) return;
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('bg-blue-100', 'border-blue-400'));
            el.classList.add('bg-blue-100', 'border-blue-400');
            selectedOption = index;
            document.getElementById('submitBtn').disabled = false;
        }

        function submitAnswer() {
            if (selectedOption === -1) {
                showMessageBox('Please select an answer!');
                return;
            }
            if (answered) return;
            
            answered = true;
            const q = questions[currentQuestion];
            const options = document.querySelectorAll('.option');
            const feedbackEl = document.getElementById('feedback');
            
            options.forEach(opt => opt.style.pointerEvents = 'none');
            options[selectedOption].classList.remove('bg-blue-100', 'border-blue-400');
            
            if (selectedOption === q.correct) {
                score++;
                document.getElementById('score').textContent = score;
                options[selectedOption].classList.add('bg-green-100', 'border-green-400');
                feedbackEl.className = 'mt-4 p-4 rounded-lg bg-green-100 text-green-800';
                feedbackEl.innerHTML = `<strong>‚úÖ Correct!</strong> ${q.feedback}`;
            } else {
                options[selectedOption].classList.add('bg-red-100', 'border-red-400');
                options[q.correct].classList.add('bg-green-100', 'border-green-400');
                feedbackEl.className = 'mt-4 p-4 rounded-lg bg-red-100 text-red-800';
                feedbackEl.innerHTML = `<strong>‚ùå Incorrect.</strong> ${q.feedback}`;
            }
            feedbackEl.style.display = 'block';
            
            document.getElementById('submitBtn').style.display = 'none';
            if (currentQuestion < questions.length - 1) {
                document.getElementById('nextBtn').style.display = 'inline-block';
            } else {
                setTimeout(showFinalScore, 2000);
            }
        }

        function nextQuestion() {
            currentQuestion++;
            displayQuestion();
        }

        function resetQuiz() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('score').textContent = '0';
            displayQuestion();
        }

        function showFinalScore() {
            const percentage = Math.round((score / questions.length) * 100);
            const container = document.getElementById('quiz-container');
            let message = '';
            if (percentage >= 80) message = 'Excellent! You have a strong grasp of this topic.';
            else if (percentage >= 50) message = 'Good effort! Review the feedback to improve.';
            else message = 'Keep trying! Go through the benefits and drawbacks again.';

            container.innerHTML = `
                <div class="bg-white p-8 rounded-lg shadow text-center">
                    <h3 class="text-3xl font-bold mb-4">Quiz Complete! üéâ</h3>
                    <p class="text-5xl font-bold my-4">${percentage}%</p>
                    <p class="text-xl text-gray-700">You scored ${score} out of ${questions.length}.</p>
                    <p class="text-lg text-gray-600 mt-2">${message}</p>
                </div>
            `;
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.dataset.active = btn.dataset.tab === tabName;
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                if (content.id === tabName) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });
        }
        
        function showMessageBox(message) {
            const box = document.getElementById('message-box');
            document.getElementById('message-box-text').textContent = message;
            box.style.opacity = '1';
            box.style.transform = 'translate(-50%, 0)';
            setTimeout(() => {
                box.style.opacity = '0';
                box.style.transform = 'translate(-50%, -10px)';
            }, 3000);
        }

        // --- RUN ON LOAD ---
        window.onload = init;
    </script>
</body>
</html>
