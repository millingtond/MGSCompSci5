<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Ethics - GCSE Computer Science Lesson</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header and Navigation */
        header {
            background: #2c3e50;
            color: white;
            padding: 1rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        h1 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        /* XP and Level System */
        .xp-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255,255,255,0.1);
            padding: 0.5rem 1rem;
            border-radius: 25px;
        }

        .xp-bar {
            width: 150px;
            height: 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            width: 0%;
            transition: width 0.5s ease;
        }

        .level-badge {
            font-weight: bold;
            background: #e74c3c;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        /* Navigation Bar */
        nav {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .nav-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: #3498db;
        }

        /* Main Content */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 120px 20px 40px;
        }

        .section {
            display: none;
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Navigation Buttons */
        .section-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 1rem;
        }

        .nav-arrow {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-arrow:hover {
            background: #2980b9;
            transform: translateX(5px);
        }

        .nav-arrow:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }

        /* Task Styles */
        .task {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 4px solid #3498db;
        }

        .task-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        /* Interactive Elements */
        .drag-container {
            display: flex;
            gap: 2rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .drag-source, .drop-zone {
            min-height: 60px;
            padding: 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .drag-source {
            background: #ecf0f1;
            border: 2px solid #bdc3c7;
        }

        .drop-zone {
            background: #e8f4f8;
            border: 2px dashed #3498db;
            flex: 1;
        }

        .draggable {
            background: white;
            padding: 0.75rem;
            margin: 0.5rem 0;
            border-radius: 5px;
            cursor: grab;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .draggable:active {
            cursor: grabbing;
        }

        .draggable.dragging {
            opacity: 0.5;
        }

        .drop-zone.drag-over {
            background: #d5e8f0;
            border-color: #2980b9;
        }

        /* Buttons */
        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 0.5rem;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-reset {
            background: #e74c3c;
        }

        .btn-reset:hover {
            background: #c0392b;
        }

        .btn-hint {
            background: #f39c12;
        }

        .btn-hint:hover {
            background: #e67e22;
        }

        /* Input Styles */
        input[type="text"], 
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #3498db;
        }

        /* Quiz Styles */
        .quiz-question {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .quiz-options {
            margin: 1rem 0;
        }

        .quiz-option {
            display: block;
            margin: 0.5rem 0;
            padding: 0.75rem;
            background: white;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: #3498db;
            background: #f0f8ff;
        }

        .quiz-option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }

        .quiz-option.correct {
            border-color: #27ae60;
            background: #d5f4e6;
        }

        .quiz-option.incorrect {
            border-color: #e74c3c;
            background: #fadbd8;
        }

        /* Canvas for Drawing */
        .drawing-canvas {
            border: 2px solid #3498db;
            border-radius: 8px;
            margin: 1rem 0;
            cursor: crosshair;
            touch-action: none;
            background: white;
        }

        /* Achievement Popup */
        .achievement-popup {
            position: fixed;
            top: 100px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.5s ease;
            z-index: 2000;
        }

        .achievement-popup.show {
            transform: translateX(0);
        }

        .achievement-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .achievement-desc {
            font-size: 0.9rem;
        }

        /* Feedback Button */
        .feedback-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #9b59b6;
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            font-size: 1.5rem;
            z-index: 999;
        }

        .feedback-btn:hover {
            background: #8e44ad;
            transform: scale(1.1);
        }

        /* Feedback Modal */
        .feedback-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .feedback-modal.show {
            display: flex;
        }

        .feedback-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
        }

        /* Accessibility Features */
        .accessibility-controls {
            position: fixed;
            top: 100px;
            left: 20px;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
            z-index: 900;
        }

        .accessibility-controls.show {
            display: block;
        }

        /* High Contrast Mode */
        body.high-contrast {
            background: black;
            color: white;
        }

        body.high-contrast .section {
            background: #111;
            color: white;
        }

        body.high-contrast .task {
            background: #222;
            border-left-color: yellow;
        }

        /* Anti-paste Message */
        .paste-warning {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #e74c3c;
            color: white;
            padding: 2rem;
            border-radius: 10px;
            display: none;
            z-index: 4000;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-50%, -50%) rotate(-5deg); }
            75% { transform: translate(-50%, -50%) rotate(5deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            .drag-container {
                flex-direction: column;
            }

            .section-nav {
                flex-direction: column;
            }

            .nav-arrow {
                width: 100%;
                justify-content: center;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Mark Scheme */
        .mark-scheme {
            display: none;
            background: #e8f5e9;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1rem;
            border: 2px solid #4caf50;
        }

        .mark-scheme.show {
            display: block;
        }

        /* Real World Context Box */
        .real-world-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .real-world-box h3 {
            color: #856404;
            margin-bottom: 0.5rem;
        }

        /* Common Mistakes Box */
        .mistakes-box {
            background: #f8d7da;
            border: 2px solid #dc3545;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .mistakes-box h3 {
            color: #721c24;
            margin-bottom: 0.5rem;
        }

        /* Extension Activity */
        .extension-box {
            background: #e7e3ff;
            border: 2px solid #6c5ce7;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .extension-box h3 {
            color: #4a3a94;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div>
                <h1>AI Ethics - GCSE Computer Science</h1>
                <nav id="navBar">
                    <button class="nav-btn active" onclick="showSection(0)">Home</button>
                    <button class="nav-btn" onclick="showSection(1)">Starter</button>
                    <button class="nav-btn" onclick="showSection(2)">Fairness</button>
                    <button class="nav-btn" onclick="showSection(3)">Transparency</button>
                    <button class="nav-btn" onclick="showSection(4)">Accountability</button>
                    <button class="nav-btn" onclick="showSection(5)">Privacy</button>
                    <button class="nav-btn" onclick="showSection(6)">Safety</button>
                    <button class="nav-btn" onclick="showSection(7)">Human Control</button>
                    <button class="nav-btn" onclick="showSection(8)">Beneficence</button>
                    <button class="nav-btn" onclick="showSection(9)">Common Mistakes</button>
                    <button class="nav-btn" onclick="showSection(10)">Exam Practice</button>
                    <button class="nav-btn" onclick="showSection(11)">Extensions</button>
                    <button class="nav-btn" onclick="showSection(12)">Summary</button>
                    <button class="nav-btn" onclick="showSection(13)">Videos</button>
                </nav>
            </div>
            <div class="xp-container">
                <span>XP: <span id="xpCount">0</span></span>
                <div class="xp-bar">
                    <div class="xp-fill" id="xpBar"></div>
                </div>
                <span class="level-badge">Level <span id="levelCount">0</span></span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Section 0: Home/Introduction -->
        <section class="section active" id="section0">
            <h2>Welcome to AI Ethics</h2>
            
            <div class="task">
                <h3>Learning Outcomes</h3>
                <p>By the end of this lesson, you will be able to:</p>
                <ul>
                    <li>Explain the seven key principles of AI ethics</li>
                    <li>Identify ethical issues in real-world AI applications</li>
                    <li>Evaluate AI systems for potential bias and fairness concerns</li>
                    <li>Analyze the importance of transparency in AI decision-making</li>
                    <li>Discuss accountability and responsibility in AI development</li>
                    <li>Assess privacy implications of AI systems</li>
                    <li>Evaluate safety and reliability considerations</li>
                    <li>Explain the importance of human oversight in AI</li>
                </ul>
            </div>

            <div class="real-world-box">
                <h3>🌍 Real-World Context</h3>
                <p>AI is everywhere - from social media algorithms to medical diagnosis systems. Understanding AI ethics is crucial because these systems make decisions that affect millions of people daily. For example, AI is used in:</p>
                <ul>
                    <li>Hiring processes (CV screening)</li>
                    <li>Bank loan approvals</li>
                    <li>Criminal justice (predicting reoffending)</li>
                    <li>Healthcare (diagnosis and treatment recommendations)</li>
                    <li>Social media content moderation</li>
                </ul>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" disabled>← Previous</button>
                <button class="nav-arrow" onclick="showSection(1)">Next →</button>
            </div>
        </section>

        <!-- Section 1: Starter Activity -->
        <section class="section" id="section1">
            <h2>Starter Activity: AI Decision Maker</h2>
            
            <div class="task">
                <div class="task-title">You are the AI!</div>
                <p>In this activity, you'll play the role of an AI making decisions. Consider the ethical implications of each choice.</p>
                
                <div id="aiScenario" class="quiz-question">
                    <h4>Scenario 1: Job Application Screening</h4>
                    <p>You're an AI screening job applications. You notice that historically, your company has hired more men than women for technical roles. What should you do?</p>
                    
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="scenario1" value="a" onchange="checkScenario1()">
                            Continue using historical data - it reflects past successful hires
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="scenario1" value="b" onchange="checkScenario1()">
                            Adjust the algorithm to ensure equal consideration regardless of gender
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="scenario1" value="c" onchange="checkScenario1()">
                            Remove all gender-related information from applications
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="scenario1" value="d" onchange="checkScenario1()">
                            Flag this issue to human HR managers for review
                        </label>
                    </div>
                </div>

                <div id="scenario1Feedback" style="display:none; margin-top:1rem; padding:1rem; background:#e3f2fd; border-radius:5px;"></div>

                <button class="btn btn-reset" onclick="resetStarter()">Reset Activity</button>
                <button class="btn btn-hint" onclick="showHint('starter')">Get Hint (-5 XP)</button>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(0)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(2)">Next →</button>
            </div>
        </section>

        <!-- Section 2: Fairness and Non-Discrimination -->
        <section class="section" id="section2">
            <h2>Fairness and Non-Discrimination</h2>
            
            <div class="task">
                <h3>Understanding AI Bias</h3>
                <p>AI systems should be designed to avoid perpetuating or amplifying existing biases, ensuring equitable outcomes for all users.</p>
                
                <div class="real-world-box">
                    <h3>📱 Real Example: Face Recognition</h3>
                    <p>In 2019, studies found that many facial recognition systems had higher error rates for people with darker skin tones. This happened because the training data contained mostly lighter-skinned faces.</p>
                </div>

                <div class="task-title">Activity: Match the Bias</div>
                <p>Drag each AI scenario to its matching bias type. Each scenario shows a different way AI can be unfair:</p>
                
                <div class="drag-container">
                    <div class="drag-source">
                        <h4>AI Scenarios</h4>
                        <div id="biasScenarios">
                            <div class="draggable" draggable="true" data-answer="historical" id="bias1">
                                AI denies loans based on postcode
                            </div>
                            <div class="draggable" draggable="true" data-answer="representation" id="bias2">
                                Voice assistant doesn't understand accents
                            </div>
                            <div class="draggable" draggable="true" data-answer="measurement" id="bias3">
                                Health AI trained only on male patients
                            </div>
                            <div class="draggable" draggable="true" data-answer="aggregation" id="bias4">
                                Translation AI assumes doctors are male
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4>Bias Types</h4>
                        <div class="drop-zone" data-accept="historical">
                            <strong>Historical Bias</strong>
                            <p style="font-size:0.9rem;">When AI learns from past unfair decisions</p>
                            <p style="font-size:0.85rem; color:#666;">Example: If humans were unfair before, AI copies that unfairness</p>
                        </div>
                        <div class="drop-zone" data-accept="representation">
                            <strong>Representation Bias</strong>
                            <p style="font-size:0.9rem;">When AI doesn't have enough examples of all groups</p>
                            <p style="font-size:0.85rem; color:#666;">Example: Training mostly on one group, ignoring others</p>
                        </div>
                        <div class="drop-zone" data-accept="measurement">
                            <strong>Measurement Bias</strong>
                            <p style="font-size:0.9rem;">When data is collected unfairly or incompletely</p>
                            <p style="font-size:0.85rem; color:#666;">Example: Only testing on some people, not everyone</p>
                        </div>
                        <div class="drop-zone" data-accept="aggregation">
                            <strong>Aggregation Bias</strong>
                            <p style="font-size:0.9rem;">When AI assumes everyone is the same</p>
                            <p style="font-size:0.85rem; color:#666;">Example: Using stereotypes instead of treating people as individuals</p>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="checkBiasActivity()">Check Answers</button>
                <button class="btn btn-reset" onclick="resetBiasActivity()">Reset</button>
            </div>

            <div class="mistakes-box">
                <h3>⚠️ Common Mistakes</h3>
                <ul>
                    <li>Thinking "the data is objective" - data reflects human choices and biases</li>
                    <li>Believing removing protected characteristics (like race) prevents bias - proxies still exist</li>
                    <li>Assuming more data always reduces bias - it can amplify existing biases</li>
                </ul>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(1)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(3)">Next →</button>
            </div>
        </section>

        <!-- Section 3: Transparency and Explainability -->
        <section class="section" id="section3">
            <h2>Transparency and Explainability</h2>
            
            <div class="task">
                <h3>Black Box vs Glass Box AI</h3>
                <p>AI decision-making processes should be understandable to humans. This is crucial for building trust and accountability.</p>
                
                <div class="task-title">Interactive Simulation: AI Decision Explorer</div>
                <div id="aiSimulation" style="background:#f0f8ff; padding:1.5rem; border-radius:8px; margin:1rem 0;">
                    <h4>Medical Diagnosis AI</h4>
                    <p>Click to see how different AI approaches handle a diagnosis:</p>
                    
                    <div style="display:flex; gap:1rem; margin:1rem 0;">
                        <button class="btn" onclick="showBlackBox()">Black Box AI</button>
                        <button class="btn" onclick="showGlassBox()">Glass Box AI</button>
                    </div>
                    
                    <div id="simulationResult" style="margin-top:1rem; padding:1rem; background:white; border-radius:5px; min-height:150px;">
                        <p>Click a button above to explore AI transparency...</p>
                    </div>
                </div>

                <div class="quiz-question">
                    <h4>Quick Check: Why is explainability important?</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="checkbox" name="explainability" value="trust">
                            Builds trust with users
                        </label>
                        <label class="quiz-option">
                            <input type="checkbox" name="explainability" value="debug">
                            Helps identify and fix errors
                        </label>
                        <label class="quiz-option">
                            <input type="checkbox" name="explainability" value="legal">
                            Required by law in some cases
                        </label>
                        <label class="quiz-option">
                            <input type="checkbox" name="explainability" value="slow">
                            Makes AI run slower
                        </label>
                    </div>
                    <button class="btn" onclick="checkExplainability()">Check Answer</button>
                </div>

                <button class="btn btn-reset" onclick="resetTransparency()">Reset Section</button>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(2)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(4)">Next →</button>
            </div>
        </section>

        <!-- Section 4: Accountability and Responsibility -->
        <section class="section" id="section4">
            <h2>Accountability and Responsibility</h2>
            
            <div class="task">
                <h3>Who's Responsible?</h3>
                <p>Clear lines of responsibility must be established for AI system outcomes.</p>
                
                <div class="task-title">Case Study: Self-Driving Car Accident</div>
                <div class="real-world-box">
                    <p>A self-driving car's AI makes a split-second decision during an unavoidable accident scenario. The car swerves to avoid hitting multiple pedestrians but hits one person instead.</p>
                </div>

                <div class="quiz-question">
                    <h4>Match the stakeholder to their responsibility:</h4>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1rem; margin:1rem 0;">
                        <div>
                            <h5>Stakeholders</h5>
                            <select id="resp1" style="margin:0.5rem 0;">
                                <option value="">Car owner responsibility...</option>
                                <option value="ethical">Setting ethical parameters</option>
                                <option value="testing">Testing and validation</option>
                                <option value="maintenance">Regular updates and maintenance</option>
                                <option value="design">Algorithm design decisions</option>
                            </select>
                            <select id="resp2" style="margin:0.5rem 0;">
                                <option value="">AI developer responsibility...</option>
                                <option value="maintenance">Regular updates and maintenance</option>
                                <option value="design">Algorithm design decisions</option>
                                <option value="ethical">Setting ethical parameters</option>
                                <option value="testing">Testing and validation</option>
                            </select>
                            <select id="resp3" style="margin:0.5rem 0;">
                                <option value="">Manufacturer responsibility...</option>
                                <option value="testing">Testing and validation</option>
                                <option value="ethical">Setting ethical parameters</option>
                                <option value="design">Algorithm design decisions</option>
                                <option value="maintenance">Regular updates and maintenance</option>
                            </select>
                            <select id="resp4" style="margin:0.5rem 0;">
                                <option value="">Regulator responsibility...</option>
                                <option value="design">Algorithm design decisions</option>
                                <option value="maintenance">Regular updates and maintenance</option>
                                <option value="testing">Testing and validation</option>
                                <option value="ethical">Setting ethical parameters</option>
                            </select>
                        </div>
                        <div>
                            <h5>Expected Answers</h5>
                            <p style="font-size:0.9rem; color:#666;">
                                • Car Owner<br>
                                • AI Developer<br>
                                • Manufacturer<br>
                                • Government/Regulator
                            </p>
                        </div>
                    </div>
                    <button class="btn" onclick="checkResponsibility()">Check Matches</button>
                </div>

                <div class="task-title">Short Answer: Legal Framework</div>
                <p>In your own words, explain why we need laws specifically for AI systems (minimum 30 words):</p>
                <textarea id="legalAnswer" rows="4" placeholder="Start your answer here..."></textarea>
                <button class="btn" onclick="checkLegalAnswer()">Submit Answer</button>
                <div id="legalFeedback"></div>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(3)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(5)">Next →</button>
            </div>
        </section>

        <!-- Section 5: Privacy and Data Governance -->
        <section class="section" id="section5">
            <h2>Privacy and Data Governance</h2>
            
            <div class="task">
                <h3>Protecting Personal Data in AI</h3>
                <p>AI systems must respect user privacy and handle data responsibly.</p>
                
                <div class="task-title">Privacy Scenario Explorer</div>
                <div id="privacyScenario" style="background:#f0f8ff; padding:1.5rem; border-radius:8px;">
                    <h4>Smart Home Assistant Data Collection</h4>
                    <p>Your smart home assistant collects various types of data. Categorize each type by privacy risk level:</p>
                    
                    <div class="drag-container">
                        <div class="drag-source">
                            <h5>Data Types</h5>
                            <div id="privacyItems">
                                <div class="draggable" draggable="true" data-privacy="high" id="privacy1">
                                    Voice recordings of conversations
                                </div>
                                <div class="draggable" draggable="true" data-privacy="medium" id="privacy2">
                                    Device usage patterns
                                </div>
                                <div class="draggable" draggable="true" data-privacy="low" id="privacy3">
                                    Weather requests
                                </div>
                                <div class="draggable" draggable="true" data-privacy="high" id="privacy4">
                                    Contact lists and relationships
                                </div>
                                <div class="draggable" draggable="true" data-privacy="medium" id="privacy5">
                                    Shopping preferences
                                </div>
                                <div class="draggable" draggable="true" data-privacy="high" id="privacy6">
                                    Home security footage
                                </div>
                            </div>
                        </div>
                        
                        <div style="flex:1;">
                            <div class="drop-zone" data-accept="high" style="background:#ffe4e1;">
                                <strong>🔴 High Privacy Risk</strong>
                                <p style="font-size:0.85rem;">Very personal/sensitive data</p>
                            </div>
                            <div class="drop-zone" data-accept="medium" style="background:#fff8dc;">
                                <strong>🟡 Medium Privacy Risk</strong>
                                <p style="font-size:0.85rem;">Some personal information</p>
                            </div>
                            <div class="drop-zone" data-accept="low" style="background:#f0fff0;">
                                <strong>🟢 Low Privacy Risk</strong>
                                <p style="font-size:0.85rem;">General, non-personal data</p>
                            </div>
                        </div>
                    </div>
                    <button class="btn" onclick="checkPrivacyActivity()">Check Answers</button>
                    <button class="btn btn-reset" onclick="resetPrivacyActivity()">Reset</button>
                </div>

                <div class="quiz-question">
                    <h4>True or False: GDPR Compliance</h4>
                    <div style="margin:1rem 0;">
                        <label class="quiz-option">
                            <input type="radio" name="gdpr1" value="true">
                            True: AI systems must allow users to request deletion of their data
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="gdpr1" value="false">
                            False: AI systems must allow users to request deletion of their data
                        </label>
                    </div>
                    <button class="btn" onclick="checkGDPR()">Check Answer</button>
                </div>

                <button class="btn btn-reset" onclick="resetPrivacy()">Reset Section</button>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(4)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(6)">Next →</button>
            </div>
        </section>

        <!-- Section 6: Safety and Reliability -->
        <section class="section" id="section6">
            <h2>Safety and Reliability</h2>
            
            <div class="task">
                <h3>Testing AI Safety</h3>
                <p>AI should function safely and reliably as intended, with safeguards against harmful consequences.</p>
                
                <div class="task-title">Simulation: AI Safety Testing Lab</div>
                <div id="safetyLab" style="background:#f0f8ff; padding:1.5rem; border-radius:8px;">
                    <h4>Test an AI Medical Diagnosis System</h4>
                    <p>Run different test scenarios to check the AI's safety features:</p>
                    
                    <div style="margin:1rem 0;">
                        <button class="btn" onclick="runSafetyTest('edge')">Test Edge Cases</button>
                        <button class="btn" onclick="runSafetyTest('failure')">Test Failure Modes</button>
                        <button class="btn" onclick="runSafetyTest('confidence')">Test Confidence Levels</button>
                    </div>
                    
                    <div id="safetyResults" style="margin-top:1rem; padding:1rem; background:white; border-radius:5px; min-height:100px;">
                        <p>Click a test button to see results...</p>
                    </div>
                </div>

                <div class="task-title">Sequencing Activity: Safety Protocol Steps</div>
                <p>Put these AI safety steps in the correct order:</p>
                <div id="sequenceContainer">
                    <div class="draggable" draggable="true" data-order="3">
                        Deploy with monitoring systems
                    </div>
                    <div class="draggable" draggable="true" data-order="1">
                        Identify potential risks and failure modes
                    </div>
                    <div class="draggable" draggable="true" data-order="4">
                        Regular updates based on real-world performance
                    </div>
                    <div class="draggable" draggable="true" data-order="2">
                        Implement safety constraints and testing
                    </div>
                </div>
                <button class="btn" onclick="checkSequence()">Check Order</button>

                <button class="btn btn-reset" onclick="resetSafety()">Reset Section</button>
            </div>

            <div class="mistakes-box">
                <h3>⚠️ Common Safety Mistakes</h3>
                <ul>
                    <li>Testing only with "normal" data - edge cases reveal problems</li>
                    <li>Assuming AI will always work as in testing - real world is messier</li>
                    <li>Not planning for AI failures - always need human backup</li>
                </ul>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(5)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(7)">Next →</button>
            </div>
        </section>

        <!-- Section 7: Human Oversight and Control -->
        <section class="section" id="section7">
            <h2>Human Oversight and Control</h2>
            
            <div class="task">
                <h3>Keeping Humans in the Loop</h3>
                <p>AI should augment human capabilities, not replace human judgment in critical decisions.</p>
                
                <div class="task-title">Compare and Contrast Activity</div>
                <p>Fill in the comparison table for AI vs Human decision-making:</p>
                
                <table style="width:100%; border-collapse:collapse; margin:1rem 0;">
                    <tr>
                        <th style="border:1px solid #ddd; padding:0.5rem; background:#f0f8ff;">Aspect</th>
                        <th style="border:1px solid #ddd; padding:0.5rem; background:#f0f8ff;">AI Strengths</th>
                        <th style="border:1px solid #ddd; padding:0.5rem; background:#f0f8ff;">Human Strengths</th>
                    </tr>
                    <tr>
                        <td style="border:1px solid #ddd; padding:0.5rem;">Speed</td>
                        <td style="border:1px solid #ddd; padding:0.5rem;">
                            <select id="compare1">
                                <option value="">Choose...</option>
                                <option value="wrong">Slower than humans</option>
                                <option value="correct">Can process millions of items per second</option>
                                <option value="wrong">Same as humans</option>
                            </select>
                        </td>
                        <td style="border:1px solid #ddd; padding:0.5rem;">
                            <select id="compare2">
                                <option value="">Choose...</option>
                                <option value="correct">Can consider context and nuance</option>
                                <option value="wrong">Faster processing</option>
                                <option value="wrong">Perfect memory</option>
                            </select>
                        </td>
                    </tr>
                </table>

                <div class="quiz-question">
                    <h4>Scenario: AI Judge Assistant</h4>
                    <p>An AI system helps judges by analyzing case law and predicting likely sentences. How should this be used?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="judge" value="a">
                            Let the AI make final sentencing decisions for efficiency
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="judge" value="b">
                            Use AI suggestions but require human judge to make final decision
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="judge" value="c">
                            Don't use AI in justice system at all
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="judge" value="d">
                            Only use AI for minor cases
                        </label>
                    </div>
                    <button class="btn" onclick="checkJudgeScenario()">Check Answer</button>
                </div>

                <button class="btn btn-reset" onclick="resetOversight()">Reset Section</button>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(6)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(8)">Next →</button>
            </div>
        </section>

        <!-- Section 8: Beneficence and Non-maleficence -->
        <section class="section" id="section8">
            <h2>Beneficence and Non-maleficence</h2>
            
            <div class="task">
                <h3>AI for Good, Not Harm</h3>
                <p>AI should be developed for the benefit of society (beneficence) and avoid causing harm (non-maleficence).</p>
                
                <div class="task-title">Odd One Out Activity</div>
                <p>Which of these AI applications doesn't follow the principle of beneficence?</p>
                
                <div class="quiz-options">
                    <label class="quiz-option">
                        <input type="radio" name="oddone" value="a">
                        AI detecting cancer in medical scans
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="oddone" value="b">
                        AI creating deepfake videos for fraud
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="oddone" value="c">
                        AI optimizing traffic flow in cities
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="oddone" value="d">
                        AI helping students with learning disabilities
                    </label>
                </div>
                <button class="btn" onclick="checkOddOne()">Check Answer</button>

                <div class="task-title">Synthesis Activity: Design an Ethical AI</div>
                <p>Design an AI system that helps society. Include all ethical principles we've learned:</p>
                <textarea id="designAI" rows="6" placeholder="Describe your AI system, its purpose, and how it addresses each ethical principle..."></textarea>
                <button class="btn" onclick="checkDesign()">Submit Design</button>
                <div id="designFeedback"></div>

                <button class="btn btn-reset" onclick="resetBeneficence()">Reset Section</button>
            </div>

            <div class="real-world-box">
                <h3>🌟 Positive AI Examples</h3>
                <ul>
                    <li>AI predicting natural disasters to save lives</li>
                    <li>AI helping develop new medicines faster</li>
                    <li>AI making education accessible to remote areas</li>
                    <li>AI reducing energy consumption in buildings</li>
                </ul>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(7)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(9)">Next →</button>
            </div>
        </section>

        <!-- Section 9: Common Mistakes -->
        <section class="section" id="section9">
            <h2>Common Mistakes in AI Ethics</h2>
            
            <div class="task">
                <h3>Learn from Mistakes</h3>
                <p>Understanding common misconceptions helps avoid ethical pitfalls in AI development.</p>
                
                <div class="mistakes-box">
                    <h3>🚫 Misconception Buster</h3>
                    <div class="quiz-question">
                        <p><strong>Statement:</strong> "AI is completely objective because it's just math and code."</p>
                        <button class="btn" onclick="bustMyth(1)">Why is this wrong?</button>
                        <div id="myth1" style="display:none; margin-top:1rem; padding:1rem; background:#fff;">
                            <p>This is incorrect because:</p>
                            <ul>
                                <li>AI learns from human-created data which contains biases</li>
                                <li>Humans choose what data to use and how to design algorithms</li>
                                <li>The definition of "fairness" itself is subjective</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="quiz-question" style="margin-top:1rem;">
                        <p><strong>Statement:</strong> "More data always makes AI better and fairer."</p>
                        <button class="btn" onclick="bustMyth(2)">Why is this wrong?</button>
                        <div id="myth2" style="display:none; margin-top:1rem; padding:1rem; background:#fff;">
                            <p>This is incorrect because:</p>
                            <ul>
                                <li>Biased data amplified by volume becomes worse</li>
                                <li>Quality matters more than quantity</li>
                                <li>Some groups may still be underrepresented</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="task-title">Interactive: Fix the Mistake</div>
                <p>Here's a flawed approach to AI ethics. Select ALL the problems:</p>
                
                <div style="background:#f8f9fa; padding:1rem; border-radius:8px; margin:1rem 0;">
                    <p><em>"We'll build our AI first and add ethics later. We'll just remove any sensitive attributes like race and gender from the data, and that will make it fair. If something goes wrong, users should have known AI isn't perfect."</em></p>
                </div>
                
                <div class="quiz-options">
                    <label class="quiz-option">
                        <input type="checkbox" name="flaws" value="afterthought">
                        Ethics treated as afterthought
                    </label>
                    <label class="quiz-option">
                        <input type="checkbox" name="flaws" value="naive">
                        Naive approach to bias (removing attributes)
                    </label>
                    <label class="quiz-option">
                        <input type="checkbox" name="flaws" value="responsibility">
                        Avoiding responsibility
                    </label>
                    <label class="quiz-option">
                        <input type="checkbox" name="flaws" value="perfect">
                        Assuming AI should be perfect
                    </label>
                </div>
                <button class="btn" onclick="checkFlaws()">Check Answers</button>

                <button class="btn btn-reset" onclick="resetMistakes()">Reset Section</button>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(8)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(10)">Next →</button>
            </div>
        </section>

        <!-- Section 10: Practice Exam Questions -->
        <section class="section" id="section10">
            <h2>Practice Exam Questions</h2>
            
            <div class="task">
                <h3>GCSE-Style Questions</h3>
                <p>Answer these exam-style questions. Mark schemes will appear after you've made a good attempt.</p>
                
                <div class="quiz-question">
                    <h4>Question 1 (4 marks)</h4>
                    <p>Explain two ways that bias can enter an AI system and give an example for each.</p>
                    <textarea id="exam1" rows="6" placeholder="Write your answer here..."></textarea>
                    <button class="btn" onclick="checkExam1()">Submit Answer</button>
                    <div id="examFeedback1"></div>
                    <div id="markScheme1" class="mark-scheme">
                        <h5>Mark Scheme:</h5>
                        <ul>
                            <li>1 mark for each valid way bias can enter (max 2)</li>
                            <li>1 mark for each relevant example (max 2)</li>
                        </ul>
                        <p><strong>Example answers:</strong></p>
                        <ul>
                            <li>Historical bias - training data reflects past discrimination (e.g., hiring AI trained on data where women were historically excluded)</li>
                            <li>Representation bias - some groups underrepresented in training data (e.g., facial recognition trained mostly on white faces)</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-question">
                    <h4>Question 2 (6 marks)</h4>
                    <p>A company wants to use AI to screen job applications. Discuss three ethical considerations they should address.</p>
                    <textarea id="exam2" rows="8" placeholder="Write your answer here..."></textarea>
                    <button class="btn" onclick="checkExam2()">Submit Answer</button>
                    <div id="examFeedback2"></div>
                    <div id="markScheme2" class="mark-scheme">
                        <h5>Mark Scheme:</h5>
                        <ul>
                            <li>2 marks for each valid ethical consideration explained (max 6)</li>
                        </ul>
                        <p><strong>Example points:</strong></p>
                        <ul>
                            <li>Fairness - ensure no discrimination based on protected characteristics</li>
                            <li>Transparency - candidates should know AI is being used and how decisions are made</li>
                            <li>Accountability - clear responsibility for decisions</li>
                            <li>Privacy - proper handling of personal data</li>
                        </ul>
                    </div>
                </div>

                <div class="task-title">Predicted Marks</div>
                <p>Enter your predicted mark out of 10:</p>
                <input type="number" id="predictedMark" min="0" max="10" style="width:100px;">
                <button class="btn" onclick="savePrediction()">Save Prediction</button>

                <button class="btn btn-reset" onclick="resetExam()">Reset Section</button>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(9)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(11)">Next →</button>
            </div>
        </section>

        <!-- Section 11: Extension Activities -->
        <section class="section" id="section11">
            <h2>Extension Activities</h2>
            
            <div class="extension-box">
                <h3>🚀 Going Beyond the Specification</h3>
                <p>These activities explore advanced AI ethics concepts for students wanting to deepen their understanding.</p>
                
                <div class="task">
                    <h4>Extension 1: The Trolley Problem for AI</h4>
                    <p>Research the classic "trolley problem" and how it applies to self-driving cars. Write a 200-word essay on how AI should handle unavoidable accident scenarios.</p>
                    <textarea id="extension1" rows="8" placeholder="Write your essay here..."></textarea>
                    <button class="btn" onclick="submitExtension1()">Submit Essay</button>
                    
                    <h4 style="margin-top:2rem;">Extension 2: AI Rights</h4>
                    <p>As AI becomes more sophisticated, should AI systems have rights? Consider:</p>
                    <ul>
                        <li>What would qualify an AI for rights?</li>
                        <li>What rights might they need?</li>
                        <li>How would this affect development?</li>
                    </ul>
                    <textarea id="extension2" rows="6" placeholder="Share your thoughts..."></textarea>
                    <button class="btn" onclick="submitExtension2()">Submit Response</button>
                    
                    <h4 style="margin-top:2rem;">Extension 3: Create an AI Ethics Charter</h4>
                    <p>Design a comprehensive AI Ethics Charter for a tech company. Include at least 10 principles with explanations.</p>
                    <textarea id="extension3" rows="10" placeholder="Write your charter here..."></textarea>
                    <button class="btn" onclick="submitExtension3()">Submit Charter</button>
                </div>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(10)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(12)">Next →</button>
            </div>
        </section>

        <!-- Section 12: Summary and Final Quiz -->
        <section class="section" id="section12">
            <h2>Summary and Final Assessment</h2>
            
            <div class="task">
                <h3>Key Takeaways</h3>
                <ul>
                    <li><strong>Fairness:</strong> AI must avoid bias and discrimination</li>
                    <li><strong>Transparency:</strong> AI decisions should be explainable</li>
                    <li><strong>Accountability:</strong> Clear responsibility for AI outcomes</li>
                    <li><strong>Privacy:</strong> Respect and protect user data</li>
                    <li><strong>Safety:</strong> AI must be reliable with safeguards</li>
                    <li><strong>Human Oversight:</strong> Keep humans in control</li>
                    <li><strong>Beneficence:</strong> AI should help, not harm society</li>
                </ul>

                <div class="task-title">Final Assessment</div>
                <p>Complete this final quiz to test your understanding:</p>

                <!-- Question 1 -->
                <div class="quiz-question">
                    <h4>1. Which is NOT a valid approach to reducing AI bias?</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final1" value="a">
                            Using diverse training data
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final1" value="b">
                            Regular testing for discrimination
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final1" value="c">
                            Simply removing all demographic data
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final1" value="d">
                            Including diverse development teams
                        </label>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question">
                    <h4>2. Why is explainability important in AI?</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final2" value="a">
                            It makes AI run faster
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final2" value="b">
                            Users can understand and trust decisions
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final2" value="c">
                            It reduces development costs
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final2" value="d">
                            It's not actually important
                        </label>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question">
                    <h4>3. In a self-driving car accident, who has primary responsibility?</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final3" value="a">
                            Only the car owner
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final3" value="b">
                            Only the AI developer
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final3" value="c">
                            Shared among multiple stakeholders
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final3" value="d">
                            No one - it's the AI's fault
                        </label>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question">
                    <h4>4. Which data would be highest privacy risk for a smart assistant?</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final4" value="a">
                            Weather queries
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final4" value="b">
                            Timer settings
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final4" value="c">
                            Recorded conversations
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final4" value="d">
                            Music preferences
                        </label>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question">
                    <h4>5. What's the correct order for AI safety implementation?</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final5" value="a">
                            Deploy → Test → Monitor → Update
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final5" value="b">
                            Identify risks → Test → Deploy → Monitor
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final5" value="c">
                            Test → Identify risks → Deploy → Update
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final5" value="d">
                            Deploy → Identify risks → Test → Monitor
                        </label>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question">
                    <h4>6. Human oversight in AI means:</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final6" value="a">
                            Humans watch AI work but can't intervene
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final6" value="b">
                            AI makes all decisions independently
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final6" value="c">
                            Humans retain control over critical decisions
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final6" value="d">
                            Only using AI for simple tasks
                        </label>
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question">
                    <h4>7. Which AI application violates beneficence?</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final7" value="a">
                            Disease prediction systems
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final7" value="b">
                            Educational support tools
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final7" value="c">
                            Deepfake creation for fraud
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final7" value="d">
                            Language translation
                        </label>
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question">
                    <h4>8. "AI is objective because it's just code" is wrong because:</h4>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="final8" value="a">
                            Code has bugs
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final8" value="b">
                            AI learns from biased human data
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final8" value="c">
                            Computers make mistakes
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="final8" value="d">
                            AI is too complex
                        </label>
                    </div>
                </div>

                <button class="btn" onclick="checkFinalQuiz()">Submit Final Quiz</button>
                <div id="finalQuizResults"></div>

                <button class="btn btn-reset" onclick="resetSummary()">Reset Quiz</button>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(11)">← Previous</button>
                <button class="nav-arrow" onclick="showSection(13)">Next →</button>
            </div>
        </section>

        <!-- Section 13: Videos -->
        <section class="section" id="section13">
            <h2>Additional Video Resources</h2>
            
            <div class="task">
                <h3>📺 Video Playlist</h3>
                <p>Watch these videos to reinforce your learning:</p>
                
                <div style="background:#f8f9fa; padding:2rem; border-radius:8px; text-align:center; margin:1rem 0;">
                    <p style="color:#666; font-size:3rem; margin:1rem 0;">🎥</p>
                    <p><strong>Video 1:</strong> Introduction to AI Ethics (10 mins)</p>
                    <p style="color:#666;">[Video placeholder - add embed code]</p>
                </div>

                <div style="background:#f8f9fa; padding:2rem; border-radius:8px; text-align:center; margin:1rem 0;">
                    <p style="color:#666; font-size:3rem; margin:1rem 0;">🎬</p>
                    <p><strong>Video 2:</strong> Real World AI Bias Examples (8 mins)</p>
                    <p style="color:#666;">[Video placeholder - add embed code]</p>
                </div>

                <div style="background:#f8f9fa; padding:2rem; border-radius:8px; text-align:center; margin:1rem 0;">
                    <p style="color:#666; font-size:3rem; margin:1rem 0;">📹</p>
                    <p><strong>Video 3:</strong> The Future of Ethical AI (12 mins)</p>
                    <p style="color:#666;">[Video placeholder - add embed code]</p>
                </div>

                <h3 style="margin-top:2rem;">🎓 Congratulations!</h3>
                <p>You've completed the AI Ethics lesson. Check your final XP and level above!</p>
            </div>

            <div class="section-nav">
                <button class="nav-arrow" onclick="showSection(12)">← Previous</button>
                <button class="nav-arrow" disabled>Next →</button>
            </div>
        </section>
    </main>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup">
        <div class="achievement-title" id="achievementTitle">Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've earned an achievement!</div>
    </div>

    <!-- Feedback Button and Modal -->
    <button class="feedback-btn" onclick="openFeedback()">💬</button>
    
    <div id="feedbackModal" class="feedback-modal">
        <div class="feedback-content">
            <h3>Send Feedback</h3>
            <p>Found a bug or have a suggestion? Let us know!</p>
            <p style="color:#666; font-size:0.9rem;">Current page: <span id="currentPageInfo"></span></p>
            <textarea id="feedbackText" rows="5" placeholder="Describe the issue or suggestion..."></textarea>
            <div style="margin-top:1rem;">
                <button class="btn" onclick="sendFeedback()">Send Feedback</button>
                <button class="btn btn-reset" onclick="closeFeedback()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Paste Warning -->
    <div id="pasteWarning" class="paste-warning">
        <h3>🚫 Nice try!</h3>
        <p>Pasting is disabled. Type your own answers to learn properly!</p>
    </div>

    <!-- Accessibility Controls -->
    <div id="accessibilityControls" class="accessibility-controls">
        <h4>Accessibility Options</h4>
        <button class="btn" onclick="toggleHighContrast()">Toggle High Contrast</button>
        <button class="btn" onclick="increaseFontSize()">Increase Font Size</button>
        <button class="btn" onclick="decreaseFontSize()">Decrease Font Size</button>
    </div>

    <script>
        // Global Variables
        let currentSection = 0;
        let xp = 0;
        let level = 0;
        let achievements = new Set();
        let hintUsed = new Set();
        let completedTasks = new Set();

        // XP and Level System
        function addXP(points) {
            if (points < 0 && hintUsed.has(currentSection)) return;
            if (points < 0) hintUsed.add(currentSection);
            
            xp += points;
            document.getElementById('xpCount').textContent = xp;
            
            // Calculate level (100 XP per level, max level 5)
            let newLevel = Math.min(Math.floor(xp / 100), 5);
            if (newLevel > level) {
                level = newLevel;
                document.getElementById('levelCount').textContent = level;
                showAchievement('Level Up!', 'You reached level ' + level + '!');
            }
            
            // Update XP bar
            let xpPercent = (xp % 100);
            document.getElementById('xpBar').style.width = xpPercent + '%';
        }

        // Achievement System
        function showAchievement(title, desc) {
            const popup = document.getElementById('achievementPopup');
            document.getElementById('achievementTitle').textContent = title;
            document.getElementById('achievementDesc').textContent = desc;
            popup.classList.add('show');
            
            setTimeout(() => {
                popup.classList.remove('show');
            }, 3000);
        }

        // Navigation
        function showSection(index) {
            const sections = document.querySelectorAll('.section');
            const navBtns = document.querySelectorAll('.nav-btn');
            
            sections.forEach(s => s.classList.remove('active'));
            navBtns.forEach(b => b.classList.remove('active'));
            
            sections[index].classList.add('active');
            navBtns[index].classList.add('active');
            currentSection = index;
            
            // Update feedback current page
            const sectionTitles = ['Home', 'Starter', 'Fairness', 'Transparency', 'Accountability', 
                                  'Privacy', 'Safety', 'Human Control', 'Beneficence', 'Common Mistakes',
                                  'Exam Practice', 'Extensions', 'Summary', 'Videos'];
            document.getElementById('currentPageInfo').textContent = sectionTitles[index];
        }

        // Prevent Paste
        document.addEventListener('paste', (e) => {
            e.preventDefault();
            const warning = document.getElementById('pasteWarning');
            warning.style.display = 'block';
            setTimeout(() => {
                warning.style.display = 'none';
            }, 2000);
            return false;
        });

        // Drag and Drop Setup
        function setupDragAndDrop() {
            const draggables = document.querySelectorAll('.draggable');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', (e) => {
                    e.dataTransfer.effectAllowed = 'move';
                    e.dataTransfer.setData('text/html', e.target.innerHTML);
                    e.dataTransfer.setData('answer', e.target.dataset.answer || '');
                    e.dataTransfer.setData('privacy', e.target.dataset.privacy || '');
                    e.dataTransfer.setData('order', e.target.dataset.order || '');
                    e.target.classList.add('dragging');
                });
                
                draggable.addEventListener('dragend', (e) => {
                    e.target.classList.remove('dragging');
                });
            });
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('drag-over');
                });
                
                zone.addEventListener('dragleave', () => {
                    zone.classList.remove('drag-over');
                });
                
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    
                    const droppedHtml = e.dataTransfer.getData('text/html');
                    const answer = e.dataTransfer.getData('answer');
                    const privacy = e.dataTransfer.getData('privacy');
                    
                    const newElement = document.createElement('div');
                    newElement.className = 'draggable';
                    newElement.draggable = true;
                    newElement.innerHTML = droppedHtml;
                    newElement.dataset.answer = answer;
                    newElement.dataset.privacy = privacy;
                    
                    zone.appendChild(newElement);
                    setupDragAndDrop(); // Re-setup for new elements
                });
            });
        }

        // Section 1: Starter Activity
        function checkScenario1() {
            const selected = document.querySelector('input[name="scenario1"]:checked');
            if (!selected) return;
            
            const feedback = document.getElementById('scenario1Feedback');
            feedback.style.display = 'block';
            
            if (selected.value === 'b' || selected.value === 'd') {
                feedback.innerHTML = '<strong>Good thinking!</strong> Both adjusting the algorithm and flagging to humans show awareness of bias issues.';
                feedback.style.background = '#d5f4e6';
                if (!completedTasks.has('scenario1')) {
                    addXP(20);
                    completedTasks.add('scenario1');
                }
            } else {
                feedback.innerHTML = '<strong>Consider this:</strong> Historical bias can perpetuate discrimination. We need active measures to ensure fairness.';
                feedback.style.background = '#fadbd8';
            }
        }

        function resetStarter() {
            document.querySelectorAll('input[name="scenario1"]').forEach(input => {
                input.checked = false;
            });
            document.getElementById('scenario1Feedback').style.display = 'none';
        }

        function showHint(section) {
            if (section === 'starter') {
                alert('Hint: Think about how historical patterns might not represent fair outcomes.');
                addXP(-5);
            }
        }

        // Section 2: Fairness - Bias Activity
        function checkBiasActivity() {
            const dropZones = document.querySelectorAll('#section2 .drop-zone');
            let correct = 0;
            let total = 0;
            
            dropZones.forEach(zone => {
                const expected = zone.dataset.accept;
                const items = zone.querySelectorAll('.draggable');
                
                items.forEach(item => {
                    total++;
                    if (item.dataset.answer === expected) {
                        item.style.background = '#d5f4e6';
                        item.style.border = '2px solid #27ae60';
                        correct++;
                    } else {
                        item.style.background = '#fadbd8';
                        item.style.border = '2px solid #e74c3c';
                    }
                });
            });
            
            const feedback = document.createElement('div');
            feedback.style.marginTop = '1rem';
            feedback.style.padding = '1rem';
            feedback.style.borderRadius = '5px';
            
            if (correct === 4 && total === 4) {
                feedback.style.background = '#d5f4e6';
                feedback.innerHTML = '<strong>Perfect!</strong> You correctly identified all bias types. Each type shows a different way AI can be unfair to people.';
                if (!completedTasks.has('biasActivityChecked')) {
                    addXP(15);
                    completedTasks.add('biasActivityChecked');
                }
            } else if (correct >= 2) {
                feedback.style.background = '#fff8dc';
                feedback.innerHTML = `<strong>Good try!</strong> You got ${correct} out of 4 correct. Look at the red items and think about why they might be in the wrong category.`;
                if (!completedTasks.has('biasActivityPartial')) {
                    addXP(5);
                    completedTasks.add('biasActivityPartial');
                }
            } else {
                feedback.style.background = '#fadbd8';
                feedback.innerHTML = '<strong>Keep trying!</strong> Remember: Historical = past unfairness, Representation = missing groups, Measurement = bad data collection, Aggregation = stereotypes.';
            }
            
            // Add feedback to page if not already there
            const existingFeedback = document.querySelector('#section2 .bias-feedback');
            if (existingFeedback) {
                existingFeedback.replaceWith(feedback);
            } else {
                feedback.className = 'bias-feedback';
                document.querySelector('#section2 .task').appendChild(feedback);
            }
        }

        function resetBiasActivity() {
            // Move all draggables back to original container
            const originalContainer = document.querySelector('#biasScenarios');
            const allDraggables = document.querySelectorAll('#section2 .draggable');
            
            allDraggables.forEach(draggable => {
                // Reset styles
                draggable.style.background = '';
                draggable.style.border = '';
                draggable.classList.remove('placed-correctly');
                
                // Move back to original container
                originalContainer.appendChild(draggable);
            });
            
            // Remove feedback
            const feedback = document.querySelector('#section2 .bias-feedback');
            if (feedback) feedback.remove();
            
            // Re-setup drag and drop
            updateDraggables();
        }

        // Section 3: Transparency
        function showBlackBox() {
            const result = document.getElementById('simulationResult');
            result.innerHTML = `
                <h5>🔒 Black Box AI Result:</h5>
                <p><strong>Diagnosis:</strong> 87% chance of condition X</p>
                <p><strong>Recommendation:</strong> Start treatment immediately</p>
                <p><strong>Explanation:</strong> <em>No explanation available - proprietary algorithm</em></p>
                <p style="color:#e74c3c; margin-top:1rem;">❌ Doctor cannot verify reasoning or check for errors</p>
            `;
        }

        function showGlassBox() {
            const result = document.getElementById('simulationResult');
            result.innerHTML = `
                <h5>🔍 Glass Box AI Result:</h5>
                <p><strong>Diagnosis:</strong> 87% chance of condition X</p>
                <p><strong>Reasoning:</strong></p>
                <ul>
                    <li>Symptom A present (contributes 40% to diagnosis)</li>
                    <li>Lab result B abnormal (contributes 30%)</li>
                    <li>Patient age and history (contributes 17%)</li>
                </ul>
                <p><strong>Recommendation:</strong> Start treatment after human review</p>
                <p style="color:#27ae60; margin-top:1rem;">✅ Doctor can verify reasoning and spot potential issues</p>
            `;
            
            if (!completedTasks.has('glassBox')) {
                addXP(15);
                completedTasks.add('glassBox');
            }
        }

        function checkExplainability() {
            const checkboxes = document.querySelectorAll('input[name="explainability"]:checked');
            let correct = 0;
            
            checkboxes.forEach(cb => {
                if (cb.value !== 'slow') correct++;
            });
            
            if (correct === 3 && checkboxes.length === 3) {
                alert('Correct! All three are important reasons for explainability.');
                if (!completedTasks.has('explainability')) {
                    addXP(20);
                    completedTasks.add('explainability');
                }
            } else {
                alert('Not quite. Explainability doesn\'t necessarily make AI slower.');
            }
        }

        function resetTransparency() {
            document.getElementById('simulationResult').innerHTML = '<p>Click a button above to explore AI transparency...</p>';
            document.querySelectorAll('input[name="explainability"]').forEach(cb => cb.checked = false);
        }

        // Section 4: Accountability
        function checkResponsibility() {
            const resp1 = document.getElementById('resp1').value;
            const resp2 = document.getElementById('resp2').value;
            const resp3 = document.getElementById('resp3').value;
            const resp4 = document.getElementById('resp4').value;
            
            let correct = 0;
            if (resp1 === 'maintenance') correct++;
            if (resp2 === 'design') correct++;
            if (resp3 === 'testing') correct++;
            if (resp4 === 'ethical') correct++;
            
            alert('You got ' + correct + ' out of 4 correct!');
            
            if (correct === 4 && !completedTasks.has('responsibility')) {
                addXP(25);
                completedTasks.add('responsibility');
            }
        }

        function checkLegalAnswer() {
            const answer = document.getElementById('legalAnswer').value.trim();
            const wordCount = answer.split(/\s+/).filter(word => word.length > 0).length;
            const feedback = document.getElementById('legalFeedback');
            
            if (wordCount < 30) {
                feedback.innerHTML = '<p style="color:#e74c3c;">Please write at least 30 words to fully explain your answer.</p>';
                return;
            }
            
            const keywords = ['accountability', 'responsibility', 'safety', 'protection', 'rights', 'standards', 'regulation', 'harm', 'framework'];
            let keywordCount = 0;
            
            keywords.forEach(keyword => {
                if (answer.toLowerCase().includes(keyword)) keywordCount++;
            });
            
            if (keywordCount >= 2) {
                feedback.innerHTML = '<p style="color:#27ae60;">Excellent answer! You\'ve identified key reasons for AI-specific legislation.</p>';
                if (!completedTasks.has('legalAnswer')) {
                    addXP(30);
                    completedTasks.add('legalAnswer');
                }
            } else {
                feedback.innerHTML = '<p style="color:#f39c12;">Good effort! Consider mentioning accountability, safety standards, or protecting citizens\' rights.</p>';
                addXP(10);
            }
        }

        // Section 5: Privacy
        function checkPrivacyActivity() {
            const dropZones = document.querySelectorAll('#section5 .drop-zone');
            let correct = 0;
            let total = 0;
            
            dropZones.forEach(zone => {
                const expected = zone.dataset.accept;
                const items = zone.querySelectorAll('.draggable');
                
                items.forEach(item => {
                    total++;
                    if (item.dataset.privacy === expected) {
                        item.style.background = '#d5f4e6';
                        item.style.border = '2px solid #27ae60';
                        correct++;
                        
                        // Award XP for first correct placement
                        if (!item.classList.contains('privacy-correct')) {
                            item.classList.add('privacy-correct');
                            addXP(5);
                        }
                    } else {
                        item.style.background = '#fadbd8';
                        item.style.border = '2px solid #e74c3c';
                    }
                });
            });
            
            const feedback = document.createElement('div');
            feedback.style.marginTop = '1rem';
            feedback.style.padding = '1rem';
            feedback.style.borderRadius = '5px';
            
            if (correct === 6 && total === 6) {
                feedback.style.background = '#d5f4e6';
                feedback.innerHTML = '<strong>Excellent!</strong> You understand privacy risks. Remember: voice recordings and security footage are very sensitive!';
                if (!completedTasks.has('privacyComplete')) {
                    addXP(25);
                    completedTasks.add('privacyComplete');
                    showAchievement('Privacy Guardian!', 'You correctly assessed all privacy risks!');
                }
            } else {
                feedback.style.background = '#fff8dc';
                feedback.innerHTML = `<strong>You got ${correct} out of 6 correct.</strong> Think about: What data reveals most about your personal life?`;
            }
            
            const existingFeedback = document.querySelector('#section5 .privacy-feedback');
            if (existingFeedback) {
                existingFeedback.replaceWith(feedback);
            } else {
                feedback.className = 'privacy-feedback';
                document.querySelector('#privacyScenario').appendChild(feedback);
            }
        }

        function resetPrivacyActivity() {
            const originalContainer = document.querySelector('#privacyItems');
            const allDraggables = document.querySelectorAll('#section5 .draggable');
            
            allDraggables.forEach(draggable => {
                draggable.style.background = '';
                draggable.style.border = '';
                draggable.classList.remove('privacy-correct');
                originalContainer.appendChild(draggable);
            });
            
            const feedback = document.querySelector('#section5 .privacy-feedback');
            if (feedback) feedback.remove();
            
            updateDraggables();
        }

        function checkGDPR() {
            const selected = document.querySelector('input[name="gdpr1"]:checked');
            if (!selected) return;
            
            if (selected.value === 'true') {
                alert('Correct! GDPR gives users the "right to erasure" (right to be forgotten).');
                if (!completedTasks.has('gdpr')) {
                    addXP(15);
                    completedTasks.add('gdpr');
                }
            } else {
                alert('Actually, this is TRUE. GDPR requires systems to allow data deletion on request.');
            }
        }

        function resetPrivacy() {
            resetPrivacyActivity();
            document.querySelectorAll('input[name="gdpr1"]').forEach(input => input.checked = false);
        }

        // Section 6: Safety
        function runSafetyTest(testType) {
            const results = document.getElementById('safetyResults');
            
            if (testType === 'edge') {
                results.innerHTML = `
                    <h5>Edge Case Test Results:</h5>
                    <p>✅ Handles missing data gracefully</p>
                    <p>✅ Rejects invalid inputs</p>
                    <p>❌ Unexpected behavior with rare disease combination</p>
                    <p><strong>Action:</strong> Fix edge case handling before deployment</p>
                `;
            } else if (testType === 'failure') {
                results.innerHTML = `
                    <h5>Failure Mode Test Results:</h5>
                    <p>✅ Degrades gracefully when confidence low</p>
                    <p>✅ Alerts human when uncertain</p>
                    <p>✅ Maintains safety protocols during errors</p>
                    <p><strong>Result:</strong> Acceptable failure handling</p>
                `;
            } else if (testType === 'confidence') {
                results.innerHTML = `
                    <h5>Confidence Level Test Results:</h5>
                    <p>High confidence (>90%): Direct recommendation</p>
                    <p>Medium confidence (70-90%): Suggests human review</p>
                    <p>Low confidence (<70%): Refuses to diagnose</p>
                    <p><strong>Result:</strong> Appropriate confidence thresholds</p>
                `;
            }
            
            if (!completedTasks.has('safety' + testType)) {
                addXP(10);
                completedTasks.add('safety' + testType);
            }
        }

        function checkSequence() {
            const items = document.querySelectorAll('#sequenceContainer .draggable');
            let correct = true;
            let expectedOrder = 1;
            
            items.forEach(item => {
                if (parseInt(item.dataset.order) !== expectedOrder) {
                    correct = false;
                }
                expectedOrder++;
            });
            
            if (correct) {
                alert('Perfect! You understand the safety implementation process.');
                if (!completedTasks.has('sequence')) {
                    addXP(20);
                    completedTasks.add('sequence');
                }
            } else {
                alert('Not quite right. Think about what needs to happen first.');
            }
        }

        function resetSafety() {
            document.getElementById('safetyResults').innerHTML = '<p>Click a test button to see results...</p>';
            location.reload(); // For sequence reset
        }

        // Section 7: Human Oversight
        function checkJudgeScenario() {
            const selected = document.querySelector('input[name="judge"]:checked');
            if (!selected) return;
            
            if (selected.value === 'b') {
                alert('Correct! AI should assist but not replace human judgment in critical decisions.');
                if (!completedTasks.has('judge')) {
                    addXP(20);
                    completedTasks.add('judge');
                }
            } else {
                alert('Think again. We need balance between AI efficiency and human judgment.');
            }
        }

        function resetOversight() {
            document.querySelectorAll('input[name="judge"]').forEach(input => input.checked = false);
            document.getElementById('compare1').value = '';
            document.getElementById('compare2').value = '';
        }

        // Section 8: Beneficence
        function checkOddOne() {
            const selected = document.querySelector('input[name="oddone"]:checked');
            if (!selected) return;
            
            if (selected.value === 'b') {
                alert('Correct! Creating deepfakes for fraud violates the principle of non-maleficence.');
                if (!completedTasks.has('oddone')) {
                    addXP(15);
                    completedTasks.add('oddone');
                }
            } else {
                alert('That application actually helps society. Look for one that causes harm.');
            }
        }

        function checkDesign() {
            const design = document.getElementById('designAI').value.trim();
            const wordCount = design.split(/\s+/).filter(word => word.length > 0).length;
            const feedback = document.getElementById('designFeedback');
            
            if (wordCount < 50) {
                feedback.innerHTML = '<p style="color:#e74c3c;">Please write at least 50 words describing your AI system.</p>';
                return;
            }
            
            const principles = ['fair', 'transparent', 'accountable', 'privacy', 'safe', 'human', 'benefit'];
            let principleCount = 0;
            
            principles.forEach(principle => {
                if (design.toLowerCase().includes(principle)) principleCount++;
            });
            
            if (principleCount >= 4) {
                feedback.innerHTML = '<p style="color:#27ae60;">Excellent design! You\'ve incorporated multiple ethical principles.</p>';
                if (!completedTasks.has('design')) {
                    addXP(40);
                    completedTasks.add('design');
                    showAchievement('Ethical Designer!', 'You designed an AI system with strong ethics!');
                }
            } else {
                feedback.innerHTML = '<p style="color:#f39c12;">Good start! Try to incorporate more ethical principles like fairness, transparency, and safety.</p>';
                addXP(15);
            }
        }

        function resetBeneficence() {
            document.querySelectorAll('input[name="oddone"]').forEach(input => input.checked = false);
            document.getElementById('designAI').value = '';
            document.getElementById('designFeedback').innerHTML = '';
        }

        // Section 9: Common Mistakes
        function bustMyth(num) {
            document.getElementById('myth' + num).style.display = 'block';
            if (!completedTasks.has('myth' + num)) {
                addXP(10);
                completedTasks.add('myth' + num);
            }
        }

        function checkFlaws() {
            const checkboxes = document.querySelectorAll('input[name="flaws"]:checked');
            let correct = 0;
            
            checkboxes.forEach(cb => {
                if (cb.value !== 'perfect') correct++;
            });
            
            if (correct === 3 && checkboxes.length === 3) {
                alert('Excellent! You identified all the flaws in this approach.');
                if (!completedTasks.has('flaws')) {
                    addXP(25);
                    completedTasks.add('flaws');
                }
            } else {
                alert('Look again. One of these is not actually a flaw.');
            }
        }

        function resetMistakes() {
            document.getElementById('myth1').style.display = 'none';
            document.getElementById('myth2').style.display = 'none';
            document.querySelectorAll('input[name="flaws"]').forEach(cb => cb.checked = false);
        }

        // Section 10: Exam Questions
        function checkExam1() {
            const answer = document.getElementById('exam1').value.trim();
            const wordCount = answer.split(/\s+/).filter(word => word.length > 0).length;
            const feedback = document.getElementById('examFeedback1');
            
            if (wordCount < 40) {
                feedback.innerHTML = '<p style="color:#e74c3c;">Write more to show full understanding before seeing the mark scheme.</p>';
                return;
            }
            
            document.getElementById('markScheme1').classList.add('show');
            feedback.innerHTML = '<p style="color:#27ae60;">Mark scheme revealed. Self-assess your answer.</p>';
            
            if (!completedTasks.has('exam1')) {
                addXP(25);
                completedTasks.add('exam1');
            }
        }

        function checkExam2() {
            const answer = document.getElementById('exam2').value.trim();
            const wordCount = answer.split(/\s+/).filter(word => word.length > 0).length;
            const feedback = document.getElementById('examFeedback2');
            
            if (wordCount < 60) {
                feedback.innerHTML = '<p style="color:#e74c3c;">This is a 6-mark question. Write more detail.</p>';
                return;
            }
            
            document.getElementById('markScheme2').classList.add('show');
            feedback.innerHTML = '<p style="color:#27ae60;">Mark scheme revealed. Self-assess your answer.</p>';
            
            if (!completedTasks.has('exam2')) {
                addXP(30);
                completedTasks.add('exam2');
            }
        }

        function savePrediction() {
            const prediction = document.getElementById('predictedMark').value;
            if (prediction >= 0 && prediction <= 10) {
                alert('Prediction saved: ' + prediction + '/10');
                addXP(5);
            }
        }

        function resetExam() {
            document.getElementById('exam1').value = '';
            document.getElementById('exam2').value = '';
            document.getElementById('predictedMark').value = '';
            document.querySelectorAll('.mark-scheme').forEach(ms => ms.classList.remove('show'));
        }

        // Section 11: Extensions
        function submitExtension1() {
            const answer = document.getElementById('extension1').value.trim();
            const wordCount = answer.split(/\s+/).filter(word => word.length > 0).length;
            
            if (wordCount >= 150) {
                alert('Excellent extension work! You\'ve explored complex ethical dilemmas.');
                if (!completedTasks.has('ext1')) {
                    addXP(50);
                    completedTasks.add('ext1');
                    showAchievement('Deep Thinker!', 'Completed advanced ethics exploration!');
                }
            } else {
                alert('Good start! Aim for around 200 words to fully explore this topic.');
            }
        }

        function submitExtension2() {
            if (!completedTasks.has('ext2')) {
                addXP(30);
                completedTasks.add('ext2');
            }
            alert('Fascinating perspective on AI rights! This is a cutting-edge ethics topic.');
        }

        function submitExtension3() {
            const charter = document.getElementById('extension3').value.trim();
            const principles = charter.split('\n').filter(line => line.trim().length > 0).length;
            
            if (principles >= 10) {
                alert('Outstanding work! You\'ve created a comprehensive AI Ethics Charter.');
                if (!completedTasks.has('ext3')) {
                    addXP(60);
                    completedTasks.add('ext3');
                    showAchievement('Ethics Champion!', 'Created a complete AI Ethics Charter!');
                }
            } else {
                alert('Good progress! Try to include at least 10 principles with explanations.');
            }
        }

        // Section 12: Final Quiz
        function checkFinalQuiz() {
            const answers = {
                final1: 'c',
                final2: 'b',
                final3: 'c',
                final4: 'c',
                final5: 'b',
                final6: 'c',
                final7: 'c',
                final8: 'b'
            };
            
            let correct = 0;
            let results = '<h4>Results:</h4><ul>';
            
            for (let q in answers) {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                if (selected && selected.value === answers[q]) {
                    correct++;
                    results += `<li style="color:#27ae60;">Question ${q.slice(-1)}: ✓ Correct</li>`;
                } else {
                    results += `<li style="color:#e74c3c;">Question ${q.slice(-1)}: ✗ Review this topic</li>`;
                }
            }
            
            results += `</ul><p><strong>Score: ${correct}/8</strong></p>`;
            
            if (correct >= 7) {
                results += '<p style="color:#27ae60;">Excellent! You have mastered AI Ethics!</p>';
                if (!completedTasks.has('finalQuiz')) {
                    addXP(100);
                    completedTasks.add('finalQuiz');
                    showAchievement('AI Ethics Master!', 'Scored ' + correct + '/8 on final assessment!');
                }
            } else if (correct >= 5) {
                results += '<p style="color:#f39c12;">Good work! Review the topics you missed.</p>';
                addXP(50);
            } else {
                results += '<p style="color:#e74c3c;">Keep studying! Review the lesson and try again.</p>';
                addXP(20);
            }
            
            document.getElementById('finalQuizResults').innerHTML = results;
        }

        function resetSummary() {
            document.querySelectorAll('input[type="radio"]').forEach(input => input.checked = false);
            document.getElementById('finalQuizResults').innerHTML = '';
        }

        // Feedback System
        function openFeedback() {
            document.getElementById('feedbackModal').classList.add('show');
        }

        function closeFeedback() {
            document.getElementById('feedbackModal').classList.remove('show');
            document.getElementById('feedbackText').value = '';
        }

        function sendFeedback() {
            const feedback = document.getElementById('feedbackText').value.trim();
            if (feedback.length < 10) {
                alert('Please provide more detail about the issue.');
                return;
            }
            
            const subject = 'AI Ethics Worksheet Feedback';
            const body = `Page: ${document.getElementById('currentPageInfo').textContent}\n\nFeedback: ${feedback}\n\nSection Code: ${currentSection}`;
            
            // Create mailto link
            window.location.href = `mailto:millingtond@mgs.org?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            closeFeedback();
            showAchievement('Thanks!', 'Your feedback helps improve the lesson!');
            addXP(10);
        }

        // Accessibility Functions
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
        }

        function increaseFontSize() {
            const currentSize = parseFloat(getComputedStyle(document.body).fontSize);
            document.body.style.fontSize = (currentSize + 2) + 'px';
        }

        function decreaseFontSize() {
            const currentSize = parseFloat(getComputedStyle(document.body).fontSize);
            if (currentSize > 12) {
                document.body.style.fontSize = (currentSize - 2) + 'px';
            }
        }

        // Initialize
        window.onload = function() {
            setupDragAndDrop();
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft' && currentSection > 0) {
                    showSection(currentSection - 1);
                } else if (e.key === 'ArrowRight' && currentSection < 13) {
                    showSection(currentSection + 1);
                } else if (e.altKey && e.key === 'a') {
                    document.getElementById('accessibilityControls').classList.toggle('show');
                }
            });
            
            // Touch support for drag and drop
            if ('ontouchstart' in window) {
                // Add touch support for draggables
                document.querySelectorAll('.draggable').forEach(elem => {
                    elem.addEventListener('touchstart', handleTouchStart, {passive: false});
                    elem.addEventListener('touchmove', handleTouchMove, {passive: false});
                    elem.addEventListener('touchend', handleTouchEnd, {passive: false});
                });
            }
        };

        // Touch handlers for mobile drag and drop
        let draggedElement = null;

        function handleTouchStart(e) {
            draggedElement = e.target;
            e.target.style.opacity = '0.5';
        }

        function handleTouchMove(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const elementBelow = document.elementFromPoint(touch.clientX, touch.clientY);
            
            if (elementBelow && elementBelow.classList.contains('drop-zone')) {
                elementBelow.classList.add('drag-over');
            }
        }

        function handleTouchEnd(e) {
            if (draggedElement) {
                draggedElement.style.opacity = '1';
                const touch = e.changedTouches[0];
                const elementBelow = document.elementFromPoint(touch.clientX, touch.clientY);
                
                if (elementBelow && elementBelow.classList.contains('drop-zone')) {
                    elementBelow.appendChild(draggedElement);
                    elementBelow.classList.remove('drag-over');
                }
                
                draggedElement = null;
            }
        }
    </script>
</body>
</html>