<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCSE CS: High-Level vs Low-Level Languages</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=OpenDyslexic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f0f2f5;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }
        
        /* Accessibility Controls */
        .accessibility-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 10px;
            padding: 1rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            z-index: 2001;
            display: none;
        }
        
        .accessibility-controls.show {
            display: block;
        }
        
        .accessibility-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 2000;
            transition: all 0.3s;
        }
        
        .accessibility-btn:hover {
            transform: scale(1.1);
            background: #5a60d8;
        }
        
        .accessibility-btn:focus {
            outline: 3px solid #ff9800;
            outline-offset: 2px;
        }
        
        /* Font Size Classes */
        body.font-small {
            font-size: 14px;
        }
        
        body.font-medium {
            font-size: 16px;
        }
        
        body.font-large {
            font-size: 20px;
        }
        
        body.font-xlarge {
            font-size: 24px;
        }
        
        /* Dyslexia Font */
        body.dyslexia-font {
            font-family: 'OpenDyslexic', 'Comic Sans MS', cursive;
        }
        
        body.dyslexia-font h1, 
        body.dyslexia-font h2, 
        body.dyslexia-font h3 {
            font-family: 'OpenDyslexic', 'Comic Sans MS', cursive;
        }
        
        /* High Contrast Mode */
        body.high-contrast {
            background: #000;
            color: #fff;
        }
        
        body.high-contrast .header {
            background: #000;
            border-bottom: 3px solid #fff;
        }
        
        body.high-contrast .section {
            background: #000;
            border: 3px solid #fff;
            color: #fff;
        }
        
        body.high-contrast .card {
            background: #111;
            border: 2px solid #fff;
        }
        
        body.high-contrast .nav-link {
            background: #fff;
            color: #000;
            border: 2px solid #fff;
        }
        
        body.high-contrast .nav-link:hover {
            background: #000;
            color: #fff;
        }
        
        body.high-contrast .nav-link.active {
            background: #ff0;
            color: #000;
        }
        
        body.high-contrast .btn {
            background: #fff;
            color: #000;
            border: 2px solid #fff;
        }
        
        body.high-contrast .btn:hover {
            background: #000;
            color: #fff;
        }
        
        body.high-contrast .drag-item {
            background: #222;
            border: 2px solid #fff;
            color: #fff;
        }
        
        body.high-contrast .drop-zone {
            background: #111;
            border: 3px solid #fff;
        }
        
        body.high-contrast .quiz-option {
            background: #222;
            border: 2px solid #fff;
            color: #fff;
        }
        
        body.high-contrast .flashcard {
            background: #111;
            border: 3px solid #fff;
        }
        
        body.high-contrast .simulator {
            background: #000;
            border: 2px solid #fff;
            color: #0f0;
        }
        
        /* Focus Indicators */
        *:focus {
            outline: 3px solid #ff9800;
            outline-offset: 2px;
        }
        
        button:focus, 
        a:focus, 
        input:focus, 
        textarea:focus, 
        select:focus {
            outline: 3px solid #ff9800;
            outline-offset: 2px;
        }
        
        /* Skip Navigation Link */
        .skip-nav {
            position: absolute;
            top: -40px;
            left: 0;
            background: #667eea;
            color: white;
            padding: 0.5rem 1rem;
            text-decoration: none;
            border-radius: 0 0 10px 0;
            transition: top 0.3s;
        }
        
        .skip-nav:focus {
            top: 0;
        }
        
        /* Screen Reader Only Text */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Reduce Motion */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        body.reduce-motion *, 
        body.reduce-motion *::before, 
        body.reduce-motion *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
        
        /* Keyboard Navigation Styles */
        .drag-item:focus {
            outline: 3px solid #ff9800;
            outline-offset: 2px;
            transform: scale(1.05);
        }
        
        .drag-item.keyboard-selected {
            background: #ffd54f;
            transform: scale(1.05);
        }
        
        .drop-zone.keyboard-target {
            background: #c5e1a5;
            border-color: #689f38;
        }
        
        /* Header and Navigation */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-links {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .nav-link {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .nav-link:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        .nav-link.active {
            background: white;
            color: #667eea;
        }
        
        /* XP System */
        .xp-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255,255,255,0.1);
            padding: 0.5rem 1rem;
            border-radius: 25px;
        }
        
        .xp-bar {
            width: 150px;
            height: 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .xp-text {
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        /* Main Content */
        .main-content {
            margin-top: 80px;
            padding: 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .section {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Section Navigation */
        .section-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid #eee;
        }
        
        .nav-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-btn:hover {
            background: #5a60d8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Typography */
        h1 {
            color: #667eea;
            margin-bottom: 1.5rem;
            font-size: 2.5rem;
        }
        
        h2 {
            color: #5a60d8;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }
        
        h3 {
            color: #4a50c8;
            margin-bottom: 0.8rem;
            font-size: 1.4rem;
        }
        
        /* Interactive Elements */
        .drag-drop-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .drag-item {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
            cursor: grab;
            transition: all 0.3s;
        }
        
        .drag-item:active {
            cursor: grabbing;
        }
        
        .drag-item.dragging {
            opacity: 0.5;
        }
        
        .drop-zone {
            min-height: 200px;
            background: #f5f5f5;
            border: 3px dashed #ccc;
            border-radius: 10px;
            padding: 1rem;
            transition: all 0.3s;
        }
        
        .drop-zone.drag-over {
            background: #e8f5e9;
            border-color: #4caf50;
        }
        
        .drop-zone h3 {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        /* Buttons */
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            margin: 0.5rem;
        }
        
        .btn:hover {
            background: #5a60d8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-success {
            background: #4caf50;
        }
        
        .btn-success:hover {
            background: #45a049;
        }
        
        .btn-warning {
            background: #ff9800;
        }
        
        .btn-warning:hover {
            background: #e68900;
        }
        
        /* Cards */
        .card {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        /* Flashcards */
        .flashcard {
            background: white;
            border: 2px solid #667eea;
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .flashcard:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }
        
        .flashcard.flipped {
            background: #667eea;
            color: white;
        }
        
        /* Quiz Elements */
        .quiz-option {
            background: #f0f0f0;
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quiz-option:hover {
            background: #e0e0e0;
            border-color: #667eea;
        }
        
        .quiz-option.selected {
            background: #e3f2fd;
            border-color: #2196f3;
        }
        
        .quiz-option.correct {
            background: #e8f5e9;
            border-color: #4caf50;
        }
        
        .quiz-option.incorrect {
            background: #ffebee;
            border-color: #f44336;
        }
        
        /* Canvas */
        .canvas-container {
            border: 2px solid #667eea;
            border-radius: 10px;
            margin: 1rem 0;
            position: relative;
            background: white;
            display: none;
        }
        
        #drawingCanvas {
            cursor: crosshair;
            display: block;
            border-radius: 8px;
        }
        
        .canvas-controls {
            display: flex;
            gap: 0.5rem;
            padding: 0.5rem;
            background: #f5f5f5;
            border-radius: 0 0 8px 8px;
        }
        
        /* Simulator */
        .simulator {
            background: #263238;
            color: #aed581;
            border-radius: 10px;
            padding: 1.5rem;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
        }
        
        .code-line {
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .code-line.processing {
            background: #37474f;
            border-left: 3px solid #4caf50;
        }
        
        /* Achievements */
        .achievement-popup {
            position: fixed;
            top: 100px;
            right: 20px;
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.5s ease;
            z-index: 2000;
            max-width: 300px;
        }
        
        .achievement-popup.show {
            transform: translateX(0);
        }
        
        .achievement-icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 0.5rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .drag-drop-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 1rem;
            }
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Progress Indicators */
        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 2rem 0;
        }
        
        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            transition: all 0.3s;
        }
        
        .progress-dot.active {
            background: #667eea;
            transform: scale(1.2);
        }
        
        .progress-dot.completed {
            background: #4caf50;
        }
        
        /* Exam Question Styles */
        .exam-question {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 10px 10px 0;
        }
        
        .marks-input {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .marks-input input {
            width: 80px;
            padding: 0.5rem;
            border: 2px solid #667eea;
            border-radius: 5px;
            font-size: 1rem;
            text-align: center;
        }
        
        .mark-scheme {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            display: none;
        }
        
        .mark-scheme.show {
            display: block;
        }
        
        /* Extension Activity */
        .extension-activity {
            background: linear-gradient(135deg, #667eea15, #764ba215);
            border: 2px solid #667eea;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-family: inherit;
            font-size: 1rem;
            resize: vertical;
            transition: border-color 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        /* Video Placeholder */
        .video-placeholder {
            background: #f0f0f0;
            border: 3px dashed #ccc;
            border-radius: 10px;
            padding: 3rem;
            text-align: center;
            color: #666;
            margin: 1rem 0;
        }
        
        /* Common Mistakes */
        .mistake-item {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 10px 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .mistake-item:hover {
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .mistake-explanation {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #ffc107;
            display: none;
        }
        
        .mistake-item.expanded .mistake-explanation {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Skip Navigation -->
    <a href="#main-content" class="skip-nav">Skip to main content</a>
    
    <!-- Accessibility Button -->
    <button class="accessibility-btn" onclick="toggleAccessibilityPanel()" aria-label="Accessibility options" title="Accessibility options">
        ♿
    </button>
    
    <!-- Accessibility Controls Panel -->
    <div class="accessibility-controls" id="accessibility-panel" role="region" aria-label="Accessibility controls">
        <h3>Accessibility Options</h3>
        <button class="btn" style="float: right; padding: 0.3rem 0.8rem;" onclick="toggleAccessibilityPanel()" aria-label="Close accessibility panel">×</button>
        
        <div style="margin: 1rem 0;">
            <label for="font-size-select">Font Size:</label>
            <select id="font-size-select" onchange="changeFontSize(this.value)" style="width: 100%; padding: 0.5rem; margin-top: 0.5rem;">
                <option value="small">Small</option>
                <option value="medium" selected>Medium</option>
                <option value="large">Large</option>
                <option value="xlarge">Extra Large</option>
            </select>
        </div>
        
        <div style="margin: 1rem 0;">
            <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="high-contrast-toggle" onchange="toggleHighContrast()">
                High Contrast Mode
            </label>
        </div>
        
        <div style="margin: 1rem 0;">
            <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="dyslexia-font-toggle" onchange="toggleDyslexiaFont()">
                Dyslexia-Friendly Font
            </label>
        </div>
        
        <div style="margin: 1rem 0;">
            <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="reduce-motion-toggle" onchange="toggleReduceMotion()">
                Reduce Motion
            </label>
        </div>
        
        <div style="margin: 1rem 0;">
            <button class="btn" onclick="resetAccessibility()">Reset to Defaults</button>
        </div>
    </div>

    <!-- Header with Navigation -->
    <header class="header" role="banner">
        <div class="nav-container">
            <nav class="nav-links" role="navigation" aria-label="Section navigation">
                <button class="nav-link active" onclick="navigateToSection(0)" aria-label="Go to Start section" aria-current="page">Start</button>
                <button class="nav-link" onclick="navigateToSection(1)" aria-label="Go to Starter activity">Starter</button>
                <button class="nav-link" onclick="navigateToSection(2)" aria-label="Go to Learning Outcomes">Outcomes</button>
                <button class="nav-link" onclick="navigateToSection(3)" aria-label="Go to High-Level Languages">High-Level</button>
                <button class="nav-link" onclick="navigateToSection(4)" aria-label="Go to Low-Level Languages">Low-Level</button>
                <button class="nav-link" onclick="navigateToSection(5)" aria-label="Go to Key Terms">Terms</button>
                <button class="nav-link" onclick="navigateToSection(6)" aria-label="Go to Translators">Translators</button>
                <button class="nav-link" onclick="navigateToSection(7)" aria-label="Go to Real World applications">Real World</button>
                <button class="nav-link" onclick="navigateToSection(8)" aria-label="Go to Common Mistakes">Mistakes</button>
                <button class="nav-link" onclick="navigateToSection(9)" aria-label="Go to Exam Questions">Exam Qs</button>
                <button class="nav-link" onclick="navigateToSection(10)" aria-label="Go to Extension activities">Extension</button>
                <button class="nav-link" onclick="navigateToSection(11)" aria-label="Go to Summary">Summary</button>
                <button class="nav-link" onclick="navigateToSection(12)" aria-label="Go to Videos">Videos</button>
            </nav>
            <div class="xp-container" role="status" aria-live="polite" aria-label="Experience points and level">
                <span class="xp-text">XP: <span id="xp-count" aria-label="Current XP">0</span></span>
                <div class="xp-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="XP progress">
                    <div class="xp-fill" id="xp-fill"></div>
                </div>
                <span>Level <span id="level" aria-label="Current level">1</span></span>
            </div>
        </div>
    </header>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievement-popup" role="alert" aria-live="assertive">
        <div class="achievement-icon" id="achievement-icon">🏆</div>
        <h3 id="achievement-title">Achievement Unlocked!</h3>
        <p id="achievement-desc">Description</p>
    </div>

    <!-- Main Content -->
    <main class="main-content" id="main-content" role="main">
        <!-- Section 0: Welcome -->
        <section class="section active" id="section-0">
            <h1>🚀 Welcome to Programming Languages!</h1>
            <div class="card">
                <h2>Let's Master High-Level vs Low-Level Languages</h2>
                <p>Welcome to today's interactive lesson on programming languages! You'll be exploring the fascinating world of how computers understand our instructions.</p>
                
                <div style="margin: 2rem 0;">
                    <h3>🎯 How This Works:</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin: 0.5rem 0;">✅ Complete activities to earn XP</li>
                        <li style="margin: 0.5rem 0;">🏆 Unlock achievements as you progress</li>
                        <li style="margin: 0.5rem 0;">📝 Practice exam questions with instant feedback</li>
                        <li style="margin: 0.5rem 0;">🎨 Use the drawing canvas for calculations</li>
                        <li style="margin: 0.5rem 0;">🔄 Reset any activity if you want to try again</li>
                    </ul>
                </div>
                
                <div style="background: #e3f2fd; padding: 1rem; border-radius: 10px; margin: 1.5rem 0;">
                    <h3>⌨️ Keyboard Shortcuts:</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin: 0.5rem 0;"><kbd>Alt</kbd> + <kbd>A</kbd> - Open accessibility options</li>
                        <li style="margin: 0.5rem 0;"><kbd>Alt</kbd> + <kbd>→</kbd> - Next section</li>
                        <li style="margin: 0.5rem 0;"><kbd>Alt</kbd> + <kbd>←</kbd> - Previous section</li>
                        <li style="margin: 0.5rem 0;"><kbd>Tab</kbd> - Navigate between elements</li>
                        <li style="margin: 0.5rem 0;"><kbd>Enter</kbd> / <kbd>Space</kbd> - Activate buttons and interactive elements</li>
                    </ul>
                </div>
                
                <p style="margin-top: 2rem;"><strong>Ready to begin?</strong> Click the Next button below!</p>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" disabled>← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 1: Starter Activity -->
        <section class="section" id="section-1" aria-labelledby="starter-heading">
            <h1 id="starter-heading">🎮 Starter Activity: Language Sorting Challenge</h1>
            <p>Let's see what you already know! Drag each programming concept to the correct category.</p>
            
            <div class="drag-drop-container" role="application" aria-label="Drag and drop sorting activity">
                <div>
                    <h3>Items to Sort:</h3>
                    <div id="starter-items" role="list">
                        <div class="drag-item" draggable="true" data-category="high" role="listitem" tabindex="0" aria-label="Python - drag to sort">Python</div>
                        <div class="drag-item" draggable="true" data-category="low" role="listitem" tabindex="0" aria-label="Machine Code - drag to sort">Machine Code</div>
                        <div class="drag-item" draggable="true" data-category="high" role="listitem" tabindex="0" aria-label="C# - drag to sort">C#</div>
                        <div class="drag-item" draggable="true" data-category="low" role="listitem" tabindex="0" aria-label="Assembly Language - drag to sort">Assembly Language</div>
                        <div class="drag-item" draggable="true" data-category="high" role="listitem" tabindex="0" aria-label="JavaScript - drag to sort">JavaScript</div>
                        <div class="drag-item" draggable="true" data-category="low" role="listitem" tabindex="0" aria-label="Binary - drag to sort">Binary</div>
                        <div class="drag-item" draggable="true" data-category="high" role="listitem" tabindex="0" aria-label="Java - drag to sort">Java</div>
                        <div class="drag-item" draggable="true" data-category="translator" role="listitem" tabindex="0" aria-label="Compiler - drag to sort">Compiler</div>
                        <div class="drag-item" draggable="true" data-category="translator" role="listitem" tabindex="0" aria-label="Interpreter - drag to sort">Interpreter</div>
                        <div class="drag-item" draggable="true" data-category="translator" role="listitem" tabindex="0" aria-label="Assembler - drag to sort">Assembler</div>
                    </div>
                </div>
                
                <div>
                    <div class="drop-zone" data-category="high" role="region" aria-label="High-Level Languages drop zone">
                        <h3>High-Level Languages</h3>
                    </div>
                    <div class="drop-zone" data-category="low" style="margin-top: 1rem;" role="region" aria-label="Low-Level Languages drop zone">
                        <h3>Low-Level Languages</h3>
                    </div>
                    <div class="drop-zone" data-category="translator" style="margin-top: 1rem;" role="region" aria-label="Translators drop zone">
                        <h3>Translators</h3>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn" onclick="checkStarterActivity()" aria-label="Check your answers">Check Answers</button>
                <button class="btn btn-warning" onclick="resetStarterActivity()" aria-label="Reset the activity">Reset</button>
            </div>
            
            <div id="starter-feedback" style="margin-top: 1rem; text-align: center;" role="status" aria-live="polite"></div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()" aria-label="Go to previous section">← Previous</button>
                <button class="nav-btn" onclick="nextSection()" aria-label="Go to next section">Next →</button>
            </div>
        </section>

        <!-- Section 2: Learning Outcomes -->
        <section class="section" id="section-2">
            <h1>🎯 Learning Outcomes</h1>
            <p>By the end of this lesson, you will be able to:</p>
            
            <div class="card">
                <h3>✅ Knowledge</h3>
                <ul>
                    <li>Define high-level and low-level programming languages</li>
                    <li>Identify examples of each type of language</li>
                    <li>Describe the purpose of translators (compilers, interpreters, assemblers)</li>
                </ul>
            </div>
            
            <div class="card">
                <h3>🔧 Skills</h3>
                <ul>
                    <li>Compare and contrast high-level and low-level languages</li>
                    <li>Explain the benefits of each type of language</li>
                    <li>Choose appropriate language types for different scenarios</li>
                </ul>
            </div>
            
            <div class="card">
                <h3>💡 Understanding</h3>
                <ul>
                    <li>Understand why different types of languages exist</li>
                    <li>Appreciate the trade-offs between ease of use and control</li>
                    <li>Recognize real-world applications of different language types</li>
                </ul>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 3: High-Level Languages -->
        <section class="section" id="section-3">
            <h1>🌟 High-Level Languages</h1>
            
            <div class="card">
                <h2>What are High-Level Languages?</h2>
                <p>High-level languages are designed to make programming easier for humans. They use words and concepts that are closer to human language and thinking.</p>
                
                <div style="background: #e3f2fd; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
                    <strong>Key Points:</strong>
                    <ul>
                        <li>Use English-like words (if, while, print)</li>
                        <li>Must be translated to binary before execution</li>
                        <li>One line can represent many machine instructions</li>
                        <li>Examples: Python, C#, Java, JavaScript</li>
                    </ul>
                </div>
            </div>
            
            <div class="card">
                <h3>Interactive Example</h3>
                <p>Click on each Python command to see what it might look like in a low-level language:</p>
                
                <div class="simulator">
                    <div class="code-line" onclick="showLowLevel(this, 'print')" data-command="print">
                        print("Hello World")
                    </div>
                    <div id="print-translation" style="display: none; color: #666; font-size: 0.9rem; margin-left: 2rem;">
                        → LOAD "Hello World"<br>
                        → CALL display_routine<br>
                        → PUSH to output_buffer<br>
                        → ... (many more instructions)
                    </div>
                    
                    <div class="code-line" onclick="showLowLevel(this, 'loop')" data-command="loop">
                        for i in range(5):
                    </div>
                    <div id="loop-translation" style="display: none; color: #666; font-size: 0.9rem; margin-left: 2rem;">
                        → MOV 0, R1<br>
                        → CMP R1, 5<br>
                        → JGE end_loop<br>
                        → INC R1<br>
                        → JMP loop_start
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>✅ Benefits of High-Level Languages</h3>
                <div id="benefits-quiz">
                    <p>Click all the benefits of high-level languages:</p>
                    <div class="quiz-option" data-correct="true" onclick="selectBenefit(this)">
                        Easier for humans to read and write
                    </div>
                    <div class="quiz-option" data-correct="true" onclick="selectBenefit(this)">
                        Portable between different processors
                    </div>
                    <div class="quiz-option" data-correct="false" onclick="selectBenefit(this)">
                        Direct control over hardware
                    </div>
                    <div class="quiz-option" data-correct="true" onclick="selectBenefit(this)">
                        Faster to develop programs
                    </div>
                    <div class="quiz-option" data-correct="false" onclick="selectBenefit(this)">
                        More memory efficient
                    </div>
                    <div class="quiz-option" data-correct="true" onclick="selectBenefit(this)">
                        Easier to debug and maintain
                    </div>
                </div>
                <button class="btn" onclick="checkBenefits()">Check Answers</button>
                <div id="benefits-feedback"></div>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 4: Low-Level Languages -->
        <section class="section" id="section-4">
            <h1>⚙️ Low-Level Languages</h1>
            
            <div class="card">
                <h2>What are Low-Level Languages?</h2>
                <p>Low-level languages are much closer to the computer's native language. They give programmers direct control over the hardware.</p>
                
                <div style="background: #fff3cd; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
                    <strong>Two Types:</strong>
                    <ol>
                        <li><strong>Machine Code:</strong> Pure binary (0s and 1s) - directly executable by CPU</li>
                        <li><strong>Assembly Language:</strong> Uses mnemonics (LDA, ADD, STA) - needs assembler to convert to machine code</li>
                    </ol>
                </div>
            </div>
            
            <div class="card">
                <h3>Assembly Language Simulator</h3>
                <p>Watch how assembly language instructions work step by step:</p>
                
                <div class="simulator">
                    <div style="display: flex; gap: 2rem;">
                        <div>
                            <h4>Assembly Code:</h4>
                            <div id="assembly-code">
                                <div class="code-line">LDA 5</div>
                                <div class="code-line">ADD 3</div>
                                <div class="code-line">STA result</div>
                            </div>
                        </div>
                        <div>
                            <h4>CPU Registers:</h4>
                            <div>Accumulator: <span id="accumulator">0</span></div>
                            <div>Memory[result]: <span id="memory-result">0</span></div>
                        </div>
                    </div>
                    <button class="btn" onclick="runAssemblySimulation()">Run Simulation</button>
                    <button class="btn btn-warning" onclick="resetAssemblySimulation()">Reset</button>
                </div>
            </div>
            
            <div class="card">
                <h3>✅ Benefits of Low-Level Languages</h3>
                <ul>
                    <li>Direct manipulation of memory and registers</li>
                    <li>More memory efficient</li>
                    <li>Faster execution (no translation overhead)</li>
                    <li>Optimized for specific processor architectures</li>
                    <li>Essential for device drivers and embedded systems</li>
                </ul>
                
                <div style="margin-top: 1rem;">
                    <h4>Quick Quiz:</h4>
                    <p>When would you choose a low-level language? (Select all that apply)</p>
                    <div id="lowlevel-quiz">
                        <label style="display: block; margin: 0.5rem 0;">
                            <input type="checkbox" data-correct="true"> Writing device drivers
                        </label>
                        <label style="display: block; margin: 0.5rem 0;">
                            <input type="checkbox" data-correct="false"> Building a website
                        </label>
                        <label style="display: block; margin: 0.5rem 0;">
                            <input type="checkbox" data-correct="true"> Programming embedded systems
                        </label>
                        <label style="display: block; margin: 0.5rem 0;">
                            <input type="checkbox" data-correct="false"> Creating a mobile app
                        </label>
                        <label style="display: block; margin: 0.5rem 0;">
                            <input type="checkbox" data-correct="true"> Optimizing critical performance code
                        </label>
                    </div>
                    <button class="btn" onclick="checkLowLevelQuiz()">Check</button>
                    <div id="lowlevel-feedback"></div>
                </div>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 5: Key Terminology -->
        <section class="section" id="section-5" aria-labelledby="terms-heading">
            <h1 id="terms-heading">📚 Key Terminology</h1>
            <p>Master these important terms with our interactive flashcards. Click each card to reveal the definition!</p>
            
            <div role="region" aria-label="Interactive flashcards">
                <div class="flashcard" onclick="flipCard(this)" data-term="Source Code" tabindex="0" role="button" aria-label="Flashcard: Source Code. Press Enter to flip">
                    <div class="front">Source Code</div>
                    <div class="back" style="display: none;">Computer programs written in a high-level language that the CPU cannot directly execute</div>
                </div>
                
                <div class="flashcard" onclick="flipCard(this)" data-term="Machine Code" tabindex="0" role="button" aria-label="Flashcard: Machine Code. Press Enter to flip">
                    <div class="front">Machine Code</div>
                    <div class="back" style="display: none;">A low-level language consisting of only binary codes (0s and 1s) that the CPU can process directly</div>
                </div>
                
                <div class="flashcard" onclick="flipCard(this)" data-term="Assembly Language" tabindex="0" role="button" aria-label="Flashcard: Assembly Language. Press Enter to flip">
                    <div class="front">Assembly Language</div>
                    <div class="back" style="display: none;">A low-level language that uses mnemonics (like LDA, ADD) to represent machine code instructions</div>
                </div>
                
                <div class="flashcard" onclick="flipCard(this)" data-term="Mnemonic" tabindex="0" role="button" aria-label="Flashcard: Mnemonic. Press Enter to flip">
                    <div class="front">Mnemonic</div>
                    <div class="back" style="display: none;">Short abbreviations used in assembly language (e.g., STA for Store Accumulator, JMP for Jump)</div>
                </div>
                
                <div class="flashcard" onclick="flipCard(this)" data-term="Translator" tabindex="0" role="button" aria-label="Flashcard: Translator. Press Enter to flip">
                    <div class="front">Translator</div>
                    <div class="back" style="display: none;">A program that converts source code into binary code that the processor can execute</div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 2rem;">
                <h3>Quick Match Game</h3>
                <p>Match each term with its type:</p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div>
                        <div class="drag-item" draggable="true" data-match="language">Python</div>
                        <div class="drag-item" draggable="true" data-match="translator">Compiler</div>
                        <div class="drag-item" draggable="true" data-match="language">Binary</div>
                        <div class="drag-item" draggable="true" data-match="translator">Assembler</div>
                    </div>
                    <div>
                        <div class="drop-zone" data-match="language" style="min-height: 100px;">
                            <h4>Languages</h4>
                        </div>
                        <div class="drop-zone" data-match="translator" style="min-height: 100px;">
                            <h4>Translators</h4>
                        </div>
                    </div>
                </div>
                <button class="btn" onclick="checkTermMatch()">Check</button>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 6: Translators -->
        <section class="section" id="section-6">
            <h1>🔄 Translators: Compiler vs Interpreter</h1>
            
            <div class="card">
                <h2>Three Types of Translators</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                    <div style="background: #e3f2fd; padding: 1rem; border-radius: 10px;">
                        <h3>🔧 Assembler</h3>
                        <p>Translates assembly language → machine code</p>
                        <small>One-to-one translation of mnemonics to binary</small>
                    </div>
                    <div style="background: #f3e5f5; padding: 1rem; border-radius: 10px;">
                        <h3>📦 Compiler</h3>
                        <p>Translates entire program at once</p>
                        <small>Creates executable file</small>
                    </div>
                    <div style="background: #e8f5e9; padding: 1rem; border-radius: 10px;">
                        <h3>🔍 Interpreter</h3>
                        <p>Translates line by line</p>
                        <small>No executable file created</small>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>⚡ Compiler vs Interpreter Race!</h3>
                <p>See the difference in action:</p>
                
                <div class="simulator" style="background: white; color: #333;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                        <div>
                            <h4>Compiler Process</h4>
                            <div id="compiler-process">
                                <div class="code-line">Analyzing entire program...</div>
                                <div class="code-line">Creating executable...</div>
                                <div class="code-line">Ready to run!</div>
                            </div>
                            <div style="margin-top: 1rem;">
                                Time: <span id="compiler-time">0</span>s
                            </div>
                        </div>
                        <div>
                            <h4>Interpreter Process</h4>
                            <div id="interpreter-process">
                                <div class="code-line">Line 1: print("Hello")</div>
                                <div class="code-line">Line 2: x = 5</div>
                                <div class="code-line">Line 3: print(x * 2)</div>
                            </div>
                            <div style="margin-top: 1rem;">
                                Time: <span id="interpreter-time">0</span>s
                            </div>
                        </div>
                    </div>
                    <button class="btn" onclick="runTranslatorRace()">Start Race!</button>
                    <button class="btn btn-warning" onclick="resetTranslatorRace()">Reset</button>
                </div>
                
                <div style="margin-top: 1rem;">
                    <h4>Reflection Question:</h4>
                    <p>Which translator would be better for testing small changes in your code? Why?</p>
                    <textarea id="translator-reflection" placeholder="Type your answer here..."></textarea>
                    <button class="btn" onclick="checkTranslatorReflection()">Submit</button>
                </div>
            </div>
            
            <div class="card">
                <h3>Benefits Comparison</h3>
                <table style="width: 100%; border-collapse: collapse;">
                    <tr>
                        <th style="border: 1px solid #ddd; padding: 0.5rem; background: #f5f5f5;">Feature</th>
                        <th style="border: 1px solid #ddd; padding: 0.5rem; background: #f5f5f5;">Compiler</th>
                        <th style="border: 1px solid #ddd; padding: 0.5rem; background: #f5f5f5;">Interpreter</th>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">Execution Speed</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">✅ Faster</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">❌ Slower</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">Error Detection</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">All at once</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">✅ Line by line</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">Source Code Security</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">✅ Hidden</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">❌ Exposed</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">Development Speed</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">Slower</td>
                        <td style="border: 1px solid #ddd; padding: 0.5rem;">✅ Faster</td>
                    </tr>
                </table>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 7: Real World Context -->
        <section class="section" id="section-7">
            <h1>🌍 Real World Applications</h1>
            
            <div class="card">
                <h2>Where Different Languages Are Used</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin-top: 1rem;">
                    <div style="background: #e3f2fd; padding: 1.5rem; border-radius: 10px;">
                        <h3>🌐 Web Development</h3>
                        <p><strong>Languages:</strong> JavaScript, Python, PHP</p>
                        <p><strong>Why High-Level?</strong> Rapid development, easy maintenance, cross-platform compatibility</p>
                    </div>
                    
                    <div style="background: #f3e5f5; padding: 1.5rem; border-radius: 10px;">
                        <h3>🎮 Game Engines</h3>
                        <p><strong>Languages:</strong> C++ with Assembly optimizations</p>
                        <p><strong>Why Mixed?</strong> C++ for structure, Assembly for critical performance sections</p>
                    </div>
                    
                    <div style="background: #e8f5e9; padding: 1.5rem; border-radius: 10px;">
                        <h3>🚗 Embedded Systems</h3>
                        <p><strong>Languages:</strong> C, Assembly</p>
                        <p><strong>Why Low-Level?</strong> Limited memory, real-time requirements, hardware control</p>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 1.5rem; border-radius: 10px;">
                        <h3>📱 Mobile Apps</h3>
                        <p><strong>Languages:</strong> Swift, Kotlin, Java</p>
                        <p><strong>Why High-Level?</strong> UI complexity, developer productivity, app store requirements</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>Industry Case Study: Tesla Autopilot</h3>
                <p>Tesla's Autopilot system uses multiple language levels:</p>
                <ul>
                    <li><strong>High-Level (Python):</strong> Machine learning models, data analysis</li>
                    <li><strong>Mid-Level (C++):</strong> Core algorithms, sensor fusion</li>
                    <li><strong>Low-Level (Assembly):</strong> Real-time sensor processing, safety-critical systems</li>
                </ul>
                
                <div style="background: #f0f0f0; padding: 1rem; border-radius: 10px; margin-top: 1rem;">
                    <p><strong>💡 Key Insight:</strong> Modern systems often use multiple language levels, choosing the right tool for each job!</p>
                </div>
            </div>
            
            <div class="card">
                <h3>Interactive Scenario</h3>
                <p>You're building different systems. Which language type would you choose?</p>
                
                <div id="scenario-quiz">
                    <div style="margin: 1rem 0;">
                        <p><strong>1. A social media app</strong></p>
                        <p style="font-size: 0.9em; color: #666; margin: 0.5rem 0;">Consider: UI complexity, development speed, cross-platform needs</p>
                        <button class="quiz-option" onclick="checkScenario(this, 'high')">High-Level</button>
                        <button class="quiz-option" onclick="checkScenario(this, 'low')">Low-Level</button>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <p><strong>2. A drone's flight controller</strong></p>
                        <p style="font-size: 0.9em; color: #666; margin: 0.5rem 0;">Consider: Real-time response, hardware control, safety</p>
                        <button class="quiz-option" onclick="checkScenario(this, 'high')">High-Level</button>
                        <button class="quiz-option" onclick="checkScenario(this, 'low')">Low-Level</button>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <p><strong>3. A machine learning model</strong></p>
                        <p style="font-size: 0.9em; color: #666; margin: 0.5rem 0;">Consider: Complex algorithms, libraries available, development time</p>
                        <button class="quiz-option" onclick="checkScenario(this, 'high')">High-Level</button>
                        <button class="quiz-option" onclick="checkScenario(this, 'low')">Low-Level</button>
                    </div>
                    
                    <div id="scenario-feedback" style="margin-top: 1rem;" role="status" aria-live="polite"></div>
                </div>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 8: Common Mistakes -->
        <section class="section" id="section-8">
            <h1>⚠️ Common Mistakes to Avoid</h1>
            <p>Click on each mistake to see why it's wrong and how to fix it:</p>
            
            <div class="mistake-item" onclick="toggleMistake(this)">
                <h3>❌ "Python is always slower than Assembly"</h3>
                <div class="mistake-explanation">
                    <p><strong>Why it's wrong:</strong> While Assembly executes faster, Python development is much quicker. For many applications, the development time saved outweighs the execution speed difference.</p>
                    <p><strong>Remember:</strong> Choose languages based on the entire project needs, not just execution speed!</p>
                </div>
            </div>
            
            <div class="mistake-item" onclick="toggleMistake(this)">
                <h3>❌ "Low-level languages are obsolete"</h3>
                <div class="mistake-explanation">
                    <p><strong>Why it's wrong:</strong> Low-level languages are essential for system programming, embedded devices, and performance-critical code.</p>
                    <p><strong>Remember:</strong> Every high-level program eventually runs as machine code!</p>
                </div>
            </div>
            
            <div class="mistake-item" onclick="toggleMistake(this)">
                <h3>❌ "Compiled programs never have bugs"</h3>
                <div class="mistake-explanation">
                    <p><strong>Why it's wrong:</strong> Compilers catch syntax errors, not logic errors. A program can compile perfectly but still have bugs.</p>
                    <p><strong>Remember:</strong> Testing is essential regardless of the translator type!</p>
                </div>
            </div>
            
            <div class="mistake-item" onclick="toggleMistake(this)">
                <h3>❌ "Interpreters are better because they find errors"</h3>
                <div class="mistake-explanation">
                    <p><strong>Why it's wrong:</strong> Interpreters find errors as they execute, but compilers find ALL syntax errors before execution starts.</p>
                    <p><strong>Remember:</strong> Each translator type has advantages for different situations!</p>
                </div>
            </div>
            
            <div class="mistake-item" onclick="toggleMistake(this)">
                <h3>❌ "Machine code is just 0s and 1s, so it's simple"</h3>
                <div class="mistake-explanation">
                    <p><strong>Why it's wrong:</strong> While machine code uses only two symbols, the patterns are incredibly complex and nearly impossible for humans to work with directly.</p>
                    <p><strong>Remember:</strong> Simple components can create complex systems!</p>
                </div>
            </div>
            
            <div class="card" style="margin-top: 2rem;">
                <h3>Quick Check</h3>
                <p>Which of these statements is correct?</p>
                <div id="mistakes-quiz">
                    <div class="quiz-option" onclick="selectMistakeQuiz(this)" data-correct="false">
                        High-level languages don't need translation
                    </div>
                    <div class="quiz-option" onclick="selectMistakeQuiz(this)" data-correct="true">
                        Assembly language uses mnemonics like LDA and STA
                    </div>
                    <div class="quiz-option" onclick="selectMistakeQuiz(this)" data-correct="false">
                        Compilers translate code line by line
                    </div>
                    <div class="quiz-option" onclick="selectMistakeQuiz(this)" data-correct="true">
                        One high-level instruction can represent many machine code instructions
                    </div>
                </div>
                <button class="btn" onclick="checkMistakesQuiz()">Check Answer</button>
                <div id="mistakes-feedback"></div>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 9: Practice Exam Questions -->
        <section class="section" id="section-9">
            <h1>📝 Practice Exam Questions</h1>
            <p>Test your knowledge with these GCSE-style questions. Enter your predicted marks before viewing the mark scheme!</p>
            
            <div class="exam-question">
                <h3>Question 1 [4 marks]</h3>
                <p>Explain two benefits of using a high-level language rather than a low-level language when developing a mobile application.</p>
                
                <textarea id="q1-answer" placeholder="Write your answer here..." style="margin: 1rem 0;"></textarea>
                
                <div class="marks-input">
                    <label>Predicted marks (out of 4):</label>
                    <input type="number" id="q1-marks" min="0" max="4">
                    <button class="btn" onclick="showMarkScheme('q1')">Show Mark Scheme</button>
                </div>
                
                <div class="mark-scheme" id="q1-scheme">
                    <h4>Mark Scheme:</h4>
                    <p><strong>1 mark for each valid benefit (max 2) + 1 mark for each explanation (max 2)</strong></p>
                    <ul>
                        <li>Easier/faster to write [1] because it uses English-like commands [1]</li>
                        <li>Portable across different devices [1] so the app works on various phone models [1]</li>
                        <li>Easier to maintain/debug [1] reducing development costs [1]</li>
                        <li>Built-in functions for UI [1] speeding up interface development [1]</li>
                    </ul>
                </div>
            </div>
            
            <div class="exam-question">
                <h3>Question 2 [6 marks]</h3>
                <p>A company is developing software for a car's anti-lock braking system (ABS). The main control software is written in C, but the critical timing routines that monitor wheel sensors are written in assembly language.</p>
                <p>(a) State what type of translator is needed for assembly language. [1 mark]</p>
                <p>(b) Explain why assembly language might be used for the wheel sensor monitoring routines. [2 marks]</p>
                <p>(c) Describe the difference between how a compiler and an interpreter would translate the C code. [3 marks]</p>
                
                <label for="q2-answer" class="sr-only">Your answer for question 2</label>
                <textarea id="q2-answer" placeholder="Write your answer here..." style="margin: 1rem 0;"></textarea>
                
                <div class="marks-input">
                    <label for="q2-marks">Predicted marks (out of 6):</label>
                    <input type="number" id="q2-marks" min="0" max="6" aria-label="Enter your predicted marks out of 6">
                    <button class="btn" onclick="showMarkScheme('q2')" aria-label="Show mark scheme for question 2">Show Mark Scheme</button>
                </div>
                
                <div class="mark-scheme" id="q2-scheme">
                    <h4>Mark Scheme:</h4>
                    <p><strong>(a) 1 mark:</strong> Assembler</p>
                    <p><strong>(b) 2 marks:</strong></p>
                    <ul>
                        <li>More efficient/faster execution [1]</li>
                        <li>Direct control over graphics hardware/GPU [1]</li>
                        <li>Can optimize for specific processor architecture [1]</li>
                        <li>Reduced memory usage [1]</li>
                    </ul>
                    <p><strong>(c) 3 marks:</strong></p>
                    <ul>
                        <li>Compiler translates entire program at once [1]</li>
                        <li>Interpreter translates line by line [1]</li>
                        <li>Compiler produces executable file, interpreter doesn't [1]</li>
                        <li>Compiler faster execution, interpreter easier debugging [1]</li>
                    </ul>
                </div>
            </div>
            
            <div class="exam-question">
                <h3>Question 3 [3 marks]</h3>
                <p>Define the following terms:</p>
                <p>(a) Source code [1 mark]</p>
                <p>(b) Machine code [1 mark]</p>
                <p>(c) Mnemonic [1 mark]</p>
                
                <textarea id="q3-answer" placeholder="Write your answer here..." style="margin: 1rem 0;"></textarea>
                
                <div class="marks-input">
                    <label>Predicted marks (out of 3):</label>
                    <input type="number" id="q3-marks" min="0" max="3">
                    <button class="btn" onclick="showMarkScheme('q3')">Show Mark Scheme</button>
                </div>
                
                <div class="mark-scheme" id="q3-scheme">
                    <h4>Mark Scheme:</h4>
                    <p><strong>(a) Source code:</strong> Program code written in a high-level language [1]</p>
                    <p><strong>(b) Machine code:</strong> Binary code/0s and 1s that the CPU can execute directly [1]</p>
                    <p><strong>(c) Mnemonic:</strong> Short abbreviation used in assembly language to represent machine code instructions [1]</p>
                </div>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 10: Extension Activities -->
        <section class="section" id="section-10">
            <h1>🚀 Extension Activities</h1>
            <p>Ready to go beyond the specification? Try these challenging activities!</p>
            
            <div class="extension-activity">
                <h2>🧠 Challenge 1: Design Your Own Language</h2>
                <p>Imagine you're creating a new programming language. What features would it have?</p>
                
                <div style="margin: 1rem 0;">
                    <h3>Consider:</h3>
                    <ul>
                        <li>Would it be high-level or low-level? Why?</li>
                        <li>What problem would it solve better than existing languages?</li>
                        <li>Would it be compiled or interpreted?</li>
                        <li>What would make it unique?</li>
                    </ul>
                </div>
                
                <textarea id="language-design" placeholder="Describe your language design here..." style="min-height: 200px;"></textarea>
                <button class="btn" onclick="saveExtension('language-design')">Save Design</button>
            </div>
            
            <div class="extension-activity">
                <h2>🔬 Challenge 2: Research Modern Translators</h2>
                <p>Modern languages use sophisticated translation techniques. Research and explain ONE of these:</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div class="card">
                        <h4>JIT Compilation</h4>
                        <p>Just-In-Time compilation used by Java and C#</p>
                    </div>
                    <div class="card">
                        <h4>Transpilation</h4>
                        <p>TypeScript → JavaScript conversion</p>
                    </div>
                    <div class="card">
                        <h4>WebAssembly</h4>
                        <p>Low-level language for web browsers</p>
                    </div>
                </div>
                
                <textarea id="research-topic" placeholder="Write your research findings here..." style="min-height: 200px;"></textarea>
                <button class="btn" onclick="saveExtension('research-topic')">Save Research</button>
            </div>
            
            <div class="extension-activity">
                <h2>💡 Challenge 3: Performance Analysis</h2>
                <p>If a Python program takes 10 seconds to run, and the same algorithm in C takes 1 second, should we always use C?</p>
                <p>Consider development time, maintenance, team skills, and total cost. Write a balanced analysis:</p>
                
                <textarea id="performance-analysis" placeholder="Write your analysis here..." style="min-height: 150px;"></textarea>
                <button class="btn" onclick="saveExtension('performance-analysis')">Save Analysis</button>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 11: Key Takeaways -->
        <section class="section" id="section-11">
            <h1>🎯 Key Takeaways</h1>
            
            <div class="card">
                <h2>✅ What You've Learned</h2>
                
                <div style="display: grid; gap: 1rem; margin-top: 1rem;">
                    <div style="background: #e3f2fd; padding: 1rem; border-radius: 10px;">
                        <h3>High-Level Languages</h3>
                        <ul>
                            <li>Designed for human readability (Python, C#, Java)</li>
                            <li>Must be translated before execution</li>
                            <li>Portable across different systems</li>
                            <li>Faster development, easier maintenance</li>
                        </ul>
                    </div>
                    
                    <div style="background: #f3e5f5; padding: 1rem; border-radius: 10px;">
                        <h3>Low-Level Languages</h3>
                        <ul>
                            <li>Close to hardware (Assembly, Machine Code)</li>
                            <li>Direct memory and hardware control</li>
                            <li>More efficient but harder to write</li>
                            <li>Used for system programming and embedded devices</li>
                        </ul>
                    </div>
                    
                    <div style="background: #e8f5e9; padding: 1rem; border-radius: 10px;">
                        <h3>Translators</h3>
                        <ul>
                            <li><strong>Assembler:</strong> Assembly → Machine Code</li>
                            <li><strong>Compiler:</strong> Translates all at once, creates executable</li>
                            <li><strong>Interpreter:</strong> Translates line by line, no executable</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2>💡 Remember</h2>
                <div style="background: #fff3cd; padding: 1.5rem; border-radius: 10px; text-align: center;">
                    <p style="font-size: 1.2rem; margin: 0;">
                        <strong>There's no "best" language!</strong><br>
                        Choose the right tool for the job based on your needs.
                    </p>
                </div>
            </div>
            
            <div class="card">
                <h2>🏆 Your Progress</h2>
                <p>Congratulations on completing this lesson! You've earned:</p>
                <div style="text-align: center; font-size: 2rem; margin: 1rem 0;">
                    <span id="final-xp">0</span> XP
                </div>
                <div id="achievements-summary" style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center;">
                    <!-- Achievements will be displayed here -->
                </div>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="nextSection()">Next →</button>
            </div>
        </section>

        <!-- Section 12: Video Resources -->
        <section class="section" id="section-12">
            <h1>🎥 Video Resources</h1>
            <p>Additional video tutorials will be added here to reinforce your learning:</p>
            
            <div class="video-placeholder">
                <h3>📹 Video 1: High-Level vs Low-Level Languages Explained</h3>
                <p>Duration: ~10 minutes</p>
                <small>Video link to be added by teacher</small>
            </div>
            
            <div class="video-placeholder">
                <h3>📹 Video 2: How Compilers Work</h3>
                <p>Duration: ~8 minutes</p>
                <small>Video link to be added by teacher</small>
            </div>
            
            <div class="video-placeholder">
                <h3>📹 Video 3: Assembly Language Tutorial</h3>
                <p>Duration: ~12 minutes</p>
                <small>Video link to be added by teacher</small>
            </div>
            
            <div class="video-placeholder">
                <h3>📹 Video 4: Real-World Programming Examples</h3>
                <p>Duration: ~15 minutes</p>
                <small>Video link to be added by teacher</small>
            </div>
            
            <div class="card" style="margin-top: 2rem;">
                <h3>📚 Additional Resources</h3>
                <ul>
                    <li>OCR J277 Specification - Section 2.5</li>
                    <li>Your textbook - Chapter on Programming Languages</li>
                    <li>Online Python interpreter for practice</li>
                    <li>Assembly language simulator</li>
                </ul>
            </div>
            
            <div class="section-nav">
                <button class="nav-btn" onclick="previousSection()">← Previous</button>
                <button class="nav-btn" onclick="location.reload()">Start Over</button>
            </div>
        </section>
    </main>

    <script>
        // Global variables
        let currentSection = 0;
        let xp = 0;
        let level = 1;
        let achievements = new Set();
        let completedActions = new Set();
        let selectedDragItem = null;
        
        // Accessibility Functions
        function toggleAccessibilityPanel() {
            const panel = document.getElementById('accessibility-panel');
            panel.classList.toggle('show');
            
            if (panel.classList.contains('show')) {
                panel.focus();
            }
        }
        
        function changeFontSize(size) {
            document.body.classList.remove('font-small', 'font-medium', 'font-large', 'font-xlarge');
            document.body.classList.add(`font-${size}`);
            localStorage.setItem('fontSize', size);
        }
        
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
            const isHighContrast = document.body.classList.contains('high-contrast');
            localStorage.setItem('highContrast', isHighContrast);
            
            // Announce change to screen readers
            announceToScreenReader(isHighContrast ? 'High contrast mode enabled' : 'High contrast mode disabled');
        }
        
        function toggleDyslexiaFont() {
            document.body.classList.toggle('dyslexia-font');
            const isDyslexiaFont = document.body.classList.contains('dyslexia-font');
            localStorage.setItem('dyslexiaFont', isDyslexiaFont);
            
            announceToScreenReader(isDyslexiaFont ? 'Dyslexia-friendly font enabled' : 'Standard font enabled');
        }
        
        function toggleReduceMotion() {
            document.body.classList.toggle('reduce-motion');
            const isReducedMotion = document.body.classList.contains('reduce-motion');
            localStorage.setItem('reduceMotion', isReducedMotion);
            
            announceToScreenReader(isReducedMotion ? 'Motion reduced' : 'Motion enabled');
        }
        
        function resetAccessibility() {
            document.body.classList.remove('font-small', 'font-large', 'font-xlarge', 'high-contrast', 'dyslexia-font', 'reduce-motion');
            document.body.classList.add('font-medium');
            
            document.getElementById('font-size-select').value = 'medium';
            document.getElementById('high-contrast-toggle').checked = false;
            document.getElementById('dyslexia-font-toggle').checked = false;
            document.getElementById('reduce-motion-toggle').checked = false;
            
            localStorage.removeItem('fontSize');
            localStorage.removeItem('highContrast');
            localStorage.removeItem('dyslexiaFont');
            localStorage.removeItem('reduceMotion');
            
            announceToScreenReader('Accessibility settings reset to defaults');
        }
        
        function loadAccessibilitySettings() {
            const fontSize = localStorage.getItem('fontSize');
            const highContrast = localStorage.getItem('highContrast') === 'true';
            const dyslexiaFont = localStorage.getItem('dyslexiaFont') === 'true';
            const reduceMotion = localStorage.getItem('reduceMotion') === 'true';
            
            if (fontSize) {
                changeFontSize(fontSize);
                document.getElementById('font-size-select').value = fontSize;
            }
            
            if (highContrast) {
                document.body.classList.add('high-contrast');
                document.getElementById('high-contrast-toggle').checked = true;
            }
            
            if (dyslexiaFont) {
                document.body.classList.add('dyslexia-font');
                document.getElementById('dyslexia-font-toggle').checked = true;
            }
            
            if (reduceMotion) {
                document.body.classList.add('reduce-motion');
                document.getElementById('reduce-motion-toggle').checked = true;
            }
        }
        
        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }
        
        // Keyboard Navigation for Drag and Drop
        function initializeKeyboardDragDrop() {
            const dragItems = document.querySelectorAll('.drag-item');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            dragItems.forEach(item => {
                item.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        selectDragItem(item);
                    } else if (e.key === 'Escape' && selectedDragItem === item) {
                        deselectDragItem();
                    }
                });
            });
            
            dropZones.forEach(zone => {
                zone.setAttribute('tabindex', '0');
                zone.addEventListener('keydown', (e) => {
                    if ((e.key === 'Enter' || e.key === ' ') && selectedDragItem) {
                        e.preventDefault();
                        dropItemInZone(selectedDragItem, zone);
                        deselectDragItem();
                    }
                });
                
                zone.addEventListener('focus', () => {
                    if (selectedDragItem) {
                        zone.classList.add('keyboard-target');
                    }
                });
                
                zone.addEventListener('blur', () => {
                    zone.classList.remove('keyboard-target');
                });
            });
        }
        
        function selectDragItem(item) {
            if (selectedDragItem) {
                selectedDragItem.classList.remove('keyboard-selected');
            }
            selectedDragItem = item;
            item.classList.add('keyboard-selected');
            announceToScreenReader(`Selected ${item.textContent}. Press Tab to navigate to drop zones, then Enter to drop.`);
        }
        
        function deselectDragItem() {
            if (selectedDragItem) {
                selectedDragItem.classList.remove('keyboard-selected');
                selectedDragItem = null;
                document.querySelectorAll('.drop-zone').forEach(zone => {
                    zone.classList.remove('keyboard-target');
                });
                announceToScreenReader('Item deselected');
            }
        }
        
        function dropItemInZone(item, zone) {
            zone.appendChild(item);
            announceToScreenReader(`Dropped ${item.textContent} in ${zone.querySelector('h3').textContent}`);
        }
        
        // Initialize drag and drop
        document.addEventListener('DOMContentLoaded', () => {
            loadAccessibilitySettings();
            initializeDragAndDrop();
            initializeKeyboardDragDrop();
            initializeCanvas();
            updateProgressIndicators();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Alt + A for accessibility panel
                if (e.altKey && e.key === 'a') {
                    e.preventDefault();
                    toggleAccessibilityPanel();
                }
                
                // Arrow keys for section navigation
                if (e.altKey && e.key === 'ArrowRight') {
                    e.preventDefault();
                    nextSection();
                }
                
                if (e.altKey && e.key === 'ArrowLeft') {
                    e.preventDefault();
                    previousSection();
                }
            });
        });
        
        // Flashcards
        function flipCard(card) {
            const front = card.querySelector('.front');
            const back = card.querySelector('.back');
            
            if (front.style.display === 'none') {
                front.style.display = 'block';
                back.style.display = 'none';
                card.classList.remove('flipped');
                card.setAttribute('aria-label', `Flashcard: ${card.dataset.term}. Press Enter to flip`);
            } else {
                front.style.display = 'none';
                back.style.display = 'block';
                card.classList.add('flipped');
                card.setAttribute('aria-label', `Definition: ${back.textContent}. Press Enter to flip back`);
                addXP(2, `flashcard-${card.dataset.term}`);
            }
            
            // Announce the change
            announceToScreenReader(back.style.display === 'block' ? `Definition: ${back.textContent}` : `Term: ${front.textContent}`);
        }
        
        // XP System
        function addXP(amount, action) {
            if (completedActions.has(action)) return;
            completedActions.add(action);
            
            xp += amount;
            document.getElementById('xp-count').textContent = xp;
            
            // Update XP bar
            const newLevel = Math.floor(xp / 100) + 1;
            const xpInLevel = xp % 100;
            document.getElementById('xp-fill').style.width = xpInLevel + '%';
            
            // Update ARIA attributes
            const xpBar = document.querySelector('.xp-bar');
            xpBar.setAttribute('aria-valuenow', xpInLevel);
            
            // Announce XP gain
            announceToScreenReader(`You earned ${amount} experience points!`);
            
            if (newLevel > level) {
                level = newLevel;
                document.getElementById('level').textContent = level;
                showAchievement('🎉', 'Level Up!', `You reached level ${level}!`);
            }
        }
        
        // Achievement System
        function showAchievement(icon, title, description) {
            const popup = document.getElementById('achievement-popup');
            document.getElementById('achievement-icon').textContent = icon;
            document.getElementById('achievement-title').textContent = title;
            document.getElementById('achievement-desc').textContent = description;
            
            popup.classList.add('show');
            achievements.add(title);
            
            setTimeout(() => {
                popup.classList.remove('show');
            }, 3000);
        }
        
        // Navigation
        function navigateToSection(index) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => {
                l.classList.remove('active');
                l.removeAttribute('aria-current');
            });
            
            const targetSection = document.getElementById(`section-${index}`);
            const targetNavLink = document.querySelectorAll('.nav-link')[index];
            
            targetSection.classList.add('active');
            targetNavLink.classList.add('active');
            targetNavLink.setAttribute('aria-current', 'page');
            
            currentSection = index;
            updateProgressIndicators();
            
            // Focus management for screen readers
            targetSection.setAttribute('tabindex', '-1');
            targetSection.focus();
            
            // Announce section change
            const sectionTitle = targetSection.querySelector('h1').textContent;
            announceToScreenReader(`Now viewing: ${sectionTitle}`);
            
            // Update final summary
            if (index === 11) {
                document.getElementById('final-xp').textContent = xp;
                displayAchievements();
            }
        }
        
        function nextSection() {
            if (currentSection < 12) {
                navigateToSection(currentSection + 1);
            }
        }
        
        function previousSection() {
            if (currentSection > 0) {
                navigateToSection(currentSection - 1);
            }
        }
        
        function updateProgressIndicators() {
            // Update progress dots if needed
        }
        
        function displayAchievements() {
            const summary = document.getElementById('achievements-summary');
            summary.innerHTML = '';
            achievements.forEach(achievement => {
                const badge = document.createElement('div');
                badge.className = 'card';
                badge.style.padding = '1rem';
                badge.style.textAlign = 'center';
                badge.innerHTML = `<div style="font-size: 2rem;">🏆</div><div>${achievement}</div>`;
                summary.appendChild(badge);
            });
        }
        
        // Drag and Drop functionality
        function initializeDragAndDrop() {
            const draggables = document.querySelectorAll('.drag-item');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', (e) => {
                    e.dataTransfer.effectAllowed = 'move';
                    e.dataTransfer.setData('text/html', e.target.innerHTML);
                    e.dataTransfer.setData('category', e.target.dataset.category);
                    e.dataTransfer.setData('match', e.target.dataset.match || '');
                    e.target.classList.add('dragging');
                });
                
                draggable.addEventListener('dragend', (e) => {
                    e.target.classList.remove('dragging');
                });
            });
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('drag-over');
                });
                
                zone.addEventListener('dragleave', () => {
                    zone.classList.remove('drag-over');
                });
                
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    
                    const draggedElement = document.querySelector('.dragging');
                    if (draggedElement && zone !== draggedElement.parentElement) {
                        zone.appendChild(draggedElement);
                    }
                });
            });
        }
        
        // Starter Activity
        function checkStarterActivity() {
            const dropZones = document.querySelectorAll('#section-1 .drop-zone');
            let correct = 0;
            let total = 0;
            
            dropZones.forEach(zone => {
                const items = zone.querySelectorAll('.drag-item');
                items.forEach(item => {
                    total++;
                    if (item.dataset.category === zone.dataset.category) {
                        correct++;
                        item.style.background = '#c8e6c9';
                    } else {
                        item.style.background = '#ffcdd2';
                    }
                });
            });
            
            const feedback = document.getElementById('starter-feedback');
            if (correct === total && total > 0) {
                feedback.innerHTML = '<h3 style="color: #4caf50;">🎉 Perfect! All items correctly sorted!</h3>';
                addXP(20, 'starter-complete');
                if (!achievements.has('Quick Learner')) {
                    showAchievement('🎯', 'Quick Learner', 'Completed the starter activity perfectly!');
                }
            } else {
                feedback.innerHTML = `<h3 style="color: #f44336;">Not quite right. You got ${correct} out of ${total} correct. Try again!</h3>`;
            }
        }
        
        function resetStarterActivity() {
            const items = document.querySelectorAll('#section-1 .drag-item');
            const container = document.getElementById('starter-items');
            items.forEach(item => {
                item.style.background = '#e3f2fd';
                container.appendChild(item);
            });
            document.getElementById('starter-feedback').innerHTML = '';
        }
        
        // High-Level Languages Section
        function showLowLevel(element, command) {
            const translation = document.getElementById(`${command}-translation`);
            translation.style.display = translation.style.display === 'none' ? 'block' : 'none';
            element.classList.toggle('processing');
            
            if (translation.style.display === 'block') {
                addXP(5, `show-${command}`);
            }
        }
        
        function selectBenefit(element) {
            element.classList.toggle('selected');
        }
        
        function checkBenefits() {
            const options = document.querySelectorAll('#benefits-quiz .quiz-option');
            let correct = 0;
            let total = 0;
            
            options.forEach(option => {
                if (option.classList.contains('selected')) {
                    total++;
                    if (option.dataset.correct === 'true') {
                        correct++;
                        option.classList.add('correct');
                    } else {
                        option.classList.add('incorrect');
                    }
                }
            });
            
            const feedback = document.getElementById('benefits-feedback');
            if (correct === 4 && total === 4) {
                feedback.innerHTML = '<h3 style="color: #4caf50;">Excellent! You identified all the benefits correctly!</h3>';
                addXP(15, 'benefits-complete');
            } else {
                feedback.innerHTML = '<h3 style="color: #f44336;">Check your answers. Some benefits are incorrect.</h3>';
            }
        }
        
        // Assembly Simulation
        let accumulator = 0;
        let memoryResult = 0;
        
        function runAssemblySimulation() {
            const lines = document.querySelectorAll('#assembly-code .code-line');
            let delay = 0;
            
            lines.forEach((line, index) => {
                setTimeout(() => {
                    line.classList.add('processing');
                    
                    if (index === 0) {
                        accumulator = 5;
                        document.getElementById('accumulator').textContent = accumulator;
                    } else if (index === 1) {
                        accumulator += 3;
                        document.getElementById('accumulator').textContent = accumulator;
                    } else if (index === 2) {
                        memoryResult = accumulator;
                        document.getElementById('memory-result').textContent = memoryResult;
                    }
                    
                    if (index === lines.length - 1) {
                        addXP(10, 'assembly-simulation');
                    }
                }, delay);
                delay += 1000;
            });
        }
        
        function resetAssemblySimulation() {
            accumulator = 0;
            memoryResult = 0;
            document.getElementById('accumulator').textContent = '0';
            document.getElementById('memory-result').textContent = '0';
            document.querySelectorAll('#assembly-code .code-line').forEach(line => {
                line.classList.remove('processing');
            });
        }
        
        // Low-Level Quiz
        function checkLowLevelQuiz() {
            const checkboxes = document.querySelectorAll('#lowlevel-quiz input[type="checkbox"]');
            let correct = true;
            
            checkboxes.forEach(checkbox => {
                if ((checkbox.checked && checkbox.dataset.correct === 'false') ||
                    (!checkbox.checked && checkbox.dataset.correct === 'true')) {
                    correct = false;
                }
            });
            
            const feedback = document.getElementById('lowlevel-feedback');
            if (correct) {
                feedback.innerHTML = '<h3 style="color: #4caf50;">Perfect! You understand when to use low-level languages!</h3>';
                addXP(10, 'lowlevel-quiz');
            } else {
                feedback.innerHTML = '<h3 style="color: #f44336;">Not quite right. Think about performance and hardware control needs.</h3>';
            }
        }
        
        // Flashcards
        function flipCard(card) {
            const front = card.querySelector('.front');
            const back = card.querySelector('.back');
            
            if (front.style.display === 'none') {
                front.style.display = 'block';
                back.style.display = 'none';
                card.classList.remove('flipped');
                card.setAttribute('aria-label', `Flashcard: ${card.dataset.term}. Press Enter to flip`);
            } else {
                front.style.display = 'none';
                back.style.display = 'block';
                card.classList.add('flipped');
                card.setAttribute('aria-label', `Definition: ${back.textContent}. Press Enter to flip back`);
                addXP(2, `flashcard-${card.dataset.term}`);
            }
            
            // Announce the change
            announceToScreenReader(back.style.display === 'block' ? `Definition: ${back.textContent}` : `Term: ${front.textContent}`);
        }
        
        // Initialize flashcard keyboard support
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.flashcard').forEach(card => {
                card.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        flipCard(card);
                    }
                });
            });
        });
        
        // Term Match Game
        function checkTermMatch() {
            const languageZone = document.querySelector('[data-match="language"]');
            const translatorZone = document.querySelector('[data-match="translator"]');
            
            const languageItems = languageZone.querySelectorAll('.drag-item');
            const translatorItems = translatorZone.querySelectorAll('.drag-item');
            
            let correct = true;
            
            languageItems.forEach(item => {
                if (item.dataset.match !== 'language') correct = false;
            });
            
            translatorItems.forEach(item => {
                if (item.dataset.match !== 'translator') correct = false;
            });
            
            if (correct && languageItems.length === 2 && translatorItems.length === 2) {
                alert('Perfect matching! Well done!');
                addXP(10, 'term-match');
            } else {
                alert('Not quite right. Try again!');
            }
        }
        
        // Translator Race
        function runTranslatorRace() {
            let compilerTime = 0;
            let interpreterTime = 0;
            
            // Compiler simulation
            const compilerLines = document.querySelectorAll('#compiler-process .code-line');
            compilerLines.forEach((line, index) => {
                setTimeout(() => {
                    line.classList.add('processing');
                    compilerTime += 2;
                    document.getElementById('compiler-time').textContent = compilerTime;
                    
                    if (index === compilerLines.length - 1) {
                        setTimeout(() => {
                            alert('Compiler finished! Ready to run multiple times without retranslation!');
                        }, 500);
                    }
                }, index * 2000);
            });
            
            // Interpreter simulation
            const interpreterLines = document.querySelectorAll('#interpreter-process .code-line');
            interpreterLines.forEach((line, index) => {
                setTimeout(() => {
                    line.classList.add('processing');
                    interpreterTime += 1;
                    document.getElementById('interpreter-time').textContent = interpreterTime;
                    
                    if (index === interpreterLines.length - 1) {
                        addXP(15, 'translator-race');
                    }
                }, index * 1000);
            });
        }
        
        function resetTranslatorRace() {
            document.querySelectorAll('#compiler-process .code-line, #interpreter-process .code-line').forEach(line => {
                line.classList.remove('processing');
            });
            document.getElementById('compiler-time').textContent = '0';
            document.getElementById('interpreter-time').textContent = '0';
        }
        
        function checkTranslatorReflection() {
            const answer = document.getElementById('translator-reflection').value;
            if (answer.length > 20) {
                alert('Good reflection! Interpreters are indeed better for testing because they show errors immediately and don\'t require full recompilation for small changes.');
                addXP(10, 'translator-reflection');
            } else {
                alert('Please write a more detailed answer.');
            }
        }
        
        // Real World Scenarios
        function checkScenario(button, expected) {
            const questionText = button.parentElement.querySelector('strong').textContent.toLowerCase();
            let correctAnswer = '';
            
            // Determine correct answer based on the scenario
            if (questionText.includes('social media')) {
                correctAnswer = 'high';
            } else if (questionText.includes('drone') || questionText.includes('flight controller')) {
                correctAnswer = 'low';
            } else if (questionText.includes('machine learning')) {
                correctAnswer = 'high';
            }
            
            const isCorrect = (expected === correctAnswer);
            
            if (isCorrect) {
                button.style.background = '#4caf50';
                button.style.color = 'white';
                announceToScreenReader('Correct!');
                addXP(5, `scenario-${button.parentElement.querySelector('strong').textContent}`);
            } else {
                button.style.background = '#f44336';
                button.style.color = 'white';
                announceToScreenReader('Incorrect. Think about the requirements of this system.');
            }
            
            // Disable both buttons
            const buttons = button.parentElement.querySelectorAll('.quiz-option');
            buttons.forEach(b => b.disabled = true);
        }
        
        // Common Mistakes
        function toggleMistake(element) {
            element.classList.toggle('expanded');
            if (element.classList.contains('expanded')) {
                addXP(3, `mistake-${element.querySelector('h3').textContent}`);
            }
        }
        
        function selectMistakeQuiz(element) {
            const options = element.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function checkMistakesQuiz() {
            const selected = document.querySelector('#mistakes-quiz .selected');
            const feedback = document.getElementById('mistakes-feedback');
            
            if (!selected) {
                feedback.innerHTML = '<p>Please select an answer.</p>';
                return;
            }
            
            if (selected.dataset.correct === 'true') {
                feedback.innerHTML = '<h3 style="color: #4caf50;">Correct! Well done!</h3>';
                addXP(10, 'mistakes-quiz');
            } else {
                feedback.innerHTML = '<h3 style="color: #f44336;">Not quite. Try again!</h3>';
            }
        }
        
        // Exam Questions
        function showMarkScheme(question) {
            const marksInput = document.getElementById(`${question}-marks`);
            const answerTextarea = document.getElementById(`${question}-answer`);
            const scheme = document.getElementById(`${question}-scheme`);
            
            // Validate predicted marks entered
            if (!marksInput.value) {
                alert('Please enter your predicted marks first!');
                marksInput.focus();
                return;
            }
            
            // Validate answer length (minimum 50 characters for a reasonable attempt)
            const answerLength = answerTextarea.value.trim().length;
            if (answerLength < 50) {
                alert('Please write a more detailed answer before viewing the mark scheme. Make sure you\'ve made a reasonable attempt at answering the question.');
                answerTextarea.focus();
                return;
            }
            
            scheme.classList.add('show');
            addXP(5, `markscheme-${question}`);
            announceToScreenReader('Mark scheme revealed');
        }
        
        // Canvas functionality
        let canvas, ctx;
        let drawing = false;
        
        function initializeCanvas() {
            canvas = document.getElementById('drawingCanvas');
            ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = 600;
            canvas.height = 300;
            
            // Touch events
            canvas.addEventListener('touchstart', startDrawing, { passive: false });
            canvas.addEventListener('touchmove', draw, { passive: false });
            canvas.addEventListener('touchend', stopDrawing);
            
            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
        }
        
        function getCoordinates(e) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            
            if (e.touches) {
                return {
                    x: (e.touches[0].clientX - rect.left) * scaleX,
                    y: (e.touches[0].clientY - rect.top) * scaleY
                };
            }
            return {
                x: (e.clientX - rect.left) * scaleX,
                y: (e.clientY - rect.top) * scaleY
            };
        }
        
        function startDrawing(e) {
            e.preventDefault();
            drawing = true;
            const coords = getCoordinates(e);
            ctx.beginPath();
            ctx.moveTo(coords.x, coords.y);
        }
        
        function draw(e) {
            if (!drawing) return;
            e.preventDefault();
            
            const coords = getCoordinates(e);
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.strokeStyle = '#667eea';
            ctx.lineTo(coords.x, coords.y);
            ctx.stroke();
        }
        
        function stopDrawing() {
            drawing = false;
        }
        
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        function toggleCanvas() {
            const container = document.querySelector('.canvas-container');
            container.style.display = container.style.display === 'none' ? 'block' : 'none';
            
            if (container.style.display === 'block') {
                addXP(5, 'canvas-used');
            }
        }
        
        // Extension Activities
        function saveExtension(id) {
            const textarea = document.getElementById(id);
            if (textarea.value.length > 50) {
                alert('Extension activity saved! Great thinking beyond the specification!');
                addXP(20, `extension-${id}`);
                
                if (!achievements.has('Going Beyond')) {
                    showAchievement('🚀', 'Going Beyond', 'Completed an extension activity!');
                }
            } else {
                alert('Please write more detail in your answer.');
            }
        }
    </script>
</body>
</html>