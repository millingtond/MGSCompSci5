<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Encoding Simulation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 0;
            animation: fadeInDown 0.8s ease;
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00d2ff 0%, #3a7bd5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2em;
            color: #a8a8a8;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .tab.active {
            background: linear-gradient(90deg, #00d2ff 0%, #3a7bd5 100%);
            border-color: transparent;
            box-shadow: 0 4px 20px rgba(0, 210, 255, 0.3);
        }

        .content {
            animation: fadeIn 0.5s ease;
        }

        .section {
            display: none;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .input-group {
            margin: 20px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: #00d2ff;
        }

        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus, input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #00d2ff;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(0, 210, 255, 0.2);
        }

        .button {
            padding: 12px 30px;
            background: linear-gradient(90deg, #00d2ff 0%, #3a7bd5 100%);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 210, 255, 0.4);
        }

        .binary-display {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .bit {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-size: 24px;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .bit.on {
            background: #00d2ff;
            box-shadow: 0 0 20px rgba(0, 210, 255, 0.5);
            transform: scale(1.1);
        }

        .result-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ascii-table {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }

        .ascii-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .ascii-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: #00d2ff;
            transform: scale(1.05);
        }

        .ascii-item.selected {
            background: #00d2ff;
            box-shadow: 0 0 20px rgba(0, 210, 255, 0.5);
        }

        .slider-container {
            margin: 30px 0;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 25px;
            height: 25px;
            background: #00d2ff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0, 210, 255, 0.5);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .quiz-question {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }

        .quiz-option {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .quiz-option:hover {
            border-color: #00d2ff;
            background: rgba(255, 255, 255, 0.15);
        }

        .quiz-option.correct {
            background: rgba(0, 255, 0, 0.2);
            border-color: #00ff00;
        }

        .quiz-option.incorrect {
            background: rgba(255, 0, 0, 0.2);
            border-color: #ff0000;
        }

        .game-section {
            display: none;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .info-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .emoji-example {
            font-size: 2em;
            margin: 10px;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .bit { width: 40px; height: 40px; font-size: 20px; }
            .comparison-grid { grid-template-columns: 1fr; }
            .quiz-options { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Character Encoding Simulation</h1>
            <p class="subtitle">Learn how computers represent text using binary</p>
        </header>

        <div class="tabs">
            <div class="tab active" onclick="showSection('converter')">Binary Converter</div>
            <div class="tab" onclick="showSection('ascii')">ASCII Table</div>
            <div class="tab" onclick="showSection('bits')">Bit Limitations</div>
            <div class="tab" onclick="showSection('compare')">ASCII vs Unicode</div>
            <div class="tab" onclick="showSection('practice')">Practice</div>
            <div class="tab" onclick="showSection('games')">Interactive Tools</div>
        </div>

        <div class="content">
            <!-- Binary Converter Section -->
            <div id="converter" class="section active">
                <h2>Character to Binary Converter</h2>
                <p style="margin-bottom: 20px;">Type any character to see its binary representation</p>
                
                <div class="input-group">
                    <label for="charInput">Enter a character:</label>
                    <input type="text" id="charInput" maxlength="1" placeholder="A" oninput="convertCharacter()">
                </div>

                <div class="result-box">
                    <h3>ASCII (8-bit) Representation:</h3>
                    <div id="asciiBinary" class="binary-display"></div>
                    <p id="asciiInfo" style="margin-top: 10px;"></p>
                </div>

                <div class="result-box">
                    <h3>Unicode (16-bit) Representation:</h3>
                    <div id="unicodeBinary" class="binary-display"></div>
                    <p id="unicodeInfo" style="margin-top: 10px;"></p>
                </div>

                <div class="info-card">
                    <h3>üí° Did you know?</h3>
                    <p>Characters are ordered logically! The letter 'B' (66) is exactly one more than 'A' (65). This makes it easy for computers to work with alphabetical ordering.</p>
                </div>
            </div>

            <!-- ASCII Table Section -->
            <div id="ascii" class="section">
                <h2>Interactive ASCII Table</h2>
                <p style="margin-bottom: 20px;">Click on any character to see its details</p>
                
                <div class="ascii-table" id="asciiTable"></div>
                
                <div class="result-box" id="asciiDetails" style="display: none;">
                    <h3>Character Details:</h3>
                    <p id="selectedChar"></p>
                    <p id="selectedDecimal"></p>
                    <p id="selectedBinary"></p>
                    <p id="selectedHex"></p>
                </div>
            </div>

            <!-- Bit Limitations Section -->
            <div id="bits" class="section">
                <h2>Understanding Bit Limitations</h2>
                <p style="margin-bottom: 20px;">See how the number of bits affects how many characters we can represent</p>
                
                <div class="slider-container">
                    <label for="bitSlider">Number of bits: <span id="bitCount">8</span></label>
                    <input type="range" id="bitSlider" min="1" max="16" value="8" oninput="updateBitDemo()">
                </div>

                <div class="result-box">
                    <h3>With <span id="bitDisplay">8</span> bits, you can represent:</h3>
                    <p style="font-size: 2em; margin: 10px 0;"><span id="charCount">256</span> different characters</p>
                    <p>Formula: 2^<span id="bitFormula">8</span> = <span id="charFormula">256</span></p>
                </div>

                <div id="bitVisual" class="binary-display" style="margin-top: 20px;"></div>

                <div class="info-card">
                    <h3>üìä Common Character Sets:</h3>
                    <ul style="list-style: none; padding: 10px;">
                        <li>‚Ä¢ 7 bits = 128 characters (Original ASCII)</li>
                        <li>‚Ä¢ 8 bits = 256 characters (Extended ASCII)</li>
                        <li>‚Ä¢ 16 bits = 65,536 characters (Basic Unicode)</li>
                        <li>‚Ä¢ 32 bits = 4,294,967,296 characters (Full Unicode)</li>
                    </ul>
                </div>
            </div>

            <!-- Comparison Section -->
            <div id="compare" class="section">
                <h2>ASCII vs Unicode</h2>
                <p style="margin-bottom: 20px;">Understanding different character encoding standards</p>
                
                <div class="comparison-grid">
                    <div class="result-box">
                        <h3>ASCII</h3>
                        <ul style="list-style: none; padding: 10px;">
                            <li>‚úì 8 bits per character</li>
                            <li>‚úì 256 possible characters</li>
                            <li>‚úì English letters, numbers, symbols</li>
                            <li>‚úó No emojis or special characters</li>
                            <li>‚úó Limited language support</li>
                        </ul>
                    </div>
                    
                    <div class="result-box">
                        <h3>Unicode</h3>
                        <ul style="list-style: none; padding: 10px;">
                            <li>‚úì 16-32 bits per character</li>
                            <li>‚úì Over 1 million possible characters</li>
                            <li>‚úì All languages supported</li>
                            <li>‚úì Emojis and special symbols</li>
                            <li>‚úì Global standard</li>
                        </ul>
                    </div>
                </div>

                <div class="info-card">
                    <h3>Characters only Unicode can represent:</h3>
                    <div style="text-align: center;">
                        <span class="emoji-example">‰Ω†Â•Ω</span>
                        <span class="emoji-example">ŸÖÿ±ÿ≠ÿ®ÿß</span>
                        <span class="emoji-example">üéÆ</span>
                        <span class="emoji-example">‚ô†Ô∏è</span>
                        <span class="emoji-example">‚àë</span>
                        <span class="emoji-example">‚Ç¨</span>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div id="practice" class="section">
                <h2>Practice Exercises</h2>
                <p style="margin-bottom: 20px;">Test your understanding of character encoding</p>
                
                <div class="quiz-question">
                    <h3>Question 1: What is the binary representation of 'C' in ASCII?</h3>
                    <p style="color: #a8a8a8; margin: 10px 0;">Hint: 'A' = 65, 'B' = 66...</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(1, 1)">01000001</div>
                        <div class="quiz-option" onclick="checkAnswer(1, 2)">01000010</div>
                        <div class="quiz-option" onclick="checkAnswer(1, 3)">01000011</div>
                        <div class="quiz-option" onclick="checkAnswer(1, 4)">01000100</div>
                    </div>
                </div>

                <div class="quiz-question">
                    <h3>Question 2: How many characters can 4 bits represent?</h3>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(2, 1)">8</div>
                        <div class="quiz-option" onclick="checkAnswer(2, 2)">16</div>
                        <div class="quiz-option" onclick="checkAnswer(2, 3)">32</div>
                        <div class="quiz-option" onclick="checkAnswer(2, 4)">64</div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="binaryDecode">Decode this binary message: 01001000 01101001</label>
                    <input type="text" id="binaryDecode" placeholder="Type your answer">
                    <button class="button" onclick="checkDecode()">Check Answer</button>
                    <p id="decodeResult" style="margin-top: 10px;"></p>
                </div>

                <div class="input-group">
                    <label for="textEncode">Encode your message to binary:</label>
                    <input type="text" id="textEncode" placeholder="Type a message">
                    <button class="button" onclick="encodeText()">Encode</button>
                    <div id="encodedResult" class="result-box" style="display: none; margin-top: 20px;">
                        <h3>Binary Result:</h3>
                        <p id="binaryOutput" style="font-family: monospace; word-break: break-all;"></p>
                    </div>
                </div>
            </div>

            <!-- Interactive Tools Section -->
            <div id="games" class="section">
                <h2>Interactive Learning Tools</h2>
                <p style="margin-bottom: 20px;">Explore character encoding through creative experiences!</p>
                
                <div class="tabs" style="margin: 20px 0;">
                    <div class="tab active" onclick="showGame('escape')">Escape Room</div>
                    <div class="tab" onclick="showGame('emoji')">Emoji Builder</div>
                    <div class="tab" onclick="showGame('music')">Binary Music</div>
                    <div class="tab" onclick="showGame('haptic')">Haptic Feedback</div>
                    <div class="tab" onclick="showGame('voice')">Voice to Binary</div>
                </div>

                <!-- Escape Room Puzzle -->
                <div id="escape" class="game-section" style="display: block;">
                    <h3>üîê Binary Escape Room</h3>
                    <p>Decode the messages to escape the digital maze!</p>
                    
                    <div class="result-box">
                        <div id="escapeStory" style="margin-bottom: 20px;">
                            <p style="font-style: italic; color: #a8a8a8;">You wake up in a strange digital world. Everything around you is made of 1s and 0s. To escape, you must decode the hidden messages...</p>
                        </div>
                        
                        <div id="escapePuzzle">
                            <h3>Puzzle <span id="puzzleNumber">1</span> of 5</h3>
                            <div id="puzzleContent" style="margin: 20px 0;">
                                <p>Decode this binary message to find the first key:</p>
                                <p style="font-family: monospace; font-size: 1.2em; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                                    <span id="binaryPuzzle">01001000 01000101 01001100 01010000</span>
                                </p>
                            </div>
                            <input type="text" id="escapeAnswer" placeholder="Type the decoded message" 
                                   onkeypress="if(event.key==='Enter') checkEscapeAnswer()">
                            <button class="button" onclick="checkEscapeAnswer()">Submit Answer</button>
                            <button class="button" onclick="getEscapeHint()" style="background: linear-gradient(90deg, #ff6b6b 0%, #ee5a24 100%);">Get Hint</button>
                            <p id="escapeFeedback" style="margin-top: 10px;"></p>
                        </div>
                        
                        <div id="escapeProgress" style="margin-top: 20px;">
                            <p>Progress:</p>
                            <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 3px;">
                                <div id="progressBar" style="background: linear-gradient(90deg, #00d2ff 0%, #3a7bd5 100%); 
                                     height: 20px; border-radius: 8px; width: 0%; transition: width 0.5s ease;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="escapeComplete" class="result-box" style="display: none; text-align: center;">
                        <h2>üéâ Congratulations!</h2>
                        <p>You've escaped the digital maze!</p>
                        <p id="escapeSummary"></p>
                        <button class="button" onclick="resetEscape()">Play Again</button>
                    </div>
                </div>

                <!-- Emoji Builder -->
                <div id="emoji" class="game-section" style="display: none;">
                    <h3>üë∑ Emoji Builder</h3>
                    <p>Learn how Unicode creates emojis with combining characters!</p>
                    
                    <div class="result-box">
                        <h4>Build Your Emoji</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                            <div>
                                <label>Base Emoji:</label>
                                <select id="baseEmoji" onchange="updateEmojiPreview()">
                                    <option value="üëã">üëã Waving Hand (U+1F44B)</option>
                                    <option value="üë®">üë® Man (U+1F468)</option>
                                    <option value="üë©">üë© Woman (U+1F469)</option>
                                    <option value="‚ù§">‚ù§ Heart (U+2764)</option>
                                    <option value="üèÉ">üèÉ Runner (U+1F3C3)</option>
                                </select>
                            </div>
                            <div>
                                <label>Skin Tone Modifier:</label>
                                <select id="skinTone" onchange="updateEmojiPreview()">
                                    <option value="">None</option>
                                    <option value="üèª">üèª Light (U+1F3FB)</option>
                                    <option value="üèº">üèº Medium-Light (U+1F3FC)</option>
                                    <option value="üèΩ">üèΩ Medium (U+1F3FD)</option>
                                    <option value="üèæ">üèæ Medium-Dark (U+1F3FE)</option>
                                    <option value="üèø">üèø Dark (U+1F3FF)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin: 20px 0;">
                            <p>Result:</p>
                            <div id="emojiResult" style="font-size: 4em;">üëã</div>
                            <p id="emojiCode" style="font-family: monospace; margin-top: 10px;">Unicode: U+1F44B</p>
                        </div>
                        
                        <div id="emojiBinary" class="result-box" style="margin-top: 20px;">
                            <h4>Binary Representation (UTF-16):</h4>
                            <div id="emojiBinaryDisplay" class="binary-display"></div>
                            <p id="emojiBitCount" style="margin-top: 10px;">Total bits used: 16</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h3>üéØ Why Emojis Need More Bits</h3>
                        <ul style="list-style: none; padding: 10px;">
                            <li>‚Ä¢ ASCII (8 bits) can only represent 256 characters</li>
                            <li>‚Ä¢ Basic emojis need 16-32 bits</li>
                            <li>‚Ä¢ Combined emojis (with modifiers) need even more!</li>
                            <li>‚Ä¢ Unicode allows over 1 million unique characters</li>
                        </ul>
                    </div>
                    
                    <div class="result-box">
                        <h4>Try These Combinations:</h4>
                        <div style="text-align: center;">
                            <span class="emoji-example">üë®‚Äçüíª</span>
                            <span class="emoji-example">üë©‚Äçüî¨</span>
                            <span class="emoji-example">üßë‚Äçüé®</span>
                            <span class="emoji-example">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                        </div>
                        <p style="text-align: center; color: #a8a8a8; margin-top: 10px;">
                            These are created by combining multiple Unicode characters!
                        </p>
                    </div>
                </div>

                <!-- Binary Music Maker -->
                <div id="music" class="game-section" style="display: none;">
                    <h3>üéµ Binary Music Maker</h3>
                    <p>Create melodies using character codes!</p>
                    
                    <div class="result-box">
                        <h4>Type to Create Music</h4>
                        <div class="input-group">
                            <input type="text" id="musicText" placeholder="Type your message here..." 
                                   oninput="updateMusicDisplay()">
                            <button class="button" onclick="playMusic()">‚ñ∂Ô∏è Play Music</button>
                            <button class="button" onclick="stopMusic()">‚èπÔ∏è Stop</button>
                        </div>
                        
                        <div id="musicDisplay" style="margin-top: 20px;">
                            <h4>Musical Binary Representation:</h4>
                            <div id="notesDisplay" style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;"></div>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <label>Speed: <span id="speedValue">Medium</span></label>
                            <input type="range" id="musicSpeed" min="100" max="500" value="300" 
                                   oninput="updateSpeed()">
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h3>üéº How It Works</h3>
                        <p>Each bit in the binary representation triggers a different note:</p>
                        <ul style="list-style: none; padding: 10px;">
                            <li>‚Ä¢ Bit 1 (rightmost) = C note</li>
                            <li>‚Ä¢ Bit 2 = D note</li>
                            <li>‚Ä¢ Bit 3 = E note</li>
                            <li>‚Ä¢ Bit 4 = F note</li>
                            <li>‚Ä¢ Bit 5 = G note</li>
                            <li>‚Ä¢ Bit 6 = A note</li>
                            <li>‚Ä¢ Bit 7 = B note</li>
                            <li>‚Ä¢ Bit 8 = High C note</li>
                        </ul>
                    </div>
                </div>

                <!-- Haptic Feedback -->
                <div id="haptic" class="game-section" style="display: none;">
                    <h3>üì≥ Haptic Binary Feedback</h3>
                    <p>Feel the difference between 1s and 0s through vibration patterns!</p>
                    
                    <div class="result-box">
                        <h4>Haptic Learning Mode</h4>
                        <div class="input-group">
                            <input type="text" id="hapticInput" maxlength="1" placeholder="Enter a character"
                                   oninput="generateHapticPattern()">
                        </div>
                        
                        <div id="hapticDisplay" style="margin: 20px 0; text-align: center;">
                            <div id="hapticBinary" class="binary-display"></div>
                            <button class="button" onclick="playHapticPattern()" style="margin-top: 20px;">
                                üì≥ Feel Pattern
                            </button>
                        </div>
                        
                        <div id="hapticVisual" style="margin: 20px 0;">
                            <h4 style="text-align: center;">Vibration Pattern:</h4>
                            <div style="text-align: center;">
                                <canvas id="hapticCanvas" width="800" height="100" 
                                        style="width: 100%; max-width: 800px; height: 100px; background: rgba(0,0,0,0.3); border-radius: 10px;">
                                </canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h3>ü§≤ Accessibility Features</h3>
                        <ul style="list-style: none; padding: 10px;">
                            <li>‚Ä¢ Long vibration = 1 (one)</li>
                            <li>‚Ä¢ Short vibration = 0 (zero)</li>
                            <li>‚Ä¢ Pause between bits for clarity</li>
                            <li>‚Ä¢ Adjustable speed for different learning needs</li>
                        </ul>
                        <p style="margin-top: 10px; color: #a8a8a8;">
                            Note: Haptic feedback requires a device with vibration support (most phones/tablets).
                        </p>
                    </div>
                    
                    <div class="result-box">
                        <h4>Practice Mode</h4>
                        <button class="button" onclick="startHapticQuiz()">Start Haptic Quiz</button>
                        <div id="hapticQuiz" style="display: none; margin-top: 20px;">
                            <p>Feel the pattern and identify the character:</p>
                            <button class="button" onclick="playQuizPattern()">üì≥ Feel Mystery Pattern</button>
                            <input type="text" id="hapticGuess" placeholder="Your guess" style="margin-top: 10px;">
                            <button class="button" onclick="checkHapticGuess()">Check Answer</button>
                            <p id="hapticFeedback"></p>
                        </div>
                    </div>
                </div>

                <!-- Voice to Binary -->
                <div id="voice" class="game-section" style="display: none;">
                    <h3>üé§ Voice to Binary</h3>
                    <p>Speak letters and watch them convert to binary in real-time!</p>
                    
                    <div class="result-box">
                        <h4>Speech Recognition</h4>
                        <div style="text-align: center;">
                            <button class="button" id="voiceButton" onclick="toggleVoiceRecognition()">
                                üé§ Start Speaking
                            </button>
                            <p id="voiceStatus" style="margin-top: 10px;">Click to start voice recognition</p>
                        </div>
                        
                        <div id="voiceResult" style="margin-top: 20px;">
                            <h4>Recognized Text:</h4>
                            <p id="recognizedText" style="font-size: 2em; min-height: 40px;">...</p>
                        </div>
                        
                        <div id="voiceBinary" style="margin-top: 20px;">
                            <h4>Binary Conversion:</h4>
                            <div id="voiceBinaryDisplay"></div>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h3>üó£Ô∏è Practice Pronunciation</h3>
                        <p>Try saying these clearly:</p>
                        <ul style="list-style: none; padding: 10px;">
                            <li>‚Ä¢ Individual letters: "A", "B", "C"</li>
                            <li>‚Ä¢ Numbers: "One", "Two", "Three"</li>
                            <li>‚Ä¢ Words: "Hello", "Binary", "Computer"</li>
                        </ul>
                        <p style="margin-top: 10px;">
                            <select id="voiceLanguage" onchange="updateVoiceLanguage()">
                                <option value="en-US">English (US)</option>
                                <option value="en-GB">English (UK)</option>
                                <option value="es-ES">Espa√±ol</option>
                                <option value="fr-FR">Fran√ßais</option>
                                <option value="de-DE">Deutsch</option>
                                <option value="zh-CN">‰∏≠Êñá</option>
                            </select>
                        </p>
                    </div>
                    
                    <div class="result-box">
                        <h4>Voice Challenge</h4>
                        <p>Say this character: <span id="voiceChallenge" style="font-size: 3em;">A</span></p>
                        <button class="button" onclick="newVoiceChallenge()">New Challenge</button>
                        <p id="voiceChallengeFeedback"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Show section based on tab click
        function showSection(sectionId) {
            // Update tabs
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update sections
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
        }

        // Convert character to binary
        function convertCharacter() {
            const char = document.getElementById('charInput').value;
            if (!char) return;
            
            const charCode = char.charCodeAt(0);
            
            // ASCII (8-bit)
            const asciiBinary = charCode.toString(2).padStart(8, '0');
            displayBinary('asciiBinary', asciiBinary);
            document.getElementById('asciiInfo').textContent = 
                `Decimal: ${charCode} | Hex: 0x${charCode.toString(16).toUpperCase()}`;
            
            // Unicode (16-bit)
            const unicodeBinary = charCode.toString(2).padStart(16, '0');
            displayBinary('unicodeBinary', unicodeBinary);
            document.getElementById('unicodeInfo').textContent = 
                `Unicode: U+${charCode.toString(16).toUpperCase().padStart(4, '0')}`;
        }

        // Display binary with visual bits
        function displayBinary(elementId, binary) {
            const container = document.getElementById(elementId);
            container.innerHTML = '';
            
            binary.split('').forEach((bit, index) => {
                const bitElement = document.createElement('div');
                bitElement.className = `bit ${bit === '1' ? 'on' : ''}`;
                bitElement.textContent = bit;
                bitElement.onclick = () => toggleBit(elementId, index);
                container.appendChild(bitElement);
            });
        }

        // Toggle bit on click
        function toggleBit(containerId, index) {
            const container = document.getElementById(containerId);
            const bits = container.querySelectorAll('.bit');
            const bit = bits[index];
            
            bit.classList.toggle('on');
            bit.textContent = bit.textContent === '0' ? '1' : '0';
        }

        // Generate ASCII table
        function generateAsciiTable() {
            const table = document.getElementById('asciiTable');
            table.innerHTML = '';
            
            for (let i = 32; i <= 126; i++) {
                const item = document.createElement('div');
                item.className = 'ascii-item';
                item.innerHTML = `
                    <div style="font-size: 24px;">${String.fromCharCode(i)}</div>
                    <div style="font-size: 12px; color: #a8a8a8;">${i}</div>
                `;
                item.onclick = () => showAsciiDetails(i);
                table.appendChild(item);
            }
        }

        // Show ASCII character details
        function showAsciiDetails(code) {
            document.getElementById('asciiDetails').style.display = 'block';
            document.getElementById('selectedChar').textContent = `Character: ${String.fromCharCode(code)}`;
            document.getElementById('selectedDecimal').textContent = `Decimal: ${code}`;
            document.getElementById('selectedBinary').textContent = `Binary: ${code.toString(2).padStart(8, '0')}`;
            document.getElementById('selectedHex').textContent = `Hexadecimal: 0x${code.toString(16).toUpperCase()}`;
            
            // Highlight selected
            document.querySelectorAll('.ascii-item').forEach(item => item.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
        }

        // Update bit demonstration
        function updateBitDemo() {
            const bits = document.getElementById('bitSlider').value;
            const chars = Math.pow(2, bits);
            
            document.getElementById('bitCount').textContent = bits;
            document.getElementById('bitDisplay').textContent = bits;
            document.getElementById('charCount').textContent = chars.toLocaleString();
            document.getElementById('bitFormula').textContent = bits;
            document.getElementById('charFormula').textContent = chars.toLocaleString();
            
            // Create visual representation
            const visual = document.getElementById('bitVisual');
            visual.innerHTML = '';
            
            for (let i = 0; i < Math.min(bits, 16); i++) {
                const bitElement = document.createElement('div');
                bitElement.className = 'bit';
                bitElement.textContent = '0';
                visual.appendChild(bitElement);
            }
        }

        // Check quiz answers
        function checkAnswer(question, answer) {
            const options = event.currentTarget.parentElement.children;
            
            // Reset all options
            for (let option of options) {
                option.classList.remove('correct', 'incorrect');
            }
            
            if (question === 1 && answer === 3) {
                event.currentTarget.classList.add('correct');
            } else if (question === 2 && answer === 2) {
                event.currentTarget.classList.add('correct');
            } else {
                event.currentTarget.classList.add('incorrect');
            }
        }

        // Check binary decode
        function checkDecode() {
            const answer = document.getElementById('binaryDecode').value.toLowerCase();
            const result = document.getElementById('decodeResult');
            
            if (answer === 'hi') {
                result.textContent = '‚úÖ Correct! 01001000 = H, 01101001 = i';
                result.style.color = '#00ff00';
            } else {
                result.textContent = '‚ùå Try again! Hint: Convert each 8-bit group to its ASCII character.';
                result.style.color = '#ff0000';
            }
        }

        // Encode text to binary
        function encodeText() {
            const text = document.getElementById('textEncode').value;
            if (!text) return;
            
            let binary = '';
            for (let char of text) {
                binary += char.charCodeAt(0).toString(2).padStart(8, '0') + ' ';
            }
            
            document.getElementById('encodedResult').style.display = 'block';
            document.getElementById('binaryOutput').textContent = binary.trim();
        }

        // Initialize
        generateAsciiTable();
        convertCharacter();
        updateBitDemo();

        // Game functionality
        let escapeLevel = 1;
        let escapePuzzles = [
            { binary: '01001000 01000101 01001100 01010000', answer: 'HELP', hint: 'A cry for assistance', story: 'The first key glows with a soft blue light. A door appears...' },
            { binary: '01000100 01001111 01001111 01010010', answer: 'DOOR', hint: 'An entrance or exit', story: 'You step through the door into a room filled with floating numbers...' },
            { binary: '00110001 00110010 00110011', answer: '123', hint: 'Count with me', story: 'A numeric keypad materializes. The code works! A staircase descends...' },
            { binary: '01001011 01000101 01011001', answer: 'KEY', hint: 'Opens locks', story: 'A golden key appears in your hand. You hear a click in the distance...' },
            { binary: '11100010 10011000 10000000', answer: '‚òÄ', hint: 'Unicode sunshine', story: 'The sun symbol lights up the final door. Freedom awaits!' }
        ];

        // Audio context for music
        let audioContext = null;
        let musicInterval = null;
        let currentNoteIndex = 0;

        // Voice recognition
        let recognition = null;
        let voiceActive = false;
        let voiceChallengeChar = 'A';

        // Haptic pattern
        let hapticPattern = [];
        let quizPattern = '';

        function showGame(gameId) {
            document.querySelectorAll('#games .tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            document.querySelectorAll('.game-section').forEach(section => section.style.display = 'none');
            document.getElementById(gameId).style.display = 'block';
        }

        // Escape Room Functions
        function checkEscapeAnswer() {
            const answer = document.getElementById('escapeAnswer').value.toUpperCase();
            const currentPuzzle = escapePuzzles[escapeLevel - 1];
            
            if (answer === currentPuzzle.answer) {
                document.getElementById('escapeFeedback').textContent = '‚úÖ Correct! ' + currentPuzzle.story;
                document.getElementById('escapeFeedback').style.color = '#00ff00';
                
                if (escapeLevel < escapePuzzles.length) {
                    escapeLevel++;
                    setTimeout(() => {
                        loadEscapePuzzle();
                    }, 3000);
                } else {
                    completeEscape();
                }
                
                updateEscapeProgress();
            } else {
                document.getElementById('escapeFeedback').textContent = '‚ùå Incorrect. Try again!';
                document.getElementById('escapeFeedback').style.color = '#ff0000';
            }
        }

        function loadEscapePuzzle() {
            const puzzle = escapePuzzles[escapeLevel - 1];
            document.getElementById('puzzleNumber').textContent = escapeLevel;
            document.getElementById('binaryPuzzle').textContent = puzzle.binary;
            document.getElementById('escapeAnswer').value = '';
            document.getElementById('escapeFeedback').textContent = '';
            
            if (escapeLevel === 5) {
                document.getElementById('puzzleContent').innerHTML = `
                    <p>The final challenge - decode this Unicode character:</p>
                    <p style="font-family: monospace; font-size: 1.2em; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        <span id="binaryPuzzle">${puzzle.binary}</span>
                    </p>
                    <p style="color: #a8a8a8;">Hint: This uses UTF-8 encoding for a special symbol</p>
                `;
            }
        }

        function getEscapeHint() {
            const hint = escapePuzzles[escapeLevel - 1].hint;
            document.getElementById('escapeFeedback').textContent = `üí° Hint: ${hint}`;
            document.getElementById('escapeFeedback').style.color = '#ffff00';
        }

        function updateEscapeProgress() {
            const progress = (escapeLevel / escapePuzzles.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function completeEscape() {
            document.getElementById('escapePuzzle').style.display = 'none';
            document.getElementById('escapeComplete').style.display = 'block';
            document.getElementById('escapeSummary').textContent = 
                'You successfully decoded all the binary messages and found your way back to the real world!';
        }

        function resetEscape() {
            escapeLevel = 1;
            document.getElementById('escapePuzzle').style.display = 'block';
            document.getElementById('escapeComplete').style.display = 'none';
            loadEscapePuzzle();
            updateEscapeProgress();
        }

        // Emoji Builder Functions
        function updateEmojiPreview() {
            const base = document.getElementById('baseEmoji').value;
            const skinTone = document.getElementById('skinTone').value;
            const combined = base + skinTone;
            
            document.getElementById('emojiResult').textContent = combined;
            
            // Show Unicode codes
            let codes = [];
            for (let i = 0; i < combined.length; i++) {
                codes.push('U+' + combined.codePointAt(i).toString(16).toUpperCase());
            }
            document.getElementById('emojiCode').textContent = 'Unicode: ' + codes.join(' + ');
            
            // Show binary representation
            let binaryString = '';
            let bitCount = 0;
            for (let i = 0; i < combined.length; i++) {
                const code = combined.charCodeAt(i);
                const binary = code.toString(2).padStart(16, '0');
                binaryString += binary;
                bitCount += 16;
            }
            
            displayBinary('emojiBinaryDisplay', binaryString);
            document.getElementById('emojiBitCount').textContent = `Total bits used: ${bitCount}`;
        }

        // Binary Music Functions
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playNote(frequency, duration) {
            initAudio();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start();
            oscillator.stop(audioContext.currentTime + duration);
        }

        function updateMusicDisplay() {
            const text = document.getElementById('musicText').value;
            const display = document.getElementById('notesDisplay');
            display.innerHTML = '';
            
            for (let char of text) {
                const charCode = char.charCodeAt(0);
                const binary = charCode.toString(2).padStart(8, '0');
                
                const charDiv = document.createElement('div');
                charDiv.className = 'result-box';
                charDiv.style.padding = '10px';
                charDiv.innerHTML = `
                    <div style="font-size: 24px;">${char}</div>
                    <div style="font-family: monospace; font-size: 12px;">${binary}</div>
                `;
                display.appendChild(charDiv);
            }
        }

        function playMusic() {
            stopMusic();
            const text = document.getElementById('musicText').value;
            if (!text) return;
            
            const speed = parseInt(document.getElementById('musicSpeed').value);
            const notes = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88, 523.25]; // C to C
            
            currentNoteIndex = 0;
            const chars = text.split('');
            
            musicInterval = setInterval(() => {
                if (currentNoteIndex >= chars.length) {
                    stopMusic();
                    return;
                }
                
                const char = chars[currentNoteIndex];
                const binary = char.charCodeAt(0).toString(2).padStart(8, '0');
                
                // Play notes for each '1' bit
                binary.split('').forEach((bit, index) => {
                    if (bit === '1') {
                        setTimeout(() => {
                            playNote(notes[index], 0.2);
                        }, index * 50);
                    }
                });
                
                currentNoteIndex++;
            }, speed);
        }

        function stopMusic() {
            if (musicInterval) {
                clearInterval(musicInterval);
                musicInterval = null;
            }
        }

        function updateSpeed() {
            const speed = document.getElementById('musicSpeed').value;
            const labels = ['Very Fast', 'Fast', 'Medium', 'Slow', 'Very Slow'];
            const index = Math.floor((speed - 100) / 100);
            document.getElementById('speedValue').textContent = labels[index];
        }

        // Haptic Feedback Functions
        function generateHapticPattern() {
            const char = document.getElementById('hapticInput').value;
            if (!char) return;
            
            const binary = char.charCodeAt(0).toString(2).padStart(8, '0');
            displayBinary('hapticBinary', binary);
            
            hapticPattern = binary.split('').map(bit => bit === '1' ? 200 : 50);
            drawHapticPattern();
        }

        function playHapticPattern() {
            if (!navigator.vibrate) {
                alert('Haptic feedback is not supported on this device.');
                return;
            }
            
            const pattern = [];
            hapticPattern.forEach((duration, index) => {
                if (index > 0) pattern.push(100); // pause between bits
                pattern.push(duration);
            });
            
            navigator.vibrate(pattern);
        }

        function drawHapticPattern() {
            const canvas = document.getElementById('hapticCanvas');
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#00d2ff';
            
            const bitWidth = canvas.width / 8;
            hapticPattern.forEach((duration, index) => {
                const height = duration === 200 ? 60 : 20;
                const y = (canvas.height - height) / 2;
                ctx.fillRect(index * bitWidth + 5, y, bitWidth - 10, height);
            });
        }

        function startHapticQuiz() {
            document.getElementById('hapticQuiz').style.display = 'block';
            generateQuizPattern();
        }

        function generateQuizPattern() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            quizPattern = chars[Math.floor(Math.random() * chars.length)];
            document.getElementById('hapticFeedback').textContent = '';
            document.getElementById('hapticGuess').value = '';
        }

        function playQuizPattern() {
            if (!navigator.vibrate) {
                alert('Haptic feedback is not supported on this device.');
                return;
            }
            
            const binary = quizPattern.charCodeAt(0).toString(2).padStart(8, '0');
            const pattern = [];
            
            binary.split('').forEach((bit, index) => {
                if (index > 0) pattern.push(100);
                pattern.push(bit === '1' ? 200 : 50);
            });
            
            navigator.vibrate(pattern);
        }

        function checkHapticGuess() {
            const guess = document.getElementById('hapticGuess').value.toUpperCase();
            if (guess === quizPattern) {
                document.getElementById('hapticFeedback').textContent = '‚úÖ Correct!';
                document.getElementById('hapticFeedback').style.color = '#00ff00';
                setTimeout(generateQuizPattern, 2000);
            } else {
                document.getElementById('hapticFeedback').textContent = '‚ùå Try again!';
                document.getElementById('hapticFeedback').style.color = '#ff0000';
            }
        }

        // Voice to Binary Functions
        function initVoiceRecognition() {
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                alert('Speech recognition is not supported in this browser. Try Chrome or Edge.');
                return false;
            }
            
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.continuous = true;
            recognition.interimResults = true;
            recognition.lang = document.getElementById('voiceLanguage').value;
            
            recognition.onresult = (event) => {
                const last = event.results.length - 1;
                const text = event.results[last][0].transcript;
                
                document.getElementById('recognizedText').textContent = text;
                displayVoiceBinary(text);
                
                // Check voice challenge
                if (text.toUpperCase().includes(voiceChallengeChar)) {
                    document.getElementById('voiceChallengeFeedback').textContent = '‚úÖ Great pronunciation!';
                    document.getElementById('voiceChallengeFeedback').style.color = '#00ff00';
                }
            };
            
            recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
                document.getElementById('voiceStatus').textContent = 'Error: ' + event.error;
            };
            
            return true;
        }

        function toggleVoiceRecognition() {
            if (!voiceActive) {
                if (!recognition && !initVoiceRecognition()) {
                    return;
                }
                
                recognition.start();
                voiceActive = true;
                document.getElementById('voiceButton').textContent = '‚èπÔ∏è Stop Speaking';
                document.getElementById('voiceStatus').textContent = 'Listening... Speak clearly!';
            } else {
                recognition.stop();
                voiceActive = false;
                document.getElementById('voiceButton').textContent = 'üé§ Start Speaking';
                document.getElementById('voiceStatus').textContent = 'Click to start voice recognition';
            }
        }

        function displayVoiceBinary(text) {
            const display = document.getElementById('voiceBinaryDisplay');
            display.innerHTML = '';
            
            for (let char of text.slice(0, 10)) { // Limit to 10 chars for display
                const charCode = char.charCodeAt(0);
                const binary = charCode.toString(2).padStart(8, '0');
                
                const charDiv = document.createElement('div');
                charDiv.style.display = 'inline-block';
                charDiv.style.margin = '5px';
                charDiv.style.padding = '10px';
                charDiv.style.background = 'rgba(255, 255, 255, 0.1)';
                charDiv.style.borderRadius = '10px';
                charDiv.innerHTML = `
                    <div style="font-size: 20px;">${char}</div>
                    <div style="font-family: monospace; font-size: 12px;">${binary}</div>
                `;
                display.appendChild(charDiv);
            }
        }

        function updateVoiceLanguage() {
            if (recognition) {
                recognition.lang = document.getElementById('voiceLanguage').value;
            }
        }

        function newVoiceChallenge() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            voiceChallengeChar = chars[Math.floor(Math.random() * chars.length)];
            document.getElementById('voiceChallenge').textContent = voiceChallengeChar;
            document.getElementById('voiceChallengeFeedback').textContent = '';
        }

        // Initialize
        loadEscapePuzzle();
        updateEmojiPreview();
        newVoiceChallenge();
    </script>
</body>
</html>