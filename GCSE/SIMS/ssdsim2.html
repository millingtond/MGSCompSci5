<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSD (Solid State Drive) Simulation - GCSE Computer Science</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a0f2e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Welcome Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, #1a0f2e 0%, #2d1b4e 100%);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(147, 51, 234, 0.3);
            border: 2px solid #9333ea;
            animation: modalSlide 0.5s ease-out;
        }

        @keyframes modalSlide {
            from {
                transform: translateY(-50px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .modal h2 {
            color: #a855f7;
            margin-bottom: 20px;
            font-size: 2em;
            text-align: center;
            text-shadow: 0 0 20px rgba(168, 85, 247, 0.5);
        }

        .modal ul {
            list-style: none;
            margin: 20px 0;
        }

        .modal li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .modal li:before {
            content: "‚ö°";
            color: #a855f7;
            position: absolute;
            left: 0;
        }

        .start-btn {
            background: linear-gradient(135deg, #9333ea 0%, #7c3aed 100%);
            color: #fff;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            margin: 20px auto 0;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(147, 51, 234, 0.4);
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(147, 51, 234, 0.6);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 2.5em;
            color: #a855f7;
            text-shadow: 0 0 30px rgba(168, 85, 247, 0.5);
            margin-bottom: 10px;
        }

        /* Control Panel */
        .control-panel {
            background: rgba(29, 15, 51, 0.8);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            border: 1px solid rgba(147, 51, 234, 0.3);
            backdrop-filter: blur(10px);
        }

        .control-btn {
            background: linear-gradient(135deg, #9333ea 0%, #7c3aed 100%);
            color: #fff;
            border: none;
            padding: 10px 25px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 15px rgba(147, 51, 234, 0.3);
        }

        .control-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(147, 51, 234, 0.5);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            box-shadow: 0 3px 15px rgba(59, 130, 246, 0.3);
        }

        .control-btn.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 3px 15px rgba(239, 68, 68, 0.3);
        }

        /* SSD Type Selector */
        .ssd-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border-radius: 25px;
            border: 1px solid rgba(147, 51, 234, 0.3);
        }

        .ssd-selector label {
            color: #a855f7;
            font-weight: bold;
        }

        .ssd-selector select {
            background: #1a0f2e;
            color: #a855f7;
            border: 1px solid #9333ea;
            padding: 5px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
            outline: none;
        }

        .ssd-selector select:hover {
            background: rgba(147, 51, 234, 0.1);
        }

        /* Main Content Area */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* SSD Visualization */
        .ssd-container {
            background: rgba(29, 15, 51, 0.8);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(147, 51, 234, 0.3);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .ssd-visual {
            position: relative;
            width: 100%;
            max-width: 420px;
            height: 480px;
            margin: 0 auto;
            background: #0a0a0a;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
            overflow: hidden;
        }

        /* SSD PCB */
        .ssd-pcb {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0d4f0d 0%, #0a3a0a 100%);
            border-radius: 10px;
        }

        /* NAND Flash Chips */
        .nand-chips {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            height: 280px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 15px;
        }

        .nand-chip {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 5px;
            padding: 10px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .nand-chip.active {
            border-color: #9333ea;
            box-shadow: 0 0 20px rgba(147, 51, 234, 0.5);
        }

        .chip-label {
            font-size: 10px;
            color: #888;
            position: absolute;
            top: 5px;
            left: 5px;
        }

        /* Memory Cells Grid */
        .memory-cells {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 2px;
            margin-top: 20px;
            height: 60px;
        }

        .memory-cell {
            background: #333;
            border-radius: 2px;
            position: relative;
            transition: all 0.3s;
        }

        .memory-cell.written {
            background: #9333ea;
            box-shadow: 0 0 5px rgba(147, 51, 234, 0.5);
        }

        .memory-cell.reading {
            background: #3b82f6;
            box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
        }

        .memory-cell.erasing {
            background: #ef4444;
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Controller Chip */
        .controller-chip {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 50px;
            background: #000;
            border: 2px solid #666;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);
            z-index: 5;
        }

        .controller-chip.active {
            border-color: #9333ea;
            box-shadow: 0 0 20px rgba(147, 51, 234, 0.5);
        }

        .controller-label {
            color: #a855f7;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
        }

        /* Data Path Animations */
        .data-path {
            position: absolute;
            width: 2px;
            background: #444;
            transition: all 0.3s;
            opacity: 0.8;
        }

        .data-path.active {
            background: #9333ea;
            box-shadow: 0 0 10px rgba(147, 51, 234, 0.8);
            animation: dataFlow 1s ease-in-out;
            opacity: 1;
        }

        @keyframes dataFlow {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }

        /* Connector */
        .ssd-connector {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 40px;
            background: linear-gradient(90deg, #666 0%, #999 50%, #666 100%);
            border: 1px solid #333;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .connector-pins {
            display: flex;
            gap: 2px;
        }

        .pin {
            width: 3px;
            height: 20px;
            background: #fbbf24;
            border-radius: 1px;
        }

        /* Info Panel */
        .info-panel {
            background: rgba(29, 15, 51, 0.8);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(147, 51, 234, 0.3);
            backdrop-filter: blur(10px);
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: rgba(147, 51, 234, 0.1);
            color: #a855f7;
            border: 1px solid #9333ea;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .tab-btn:hover {
            background: rgba(147, 51, 234, 0.2);
            transform: translateY(-1px);
        }

        .tab-btn.active {
            background: #9333ea;
            color: #fff;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        /* Data Display */
        .data-display {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            border: 1px solid rgba(147, 51, 234, 0.3);
        }

        /* Metrics Display */
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .metric {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(147, 51, 234, 0.3);
        }

        .metric-label {
            font-size: 12px;
            color: #888;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 24px;
            color: #a855f7;
            font-weight: bold;
        }

        /* Progress Bar */
        .progress-container {
            background: rgba(29, 15, 51, 0.8);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(147, 51, 234, 0.3);
        }

        .progress-bar {
            background: rgba(0, 0, 0, 0.5);
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #9333ea 0%, #7c3aed 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: bold;
        }

        /* Quiz Section */
        .quiz-container {
            background: rgba(29, 15, 51, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(147, 51, 234, 0.3);
            backdrop-filter: blur(10px);
        }

        .quiz-question {
            font-size: 18px;
            margin-bottom: 20px;
            color: #a855f7;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
        }

        .quiz-option {
            background: rgba(147, 51, 234, 0.1);
            border: 1px solid #9333ea;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            background: rgba(147, 51, 234, 0.2);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: rgba(34, 197, 94, 0.3);
            border-color: #22c55e;
        }

        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.3);
            border-color: #ef4444;
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid #22c55e;
            color: #22c55e;
        }

        .quiz-feedback.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid #ef4444;
            color: #ef4444;
        }

        /* Beyond Spec Section */
        .beyond-spec {
            background: rgba(29, 15, 51, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(10px);
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 40px;
            bottom: -30px;
            width: 2px;
            background: #3b82f6;
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-dot {
            width: 60px;
            height: 60px;
            background: #3b82f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }

        .timeline-content {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .timeline-content h3 {
            color: #3b82f6;
            margin-bottom: 10px;
        }

        /* Sound Control */
        .sound-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(29, 15, 51, 0.8);
            padding: 10px;
            border-radius: 50%;
            border: 1px solid rgba(147, 51, 234, 0.3);
            cursor: pointer;
            transition: all 0.3s;
            z-index: 100;
        }

        .sound-control:hover {
            transform: scale(1.1);
        }

        /* Performance Monitor */
        .performance-monitor {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border: 1px solid rgba(147, 51, 234, 0.3);
        }

        .speed-meter {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }

        .speed-label {
            width: 100px;
            font-size: 12px;
            color: #888;
        }

        .speed-bar {
            flex: 1;
            height: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            overflow: hidden;
            margin: 0 10px;
        }

        .speed-fill {
            height: 100%;
            background: linear-gradient(90deg, #9333ea 0%, #a855f7 100%);
            width: 0%;
            transition: width 0.5s ease-out;
        }

        .speed-value {
            width: 80px;
            text-align: right;
            color: #a855f7;
            font-weight: bold;
        }

        /* Cell Wear Indicator */
        .wear-indicator {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .wear-level {
            flex: 1;
            height: 5px;
            background: #22c55e;
            border-radius: 2px;
            transition: all 0.3s;
        }

        .wear-level.medium {
            background: #f59e0b;
        }

        .wear-level.high {
            background: #ef4444;
        }

        /* Animation for data transfer */
        @keyframes dataTransfer {
            0% {
                transform: translateY(0);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateY(-50px);
                opacity: 0;
            }
        }

        .data-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #9333ea;
            border-radius: 50%;
            animation: dataTransfer 1s ease-in-out;
        }
    </style>
</head>
<body>
    <!-- Welcome Modal -->
    <div id="welcomeModal" class="modal">
        <div class="modal-content">
            <h2>‚ö° Welcome to the SSD Simulator!</h2>
            <p>Explore how Solid State Drives store and retrieve data without any moving parts!</p>
            
            <h3>üìã Instructions:</h3>
            <ul>
                <li>Click "Write Data" to see how data is stored in NAND flash cells</li>
                <li>Click "Read Data" to watch the retrieval process</li>
                <li>Try "Erase Block" to understand wear leveling</li>
                <li>Select different SSD types to compare technologies</li>
                <li>Answer quiz questions to test your knowledge</li>
                <li>Explore the "Beyond Spec" section for advanced topics</li>
            </ul>
            
            <p style="margin-top: 20px; text-align: center; color: #888;">
                üí° Tip: Watch how the controller manages data across multiple NAND chips!
            </p>
            
            <button class="start-btn" onclick="closeModal()">Start Learning!</button>
        </div>
    </div>

    <!-- Sound Control -->
    <div class="sound-control" onclick="toggleSound()" title="Toggle Sound">
        <span id="soundIcon">üîä</span>
    </div>

    <div class="container">
        <header>
            <h1>Solid State Drive (SSD) Simulator</h1>
            <p>Understanding Flash Memory Storage Technology</p>
            <p style="color: #3b82f6; font-size: 14px; margin-top: 5px;">üìö Designed for OCR J277 GCSE Computer Science</p>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="ssd-selector">
                <label for="ssdType">SSD Speed Type:</label>
                <select id="ssdType" onchange="changeSSDType()">
                    <option value="sata">Standard SATA (550 MB/s)</option>
                    <option value="nvme">Fast NVMe (3500 MB/s)</option>
                    <option value="nvme4">Very Fast NVMe (7000 MB/s)</option>
                    <option value="enterprise">Server Grade (12000 MB/s)</option>
                </select>
            </div>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button class="control-btn" onclick="writeData()">Write Data</button>
                <button class="control-btn" onclick="readData()">Read Data</button>
                <button class="control-btn secondary" onclick="eraseBlock()">Erase Block <span style="font-size: 12px;">(Advanced)</span></button>
                <button class="control-btn secondary" onclick="showWearLeveling()">Wear Leveling <span style="font-size: 12px;">(Advanced)</span></button>
                <button class="control-btn danger" onclick="resetSimulation()">Reset</button>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <h3>Learning Progress</h3>
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill">0%</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- SSD Visualization -->
            <div class="ssd-container">
                <h3>SSD Internal Components</h3>
                <div class="ssd-visual">
                    <div class="ssd-pcb">
                        <!-- NAND Flash Chips -->
                        <div class="nand-chips">
                            <div class="nand-chip" id="chip1">
                                <div class="chip-label">NAND 1</div>
                                <div class="memory-cells" id="cells1"></div>
                                <div class="wear-indicator">
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                </div>
                            </div>
                            <div class="nand-chip" id="chip2">
                                <div class="chip-label">NAND 2</div>
                                <div class="memory-cells" id="cells2"></div>
                                <div class="wear-indicator">
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                </div>
                            </div>
                            <div class="nand-chip" id="chip3">
                                <div class="chip-label">NAND 3</div>
                                <div class="memory-cells" id="cells3"></div>
                                <div class="wear-indicator">
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                </div>
                            </div>
                            <div class="nand-chip" id="chip4">
                                <div class="chip-label">NAND 4</div>
                                <div class="memory-cells" id="cells4"></div>
                                <div class="wear-indicator">
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                    <div class="wear-level"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Controller -->
                        <div class="controller-chip" id="controller">
                            <div class="controller-label">CONTROLLER</div>
                        </div>
                        
                        <!-- Data paths from controller to each chip -->
                        <!-- Central trunk from controller -->
                        <div class="data-path" style="left: 209px; bottom: 130px; width: 2px; height: 65px;"></div>
                        
                        <!-- Horizontal branch at middle -->
                        <div class="data-path" style="left: 110px; bottom: 195px; width: 200px; height: 2px;"></div>
                        
                        <!-- Vertical branches to chips -->
                        <div class="data-path" id="path1" style="left: 110px; top: 80px; height: 205px;"></div>
                        <div class="data-path" id="path2" style="right: 110px; top: 80px; height: 205px;"></div>
                        <div class="data-path" id="path3" style="left: 110px; bottom: 195px; height: 90px;"></div>
                        <div class="data-path" id="path4" style="right: 110px; bottom: 195px; height: 90px;"></div>
                        
                        <!-- Connector -->
                        <div class="ssd-connector">
                            <div class="connector-pins">
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                                <div class="pin"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Metrics Display -->
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-label">Read Speed</div>
                        <div class="metric-value" id="readSpeed">550 MB/s</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Write Speed</div>
                        <div class="metric-value" id="writeSpeed">520 MB/s</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">IOPS</div>
                        <div class="metric-value" id="iops">95K</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Latency</div>
                        <div class="metric-value" id="latency">0.1ms</div>
                    </div>
                </div>
                
                <!-- Performance Monitor -->
                <div class="performance-monitor">
                    <h4>Real-time Performance</h4>
                    <div class="speed-meter">
                        <span class="speed-label">Sequential:</span>
                        <div class="speed-bar">
                            <div class="speed-fill" id="seqSpeed" style="width: 0%;"></div>
                        </div>
                        <span class="speed-value" id="seqValue">0 MB/s</span>
                    </div>
                    <div class="speed-meter">
                        <span class="speed-label">Random:</span>
                        <div class="speed-bar">
                            <div class="speed-fill" id="randSpeed" style="width: 0%;"></div>
                        </div>
                        <span class="speed-value" id="randValue">0 MB/s</span>
                    </div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="showTab('operation', this)">How It Works</button>
                    <button class="tab-btn" onclick="showTab('technology', this)">NAND Types <span style="font-size: 12px;">(Beyond)</span></button>
                    <button class="tab-btn" onclick="showTab('pros-cons', this)">Pros & Cons</button>
                    <button class="tab-btn" onclick="showTab('comparison', this)">vs HDD</button>
                    <button class="tab-btn" onclick="showTab('advanced', this)">Advanced <span style="font-size: 12px;">(Beyond)</span></button>
                </div>
                
                <div id="operation" class="tab-content active">
                    <h3>How SSDs Work (GCSE Level)</h3>
                    <p>SSDs use electronic memory to store data with <strong>no moving parts</strong>:</p>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li><strong>Memory Chips:</strong> Store data electronically (like USB drives)</li>
                        <li><strong>Controller:</strong> Manages where data is stored</li>
                        <li><strong>No mechanical parts:</strong> Unlike HDDs - no spinning disks or moving heads</li>
                        <li><strong>Instant access:</strong> Can reach any data location immediately</li>
                    </ul>
                    
                    <div class="data-display">
                        <h4>Current Operation:</h4>
                        <p id="operationStatus">Idle - Click buttons to see SSD operations in action</p>
                    </div>
                    
                    <div class="data-display" style="margin-top: 15px; background: rgba(59, 130, 246, 0.1); border-color: #3b82f6;">
                        <p style="color: #3b82f6; font-weight: bold;">‚ö†Ô∏è Note: The terms "NAND", "Pages", "Blocks" are beyond GCSE specification but help understand how SSDs work internally.</p>
                    </div>
                </div>
                
                <div id="technology" class="tab-content">
                    <h3>NAND Flash Technology <span style="color: #3b82f6;">(Beyond GCSE Spec)</span></h3>
                    <p style="color: #3b82f6; margin-bottom: 15px;">‚ö†Ô∏è This information is for interest only - not required for GCSE exams</p>
                    <table style="width: 100%; margin-top: 15px; border-collapse: collapse;">
                        <tr style="border-bottom: 1px solid #9333ea;">
                            <th style="padding: 10px;">Type</th>
                            <th style="padding: 10px;">Bits/Cell</th>
                            <th style="padding: 10px;">Speed</th>
                            <th style="padding: 10px;">Endurance</th>
                            <th style="padding: 10px;">Cost</th>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">SLC</td>
                            <td style="padding: 10px;">1</td>
                            <td style="padding: 10px; color: #22c55e;">Fastest</td>
                            <td style="padding: 10px; color: #22c55e;">100K P/E</td>
                            <td style="padding: 10px; color: #ef4444;">$$$</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">MLC</td>
                            <td style="padding: 10px;">2</td>
                            <td style="padding: 10px; color: #3b82f6;">Fast</td>
                            <td style="padding: 10px; color: #3b82f6;">10K P/E</td>
                            <td style="padding: 10px; color: #f59e0b;">$$</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">TLC</td>
                            <td style="padding: 10px;">3</td>
                            <td style="padding: 10px; color: #f59e0b;">Medium</td>
                            <td style="padding: 10px; color: #f59e0b;">3K P/E</td>
                            <td style="padding: 10px; color: #3b82f6;">$</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">QLC</td>
                            <td style="padding: 10px;">4</td>
                            <td style="padding: 10px; color: #ef4444;">Slower</td>
                            <td style="padding: 10px; color: #ef4444;">1K P/E</td>
                            <td style="padding: 10px; color: #22c55e;">$</td>
                        </tr>
                    </table>
                    <p style="margin-top: 15px; font-size: 12px; color: #888;">P/E = Program/Erase cycles (how many times a cell can be written)</p>
                </div>
                
                <div id="pros-cons" class="tab-content">
                    <h3>Advantages of SSDs (GCSE Key Points)</h3>
                    <ul style="margin: 15px 0; padding-left: 20px; color: #22c55e;">
                        <li><strong>No moving parts</strong> - more durable and shock resistant</li>
                        <li><strong>Much faster</strong> - instant access to any data</li>
                        <li><strong>Silent operation</strong> - no spinning disks or moving heads</li>
                        <li><strong>Lower power consumption</strong> - better battery life in laptops</li>
                        <li><strong>Less heat generated</strong> - no friction from moving parts</li>
                        <li><strong>Lighter weight</strong> - important for portable devices</li>
                    </ul>
                    
                    <h3 style="margin-top: 20px;">Disadvantages of SSDs (GCSE Key Points)</h3>
                    <ul style="margin: 15px 0; padding-left: 20px; color: #ef4444;">
                        <li><strong>More expensive</strong> - higher cost per gigabyte than HDDs</li>
                        <li><strong>Limited capacity</strong> - typically smaller than HDDs for same price</li>
                        <li><strong>Data recovery harder</strong> - if it fails, data is difficult to retrieve</li>
                    </ul>
                    
                    <div class="data-display" style="margin-top: 20px; background: rgba(59, 130, 246, 0.1); border-color: #3b82f6;">
                        <p style="color: #3b82f6;">üí° <strong>Exam Tip:</strong> Remember the key difference - SSDs have NO MOVING PARTS while HDDs have spinning platters and moving heads!</p>
                    </div>
                </div>
                
                <div id="comparison" class="tab-content">
                    <h3>SSD vs HDD Comparison (GCSE Key Points)</h3>
                    <table style="width: 100%; margin-top: 15px; border-collapse: collapse;">
                        <tr style="border-bottom: 1px solid #9333ea;">
                            <th style="padding: 10px; text-align: left;">Feature</th>
                            <th style="padding: 10px; text-align: center;">SSD</th>
                            <th style="padding: 10px; text-align: center;">HDD</th>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Speed</td>
                            <td style="padding: 10px; text-align: center; color: #22c55e;">Much Faster</td>
                            <td style="padding: 10px; text-align: center; color: #ef4444;">Slower</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Moving Parts</td>
                            <td style="padding: 10px; text-align: center; color: #22c55e;">None</td>
                            <td style="padding: 10px; text-align: center; color: #ef4444;">Yes (platters, heads)</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Durability</td>
                            <td style="padding: 10px; text-align: center; color: #22c55e;">More durable</td>
                            <td style="padding: 10px; text-align: center; color: #ef4444;">Can fail mechanically</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Power Usage</td>
                            <td style="padding: 10px; text-align: center; color: #22c55e;">Lower</td>
                            <td style="padding: 10px; text-align: center; color: #ef4444;">Higher</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Noise</td>
                            <td style="padding: 10px; text-align: center; color: #22c55e;">Silent</td>
                            <td style="padding: 10px; text-align: center; color: #ef4444;">Audible</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Cost per GB</td>
                            <td style="padding: 10px; text-align: center; color: #ef4444;">More expensive</td>
                            <td style="padding: 10px; text-align: center; color: #22c55e;">Cheaper</td>
                        </tr>
                    </table>
                    
                    <div class="data-display" style="margin-top: 20px; background: rgba(59, 130, 246, 0.1); border-color: #3b82f6;">
                        <p style="color: #3b82f6;">üí° <strong>GCSE Focus:</strong> Remember the key difference - SSDs have no moving parts while HDDs have mechanical components. This affects speed, durability, power use, and noise!</p>
                    </div>
                </div>
                
                <div id="advanced" class="tab-content">
                    <h3>Advanced SSD Features <span style="color: #3b82f6;">(Beyond GCSE Spec)</span></h3>
                    <p style="color: #3b82f6; margin-bottom: 15px;">‚ö†Ô∏è These concepts are for deeper understanding - not required for exams</p>
                    <div class="data-display">
                        <h4>Wear Leveling</h4>
                        <p>Distributes writes evenly across all cells to maximize lifespan</p>
                    </div>
                    <div class="data-display">
                        <h4>TRIM Command</h4>
                        <p>Tells SSD which data blocks are no longer in use for efficient garbage collection</p>
                    </div>
                    <div class="data-display">
                        <h4>Over-Provisioning</h4>
                        <p>Reserved space (7-28%) for controller operations and wear leveling</p>
                    </div>
                    <div class="data-display">
                        <h4>Write Amplification</h4>
                        <p>Ratio of data written to NAND vs data written by host (ideally close to 1)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-container">
            <h3>Test Your Knowledge! (GCSE Level Questions)</h3>
            <div id="quizContent">
                <p class="quiz-question" id="quizQuestion">Click "Next Question" to test your understanding of SSDs vs HDDs!</p>
                <div class="quiz-options" id="quizOptions"></div>
                <div class="quiz-feedback" id="quizFeedback"></div>
                <button class="control-btn" onclick="nextQuestion()" style="margin-top: 20px;">Next Question</button>
            </div>
        </div>

        <!-- Beyond Spec Section -->
        <div class="beyond-spec">
            <h2 style="color: #3b82f6; margin-bottom: 20px;">üìö Beyond the GCSE Specification</h2>
            <p style="margin-bottom: 10px; color: #3b82f6; font-weight: bold;">‚ö†Ô∏è This section contains interesting information that goes beyond what you need to know for your GCSE exam</p>
            <p style="margin-bottom: 20px;">Explore the evolution of solid-state storage technology:</p>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-dot">1984</div>
                    <div class="timeline-content">
                        <h3>First Flash Memory</h3>
                        <p>Fujio Masuoka invents flash memory at Toshiba - named "flash" because erasing reminded him of a camera flash</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">1991</div>
                    <div class="timeline-content">
                        <h3>First Commercial SSD</h3>
                        <p>SanDisk ships 20MB SSD for $1,000 - targeted at military and aerospace</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2007</div>
                    <div class="timeline-content">
                        <h3>Consumer SSDs Emerge</h3>
                        <p>First affordable consumer SSDs appear, 32GB for ~$600</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2009</div>
                    <div class="timeline-content">
                        <h3>TRIM Support</h3>
                        <p>Windows 7 introduces TRIM command support, dramatically improving SSD performance</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2013</div>
                    <div class="timeline-content">
                        <h3>3D NAND Revolution</h3>
                        <p>Samsung introduces V-NAND, stacking cells vertically for higher capacity</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2016</div>
                    <div class="timeline-content">
                        <h3>NVMe Mainstream</h3>
                        <p>NVMe protocol becomes standard, enabling 5x faster speeds than SATA</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2021</div>
                    <div class="timeline-content">
                        <h3>PCIe 4.0 & DirectStorage</h3>
                        <p>Gen4 SSDs reach 7GB/s, DirectStorage allows GPU direct access</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">Future</div>
                    <div class="timeline-content">
                        <h3>What's Next?</h3>
                        <p>PCIe 5.0 (14GB/s), DNA storage, quantum storage, and new non-volatile memories like MRAM</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let soundEnabled = true;
        let currentQuestionIndex = 0;
        let score = 0;
        let progress = 0;
        let writeCount = 0;
        let currentChip = 1;

        // Initialize - Define closeModal first
        function closeModal() {
            document.getElementById('welcomeModal').style.display = 'none';
            initializeCells();
            updateProgress(10);
        }

        // SSD Types and specifications
        const ssdTypes = {
            sata: {
                name: "SATA SSD",
                readSpeed: "550 MB/s",
                writeSpeed: "520 MB/s",
                iops: "95K",
                latency: "0.1ms",
                interface: "SATA III",
                maxSpeed: 550
            },
            nvme: {
                name: "NVMe Gen3",
                readSpeed: "3500 MB/s",
                writeSpeed: "3000 MB/s",
                iops: "500K",
                latency: "0.02ms",
                interface: "PCIe 3.0 x4",
                maxSpeed: 3500
            },
            nvme4: {
                name: "NVMe Gen4",
                readSpeed: "7000 MB/s",
                writeSpeed: "6500 MB/s",
                iops: "1M",
                latency: "0.01ms",
                interface: "PCIe 4.0 x4",
                maxSpeed: 7000
            },
            enterprise: {
                name: "Enterprise NVMe",
                readSpeed: "12000 MB/s",
                writeSpeed: "10000 MB/s",
                iops: "2.5M",
                latency: "0.005ms",
                interface: "PCIe 4.0 x8",
                maxSpeed: 12000
            }
        };

        // Quiz questions - GCSE J277 Standard
        const quizQuestions = [
            {
                question: "What is the main advantage of an SSD compared to a HDD?",
                options: [
                    "SSDs are cheaper per gigabyte",
                    "SSDs have no moving parts",
                    "SSDs have unlimited storage capacity",
                    "SSDs never fail"
                ],
                correct: 1,
                feedback: "Correct! SSDs have no moving parts, making them more durable, faster, and silent compared to HDDs."
            },
            {
                question: "Which storage device typically uses more power?",
                options: [
                    "SSD",
                    "HDD",
                    "Both use the same power",
                    "Neither uses power"
                ],
                correct: 1,
                feedback: "Correct! HDDs use more power (6-15W) because they need to spin platters and move read/write heads. SSDs use less power (2-5W)."
            },
            {
                question: "What is a disadvantage of SSDs compared to HDDs?",
                options: [
                    "SSDs are slower",
                    "SSDs make noise",
                    "SSDs cost more per gigabyte",
                    "SSDs are heavier"
                ],
                correct: 2,
                feedback: "Correct! SSDs typically cost ¬£0.08-0.20 per GB compared to HDDs at ¬£0.02-0.05 per GB."
            },
            {
                question: "Which storage device would be better for a laptop that gets moved around a lot?",
                options: [
                    "HDD - it's more durable",
                    "SSD - it has no moving parts",
                    "Both are equally good",
                    "Neither would work"
                ],
                correct: 1,
                feedback: "Correct! SSDs are better for portable devices because they have no moving parts and are resistant to physical shock."
            },
            {
                question: "Why are SSDs faster than HDDs?",
                options: [
                    "They spin faster",
                    "They have bigger motors",
                    "They access data electronically without mechanical movement",
                    "They use more power"
                ],
                correct: 2,
                feedback: "Correct! SSDs access data electronically with no mechanical delays, while HDDs must physically move heads to read data."
            }
        ];

        // Initialize
        function closeModal() {
            document.getElementById('welcomeModal').style.display = 'none';
            initializeCells();
            updateProgress(10);
        }

        // Initialize memory cells
        function initializeCells() {
            for (let i = 1; i <= 4; i++) {
                const cellContainer = document.getElementById(`cells${i}`);
                cellContainer.innerHTML = '';
                for (let j = 0; j < 32; j++) { // 8x4 grid = 32 cells
                    const cell = document.createElement('div');
                    cell.className = 'memory-cell';
                    cell.id = `cell-${i}-${j}`;
                    cellContainer.appendChild(cell);
                }
            }
        }

        // Sound toggle
        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundIcon').textContent = soundEnabled ? 'üîä' : 'üîá';
        }

        function playSound(type) {
            if (!soundEnabled) return;
            console.log(`Playing sound: ${type}`);
        }

        // Change SSD type
        function changeSSDType() {
            const selector = document.getElementById('ssdType');
            const selectedType = ssdTypes[selector.value];
            
            document.getElementById('readSpeed').textContent = selectedType.readSpeed;
            document.getElementById('writeSpeed').textContent = selectedType.writeSpeed;
            document.getElementById('iops').textContent = selectedType.iops;
            document.getElementById('latency').textContent = selectedType.latency;
            
            document.getElementById('operationStatus').textContent = 
                `Switched to ${selectedType.name} - ${selectedType.interface} interface`;
            
            updateProgress(5);
            playSound('click');
        }

        // Write data operation
        function writeData() {
            const chip = document.getElementById(`chip${currentChip}`);
            const controller = document.getElementById('controller');
            const path = document.getElementById(`path${currentChip}`);
            const cells = document.querySelectorAll(`#cells${currentChip} .memory-cell`);
            
            // Activate components
            controller.classList.add('active');
            chip.classList.add('active');
            path.classList.add('active');
            
            // Animate data transfer
            createDataParticles(currentChip);
            
            // Write to cells - find first empty cell
            let written = false;
            for (let i = 0; i < cells.length; i++) {
                if (!cells[i].classList.contains('written')) {
                    cells[i].classList.add('written');
                    written = true;
                    playSound('write');
                    break;
                }
            }
            
            // Update status
            document.getElementById('operationStatus').textContent = 
                `Writing data to NAND chip ${currentChip}... Controller managing write operation`;
            
            // Show performance
            animatePerformance('write');
            
            // Update wear
            updateWearIndicator(currentChip);
            
            setTimeout(() => {
                controller.classList.remove('active');
                chip.classList.remove('active');
                path.classList.remove('active');
                document.getElementById('operationStatus').textContent = 
                    'Write complete! Data stored electronically - no mechanical movement needed.';
                currentChip = (currentChip % 4) + 1;
                updateProgress(15);
            }, 2000);
        }

        // Read data operation
        function readData() {
            const randomChip = Math.floor(Math.random() * 4) + 1;
            const chip = document.getElementById(`chip${randomChip}`);
            const controller = document.getElementById('controller');
            const path = document.getElementById(`path${randomChip}`);
            
            controller.classList.add('active');
            chip.classList.add('active');
            path.classList.add('active');
            
            // Highlight random cells for reading
            const cells = document.querySelectorAll(`#cells${randomChip} .memory-cell.written`);
            const readCells = Array.from(cells).slice(0, Math.min(8, cells.length));
            
            readCells.forEach((cell, index) => {
                setTimeout(() => {
                    cell.classList.add('reading');
                    setTimeout(() => cell.classList.remove('reading'), 500);
                }, index * 100);
            });
            
            document.getElementById('operationStatus').textContent = 
                `Reading data from NAND chip ${randomChip}... Instant electronic access!`;
            
            animatePerformance('read');
            
            setTimeout(() => {
                controller.classList.remove('active');
                chip.classList.remove('active');
                path.classList.remove('active');
                document.getElementById('operationStatus').textContent = 
                    'Read complete! No seek time needed - data accessed instantly.';
                updateProgress(10);
            }, 1500);
            
            playSound('read');
        }

        // Erase block operation
        function eraseBlock() {
            const randomChip = Math.floor(Math.random() * 4) + 1;
            const chip = document.getElementById(`chip${randomChip}`);
            const controller = document.getElementById('controller');
            const path = document.getElementById(`path${randomChip}`);
            
            controller.classList.add('active');
            chip.classList.add('active');
            path.classList.add('active');
            
            const cells = document.querySelectorAll(`#cells${randomChip} .memory-cell`);
            const blockSize = 8; // Simulate block of cells
            const startIndex = Math.floor(Math.random() * (cells.length - blockSize));
            
            for (let i = startIndex; i < startIndex + blockSize; i++) {
                if (cells[i]) {
                    cells[i].classList.add('erasing');
                    setTimeout(() => {
                        cells[i].classList.remove('written', 'erasing');
                    }, 500);
                }
            }
            
            document.getElementById('operationStatus').textContent = 
                `Erasing block in chip ${randomChip} (Beyond GCSE): SSDs must erase entire blocks at once`;
            
            setTimeout(() => {
                controller.classList.remove('active');
                chip.classList.remove('active');
                path.classList.remove('active');
                document.getElementById('operationStatus').textContent = 
                    'Block erased! This limitation is why SSDs need special management.';
                updateProgress(10);
            }, 1000);
            
            playSound('erase');
        }

        // Show wear leveling
        function showWearLeveling() {
            document.getElementById('operationStatus').textContent = 
                'Wear leveling demonstration (Beyond GCSE): Controller distributes writes evenly...';
            
            // Animate all chips
            for (let i = 1; i <= 4; i++) {
                setTimeout(() => {
                    const chip = document.getElementById(`chip${i}`);
                    const path = document.getElementById(`path${i}`);
                    chip.classList.add('active');
                    path.classList.add('active');
                    setTimeout(() => {
                        chip.classList.remove('active');
                        path.classList.remove('active');
                    }, 500);
                }, i * 200);
            }
            
            setTimeout(() => {
                document.getElementById('operationStatus').textContent = 
                    'This advanced feature helps SSDs last longer by preventing any single area from wearing out.';
            }, 1500);
            
            updateProgress(5);
            playSound('process');
        }

        // Create data transfer particles
        function createDataParticles(chipNum) {
            const chip = document.getElementById(`chip${chipNum}`);
            const chipRect = chip.getBoundingClientRect();
            const containerRect = chip.parentElement.getBoundingClientRect();
            
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'data-particle';
                    particle.style.left = (chipRect.left - containerRect.left + chipRect.width / 2) + 'px';
                    particle.style.top = (chipRect.top - containerRect.top + chipRect.height) + 'px';
                    chip.parentElement.appendChild(particle);
                    
                    setTimeout(() => particle.remove(), 1000);
                }, i * 100);
            }
        }

        // Animate performance meters
        function animatePerformance(operation) {
            const ssdType = document.getElementById('ssdType').value;
            const maxSpeed = ssdTypes[ssdType].maxSpeed;
            
            const seqBar = document.getElementById('seqSpeed');
            const randBar = document.getElementById('randSpeed');
            const seqValue = document.getElementById('seqValue');
            const randValue = document.getElementById('randValue');
            
            if (operation === 'write') {
                const seqSpeed = maxSpeed * 0.9;
                const randSpeed = maxSpeed * 0.3;
                
                seqBar.style.width = '90%';
                randBar.style.width = '30%';
                seqValue.textContent = Math.floor(seqSpeed) + ' MB/s';
                randValue.textContent = Math.floor(randSpeed) + ' MB/s';
            } else {
                const seqSpeed = maxSpeed;
                const randSpeed = maxSpeed * 0.4;
                
                seqBar.style.width = '100%';
                randBar.style.width = '40%';
                seqValue.textContent = Math.floor(seqSpeed) + ' MB/s';
                randValue.textContent = Math.floor(randSpeed) + ' MB/s';
            }
            
            setTimeout(() => {
                seqBar.style.width = '0%';
                randBar.style.width = '0%';
                seqValue.textContent = '0 MB/s';
                randValue.textContent = '0 MB/s';
            }, 2000);
        }

        // Update wear indicator
        function updateWearIndicator(chipNum) {
            writeCount++;
            const wearLevels = document.querySelectorAll(`#chip${chipNum} .wear-level`);
            const wearPercentage = (writeCount / 30) * 100; // Simulate wear with 3 levels
            
            wearLevels.forEach((level, index) => {
                if (wearPercentage > index * 33) {
                    level.classList.remove('medium', 'high');
                    if (wearPercentage > 66) {
                        level.classList.add('high');
                    } else if (wearPercentage > 33) {
                        level.classList.add('medium');
                    }
                }
            });
        }

        // Tab functionality
        function showTab(tabName, button) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            
            if (button) {
                button.classList.add('active');
            } else {
                // Find and activate the correct button when called programmatically
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    if (btn.onclick && btn.onclick.toString().includes(tabName)) {
                        btn.classList.add('active');
                    }
                });
            }
            
            updateProgress(5);
        }

        // Quiz functionality
        function nextQuestion() {
            if (currentQuestionIndex >= quizQuestions.length) {
                currentQuestionIndex = 0;
            }
            
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('quizQuestion').textContent = question.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'quiz-option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => checkAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('quizFeedback').classList.remove('show');
            currentQuestionIndex++;
        }

        function checkAnswer(selectedIndex) {
            const question = quizQuestions[currentQuestionIndex - 1];
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quizFeedback');
            
            options.forEach(option => option.style.pointerEvents = 'none');
            
            if (selectedIndex === question.correct) {
                options[selectedIndex].classList.add('correct');
                feedback.className = 'quiz-feedback correct show';
                feedback.textContent = question.feedback;
                score++;
                updateProgress(15);
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[question.correct].classList.add('correct');
                feedback.className = 'quiz-feedback incorrect show';
                feedback.textContent = 'Not quite. ' + question.feedback;
            }
        }

        // Progress tracking
        function updateProgress(amount) {
            progress = Math.min(progress + amount, 100);
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = progress + '%';
            progressFill.textContent = progress + '%';
        }

        // Reset simulation
        function resetSimulation() {
            location.reload();
        }

        // Initialize on load
        window.onload = function() {
            initializeCells();
            changeSSDType();
        };
    </script>
</body>
</html>