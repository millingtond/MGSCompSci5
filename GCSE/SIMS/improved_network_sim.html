<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Networks Simulation - Enhanced</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4CAF50;
            --primary-dark: #388E3C;
            --secondary: #2196F3;
            --accent: #FF5722;
            --success: #8BC34A;
            --warning: #FFC107;
            --error: #F44336;
            --bg-dark: #0a1929;
            --bg-medium: #132f4c;
            --bg-light: #1e3a5f;
            --text-primary: #ffffff;
            --text-secondary: #b0bec5;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.12);
            --shadow-medium: 0 12px 40px rgba(0, 0, 0, 0.15);
            --shadow-hard: 0 16px 48px rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-medium) 50%, var(--bg-light) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Enhanced Header */
        header {
            text-align: center;
            padding: 40px 0;
            animation: fadeInDown 0.8s ease;
            position: relative;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(76, 175, 80, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            z-index: -1;
            animation: pulse 3s ease-in-out infinite;
        }

        h1 {
            font-size: clamp(2em, 5vw, 3.5em);
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
            font-weight: 700;
            letter-spacing: -1px;
        }

        .subtitle {
            font-size: 1.3em;
            color: var(--text-secondary);
            font-weight: 300;
        }

        /* Enhanced Progress Indicator */
        .progress-indicator {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .progress-fill-indicator {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        /* Enhanced Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 15px;
            padding: 0 20px;
        }

        .tab {
            padding: 15px 28px;
            background: var(--glass);
            border: 2px solid transparent;
            border-radius: 35px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95em;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
            user-select: none;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .tab::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 35px;
            padding: 2px;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: xor;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tab:hover::before {
            left: 100%;
        }

        .tab:hover::after {
            opacity: 0.7;
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }

        .tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
            transform: translateY(-3px);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .tab.active::after {
            opacity: 0;
        }

        /* Enhanced Sections */
        .section {
            display: none;
            background: var(--glass);
            border-radius: 25px;
            padding: 45px;
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        .section.active {
            display: block;
        }

        .section h2 {
            font-size: 2.2em;
            margin-bottom: 15px;
            color: var(--primary);
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        /* Enhanced Grid and Cards */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .card {
            background: var(--glass);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--glass-border);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            border-radius: 20px;
            opacity: 0;
            z-index: -1;
            transition: opacity 0.4s;
        }

        .card:hover::before {
            opacity: 0.4;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-medium);
            border-color: rgba(255, 255, 255, 0.25);
        }

        .card h3 {
            font-size: 1.4em;
            margin-bottom: 15px;
            color: var(--primary);
            font-weight: 600;
        }

        /* Enhanced Interactive Canvas */
        .network-canvas {
            width: 100%;
            max-width: 900px;
            height: 450px;
            background: 
                radial-gradient(circle at 20% 80%, rgba(76, 175, 80, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(33, 150, 243, 0.1) 0%, transparent 50%),
                rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            margin: 25px auto;
            display: block;
            box-shadow: inset 0 4px 12px rgba(0,0,0,0.4);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }

        .network-canvas::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 49%, rgba(255,255,255,0.02) 50%, transparent 51%),
                linear-gradient(-45deg, transparent 49%, rgba(255,255,255,0.02) 50%, transparent 51%);
            background-size: 30px 30px;
            pointer-events: none;
        }

        /* Enhanced Devices */
        .device {
            position: absolute;
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 8px 16px rgba(0,0,0,0.3),
                0 0 0 1px rgba(255,255,255,0.1);
            z-index: 10;
            user-select: none;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .device:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 
                0 12px 24px rgba(0,0,0,0.4),
                0 0 30px rgba(76, 175, 80, 0.3);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .device.server {
            background: linear-gradient(135deg, var(--secondary) 0%, #1976D2 100%);
            width: 90px;
            height: 90px;
            font-size: 32px;
        }

        .device.router {
            background: linear-gradient(135deg, var(--accent) 0%, #D84315 100%);
            border-radius: 50%;
        }

        .device.selected {
            transform: scale(1.2);
            box-shadow: 
                0 0 0 4px rgba(76, 175, 80, 0.4),
                0 12px 24px rgba(0,0,0,0.4);
            animation: devicePulse 2s ease-in-out infinite;
        }

        @keyframes devicePulse {
            0%, 100% { box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.4), 0 12px 24px rgba(0,0,0,0.4); }
            50% { box-shadow: 0 0 0 8px rgba(76, 175, 80, 0.2), 0 16px 32px rgba(0,0,0,0.5); }
        }

        /* Enhanced Connections */
        .connection {
            position: absolute;
            height: 4px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(76, 175, 80, 0.3) 10%, 
                var(--primary) 50%, 
                rgba(76, 175, 80, 0.3) 90%, 
                transparent 100%);
            transform-origin: left center;
            z-index: 1;
            border-radius: 2px;
            box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);
        }

        .connection.active {
            animation: dataFlow 1.5s linear infinite;
            background-size: 200% 100%;
        }

        @keyframes dataFlow {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Enhanced Data Packets */
        .packet {
            position: absolute;
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, var(--warning) 0%, #F57C00 100%);
            border-radius: 50%;
            z-index: 20;
            box-shadow: 
                0 0 15px rgba(255, 193, 7, 0.6),
                0 4px 8px rgba(0,0,0,0.3);
            border: 2px solid rgba(255, 255, 255, 0.3);
            animation: packetGlow 2s ease-in-out infinite;
        }

        @keyframes packetGlow {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 193, 7, 0.6), 0 4px 8px rgba(0,0,0,0.3); }
            50% { box-shadow: 0 0 25px rgba(255, 193, 7, 0.8), 0 6px 12px rgba(0,0,0,0.4); }
        }

        /* Enhanced Buttons */
        .button {
            padding: 15px 35px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border: none;
            border-radius: 30px;
            color: white;
            font-weight: 700;
            font-size: 0.95em;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            margin: 12px 8px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 4px 12px rgba(0,0,0,0.25),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            user-select: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .button:hover::before {
            left: 100%;
        }

        .button:active::after {
            width: 300px;
            height: 300px;
        }

        .button:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 8px 25px rgba(76, 175, 80, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.2);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }

        /* Enhanced Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-card {
            background: var(--glass);
            padding: 25px;
            border-radius: 18px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: translateX(-100%);
            transition: transform 0.5s;
        }

        .stat-card:hover::before {
            transform: translateX(0);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: var(--shadow-medium);
        }

        .stat-value {
            font-size: clamp(1.8em, 4vw, 2.5em);
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            line-height: 1;
        }

        .stat-card p {
            color: var(--text-secondary);
            font-size: 0.9em;
            font-weight: 500;
        }

        /* Enhanced Sliders */
        .slider-container {
            margin: 25px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
        }

        .slider-container label {
            display: block;
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--primary);
            font-size: 1.1em;
        }

        input[type="range"] {
            width: 100%;
            height: 12px;
            background: 
                linear-gradient(to right, var(--primary) 0%, var(--primary) var(--value, 50%), rgba(255, 255, 255, 0.1) var(--value, 50%), rgba(255, 255, 255, 0.1) 100%);
            border-radius: 6px;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 
                0 0 20px rgba(76, 175, 80, 0.5),
                0 4px 8px rgba(0,0,0,0.3);
            transition: all 0.3s;
            border: 3px solid white;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 
                0 0 30px rgba(76, 175, 80, 0.7),
                0 6px 12px rgba(0,0,0,0.4);
        }

        /* Enhanced Progress Bar */
        .progress-bar {
            width: 100%;
            height: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
            margin: 25px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
            position: relative;
            overflow: hidden;
            border-radius: 8px;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Enhanced Tables */
        .comparison-table {
            width: 100%;
            background: var(--glass);
            border-radius: 20px;
            overflow: hidden;
            margin: 25px 0;
            box-shadow: var(--shadow-soft);
            border: 1px solid var(--glass-border);
        }

        .comparison-table th,
        .comparison-table td {
            padding: 18px;
            text-align: left;
            border-bottom: 1px solid var(--glass-border);
        }

        .comparison-table th {
            background: rgba(76, 175, 80, 0.15);
            font-weight: 700;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9em;
        }

        .comparison-table tr {
            transition: all 0.3s;
        }

        .comparison-table tr:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        /* Enhanced Demo Container */
        .demo-container {
            background: 
                radial-gradient(circle at 30% 70%, rgba(76, 175, 80, 0.05) 0%, transparent 50%),
                rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 35px;
            margin: 25px 0;
            box-shadow: inset 0 4px 12px rgba(0,0,0,0.4);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
        }

        .demo-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        /* Enhanced Tooltips */
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 12px 18px;
            border-radius: 12px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: all 0.3s;
            z-index: 100;
            box-shadow: var(--shadow-medium);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .tooltip.visible {
            opacity: 1;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: rgba(0, 0, 0, 0.95);
        }

        /* Enhanced Info Cards */
        .info-card {
            background: linear-gradient(135deg, 
                rgba(76, 175, 80, 0.1) 0%, 
                rgba(33, 150, 243, 0.1) 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 25px 0;
            border: 1px solid rgba(255, 255, 255, 0.15);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }

        /* Enhanced Quiz Options */
        .quiz-option {
            padding: 18px 25px;
            background: var(--glass);
            border: 2px solid transparent;
            border-radius: 15px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .quiz-option::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 0;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.3s;
        }

        .quiz-option:hover::before {
            width: 4px;
        }

        .quiz-option:hover {
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(8px);
            box-shadow: var(--shadow-soft);
        }

        .quiz-option.selected {
            background: rgba(76, 175, 80, 0.2);
            border-color: var(--primary);
            transform: translateX(8px);
        }

        .quiz-option.correct {
            background: rgba(139, 195, 74, 0.25);
            border-color: var(--success);
            animation: correctAnswer 0.6s ease;
        }

        .quiz-option.incorrect {
            background: rgba(244, 67, 54, 0.25);
            border-color: var(--error);
            animation: incorrectAnswer 0.6s ease;
        }

        @keyframes correctAnswer {
            0% { transform: translateX(8px) scale(1); }
            50% { transform: translateX(8px) scale(1.02); background: rgba(139, 195, 74, 0.4); }
            100% { transform: translateX(8px) scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(8px); }
            25% { transform: translateX(4px); }
            75% { transform: translateX(12px); }
            100% { transform: translateX(8px); }
        }

        /* Enhanced Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% { 
                transform: translateX(-50%) scale(1); 
                opacity: 0.1; 
            }
            50% { 
                transform: translateX(-50%) scale(1.1); 
                opacity: 0.2; 
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .section {
                padding: 25px;
            }
            
            .device {
                width: 55px;
                height: 55px;
                font-size: 22px;
            }
            
            .device.server {
                width: 70px;
                height: 70px;
                font-size: 26px;
            }

            .tabs {
                gap: 10px;
            }

            .tab {
                padding: 12px 20px;
                font-size: 0.9em;
            }

            .grid-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .network-canvas {
                height: 350px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2.2em;
            }

            .subtitle {
                font-size: 1.1em;
            }

            .section h2 {
                font-size: 1.8em;
            }

            .stats {
                grid-template-columns: 1fr;
            }

            .button {
                padding: 12px 25px;
                font-size: 0.9em;
                margin: 8px 5px;
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .progress-fill::after,
            .connection.active {
                animation: none !important;
            }
        }

        /* Performance Optimizations */
        .hardware-accelerated {
            transform: translateZ(0);
            will-change: transform;
        }

        /* Loading States */
        .loading {
            position: relative;
            overflow: hidden;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Topology Buttons */
        .topology-selector {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .topology-btn {
            padding: 15px 25px;
            background: var(--glass);
            border: 2px solid var(--glass-border);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.4s;
            font-weight: 600;
            backdrop-filter: blur(10px);
            user-select: none;
        }

        .topology-btn:hover {
            border-color: var(--primary);
            background: rgba(76, 175, 80, 0.1);
            transform: translateY(-2px);
            box-shadow: var(--shadow-soft);
        }

        .topology-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        /* Network Diagram Enhancements */
        .network-diagram {
            background: 
                radial-gradient(circle at 20% 80%, rgba(76, 175, 80, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(33, 150, 243, 0.08) 0%, transparent 50%),
                rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 35px;
            margin: 25px 0;
            position: relative;
            min-height: 350px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(15px);
        }

        .network-diagram::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 49%, rgba(255,255,255,0.02) 50%, transparent 51%),
                linear-gradient(-45deg, transparent 49%, rgba(255,255,255,0.02) 50%, transparent 51%);
            background-size: 25px 25px;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Progress Indicator -->
    <div class="progress-indicator">
        <div class="progress-fill-indicator" id="progressIndicator"></div>
    </div>

    <div class="container">
        <header>
            <h1>Computer Networks & Protocols</h1>
            <p class="subtitle">Interactive Learning Platform for Network Fundamentals</p>
        </header>

        <div class="tabs">
            <div class="tab active" onclick="showSection('basics')">Network Basics</div>
            <div class="tab" onclick="showSection('lanwan')">LAN vs WAN</div>
            <div class="tab" onclick="showSection('topologies')">Topologies</div>
            <div class="tab" onclick="showSection('performance')">Performance</div>
            <div class="tab" onclick="showSection('architectures')">Architectures</div>
            <div class="tab" onclick="showSection('hardware')">Hardware</div>
            <div class="tab" onclick="showSection('protocols')">Protocols</div>
            <div class="tab" onclick="showSection('quiz')">Quiz</div>
        </div>

        <div class="content">
            <!-- Network Basics Section -->
            <div id="basics" class="section active">
                <h2>What is a Computer Network?</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    A network connects devices to share resources, communicate, and collaborate efficiently
                </p>
                
                <div class="demo-container">
                    <h3>🎮 Interactive Network Playground</h3>
                    <div class="network-canvas hardware-accelerated" id="basicNetworkCanvas">
                        <!-- Network devices will be added dynamically -->
                    </div>
                    <div style="text-align: center; margin-top: 25px;">
                        <button class="button" onclick="addDevice()">📱 Add Device</button>
                        <button class="button" onclick="sendPacket()">📤 Send Data</button>
                        <button class="button" onclick="toggleConnections()">🔗 Toggle Flow</button>
                        <button class="button" onclick="clearNetwork()">🗑️ Reset</button>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="card">
                        <h3>🌐 Network Benefits</h3>
                        <ul style="list-style: none; padding: 15px 0;">
                            <li style="margin: 10px 0;">📁 <strong>File Sharing:</strong> Instantly share documents and media</li>
                            <li style="margin: 10px 0;">🖨️ <strong>Resource Sharing:</strong> Share printers, scanners, storage</li>
                            <li style="margin: 10px 0;">💬 <strong>Communication:</strong> Email, messaging, video calls</li>
                            <li style="margin: 10px 0;">🎮 <strong>Gaming:</strong> Multiplayer online experiences</li>
                            <li style="margin: 10px 0;">☁️ <strong>Cloud Access:</strong> Access data from anywhere</li>
                            <li style="margin: 10px 0;">🔐 <strong>Security:</strong> Centralized backup and protection</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3>🔧 Network Components</h3>
                        <ul style="list-style: none; padding: 15px 0;">
                            <li style="margin: 10px 0;">💻 <strong>End Devices:</strong> Computers, phones, tablets, IoT</li>
                            <li style="margin: 10px 0;">🔌 <strong>Media:</strong> Cables, wireless signals</li>
                            <li style="margin: 10px 0;">📡 <strong>Network Devices:</strong> Routers, switches, hubs</li>
                            <li style="margin: 10px 0;">📋 <strong>Protocols:</strong> Rules for communication</li>
                            <li style="margin: 10px 0;">💾 <strong>Services:</strong> Web, email, file servers</li>
                            <li style="margin: 10px 0;">🛡️ <strong>Security:</strong> Firewalls, encryption</li>
                        </ul>
                    </div>
                </div>

                <div class="info-card">
                    <h3>🔑 Key Networking Concepts</h3>
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-value">Node</div>
                            <p>Any connected device</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">Packet</div>
                            <p>Data transmission unit</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">Protocol</div>
                            <p>Communication rules</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">Bandwidth</div>
                            <p>Data transfer capacity</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">Latency</div>
                            <p>Communication delay</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">Topology</div>
                            <p>Network layout</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- LAN vs WAN Section -->
            <div id="lanwan" class="section">
                <h2>LAN vs WAN Networks</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    Understanding different network scales and their unique characteristics
                </p>
                
                <div class="comparison-table">
                    <table style="width: 100%;">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>🏠 LAN (Local Area Network)</th>
                                <th>🌍 WAN (Wide Area Network)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Coverage Area</strong></td>
                                <td>Single building, campus, or floor</td>
                                <td>Cities, countries, continents</td>
                            </tr>
                            <tr>
                                <td><strong>Speed Range</strong></td>
                                <td>100 Mbps - 100 Gbps (Very fast)</td>
                                <td>1 Mbps - 10 Gbps (Variable)</td>
                            </tr>
                            <tr>
                                <td><strong>Setup Cost</strong></td>
                                <td>Low to moderate</td>
                                <td>High (infrastructure intensive)</td>
                            </tr>
                            <tr>
                                <td><strong>Ownership</strong></td>
                                <td>Private (owned by organization)</td>
                                <td>Public or leased from providers</td>
                            </tr>
                            <tr>
                                <td><strong>Latency</strong></td>
                                <td>Very low (&lt;1ms)</td>
                                <td>Higher (10ms - 500ms+)</td>
                            </tr>
                            <tr>
                                <td><strong>Common Examples</strong></td>
                                <td>Home WiFi, Office network</td>
                                <td>Internet, Corporate VPNs</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="grid-container">
                    <div class="demo-container">
                        <h3>🏠 LAN Example: Smart Home Network</h3>
                        <div class="network-diagram" id="lanDiagram">
                            <!-- Enhanced LAN visualization will be added here -->
                        </div>
                        <div class="stats">
                            <div class="stat-card">
                                <div class="stat-value">10-50</div>
                                <p>Typical devices</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">1 Gbps</div>
                                <p>Common speed</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">&lt;100m</div>
                                <p>Max cable length</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">&lt;1ms</div>
                                <p>Latency</p>
                            </div>
                        </div>
                        <button class="button" onclick="simulateLANTraffic()">🚀 Simulate Traffic</button>
                    </div>
                    
                    <div class="demo-container">
                        <h3>🌍 WAN Example: Global Internet</h3>
                        <div class="network-diagram" id="wanDiagram">
                            <!-- Enhanced WAN visualization will be added here -->
                        </div>
                        <div class="stats">
                            <div class="stat-card">
                                <div class="stat-value">5B+</div>
                                <p>Connected devices</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">Global</div>
                                <p>Coverage area</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">Variable</div>
                                <p>Speed range</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">10-500ms</div>
                                <p>Typical latency</p>
                            </div>
                        </div>
                        <button class="button" onclick="simulateWANTraffic()">🌐 Simulate Global</button>
                    </div>
                </div>

                <div class="info-card">
                    <h3>💡 Key Differences Summary</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 20px;">
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 15px;">🏠 LAN Advantages</h4>
                            <ul style="list-style: none;">
                                <li>✅ Very high speed</li>
                                <li>✅ Low latency</li>
                                <li>✅ Full control</li>
                                <li>✅ High security</li>
                                <li>✅ Cost effective</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--secondary); margin-bottom: 15px;">🌍 WAN Advantages</h4>
                            <ul style="list-style: none;">
                                <li>✅ Global reach</li>
                                <li>✅ Connects remote locations</li>
                                <li>✅ Shared infrastructure</li>
                                <li>✅ Multiple service options</li>
                                <li>✅ Scalable coverage</li>
                            </ul>
                        </div>
                    </div>
                    <p style="margin-top: 20px; text-align: center; font-style: italic;">
                        Remember: The Internet is the world's largest WAN, connecting millions of LANs globally!
                    </p>
                </div>
            </div>

            <!-- Topologies Section -->
            <div id="topologies" class="section">
                <h2>Network Topologies</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    Explore different ways to arrange and connect devices in networks
                </p>
                
                <div class="topology-selector">
                    <button class="topology-btn active" onclick="showTopology('star', event)">⭐ Star</button>
                    <button class="topology-btn" onclick="showTopology('bus', event)">➖ Bus</button>
                    <button class="topology-btn" onclick="showTopology('ring', event)">⭕ Ring</button>
                    <button class="topology-btn" onclick="showTopology('mesh', event)">🕸️ Mesh</button>
                    <button class="topology-btn" onclick="showTopology('hybrid', event)">🔀 Hybrid</button>
                </div>

                <div class="demo-container">
                    <div class="network-canvas hardware-accelerated" id="topologyCanvas" style="height: 450px;">
                        <!-- Enhanced topology visualization will be drawn here -->
                    </div>
                    <div id="topologyInfo" class="info-card" style="margin-top: 25px;">
                        <!-- Topology information will be displayed here -->
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="button" onclick="simulateTopologyFailure()">⚠️ Simulate Failure</button>
                        <button class="button" onclick="animateDataFlow()">📊 Show Data Flow</button>
                        <button class="button" onclick="resetTopology()">🔄 Reset</button>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="card">
                        <h3>⭐ Star Topology</h3>
                        <div style="text-align: center; font-size: 2em; margin: 15px 0;">🌟</div>
                        <p><strong>Best for:</strong> Most modern networks</p>
                        <p><strong>Pros:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>✅ Easy device management</li>
                            <li>✅ Fault isolation</li>
                            <li>✅ Consistent performance</li>
                            <li>✅ Simple troubleshooting</li>
                        </ul>
                        <p><strong>Cons:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>❌ Central hub dependency</li>
                            <li>❌ More cable required</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3>🕸️ Mesh Topology</h3>
                        <div style="text-align: center; font-size: 2em; margin: 15px 0;">🕷️</div>
                        <p><strong>Best for:</strong> Critical systems</p>
                        <p><strong>Pros:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>✅ Maximum redundancy</li>
                            <li>✅ Self-healing</li>
                            <li>✅ High reliability</li>
                            <li>✅ Load distribution</li>
                        </ul>
                        <p><strong>Cons:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>❌ Very expensive</li>
                            <li>❌ Complex configuration</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>➖ Bus Topology</h3>
                        <div style="text-align: center; font-size: 2em; margin: 15px 0;">🚌</div>
                        <p><strong>Best for:</strong> Simple, temporary networks</p>
                        <p><strong>Pros:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>✅ Low cost</li>
                            <li>✅ Simple installation</li>
                            <li>✅ Minimal cable</li>
                        </ul>
                        <p><strong>Cons:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>❌ Single point of failure</li>
                            <li>❌ Performance degrades</li>
                            <li>❌ Collision issues</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>⭕ Ring Topology</h3>
                        <div style="text-align: center; font-size: 2em; margin: 15px 0;">💍</div>
                        <p><strong>Best for:</strong> Deterministic access</p>
                        <p><strong>Pros:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>✅ Equal access</li>
                            <li>✅ No collisions</li>
                            <li>✅ Predictable performance</li>
                        </ul>
                        <p><strong>Cons:</strong></p>
                        <ul style="list-style: none; padding: 10px 0;">
                            <li>❌ Single break failure</li>
                            <li>❌ Difficult expansion</li>
                            <li>❌ Token dependency</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Performance Section -->
            <div id="performance" class="section">
                <h2>Network Performance Optimization</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    Understand and optimize factors affecting network speed and reliability
                </p>
                
                <div class="demo-container">
                    <h3>🎮 Interactive Performance Simulator</h3>
                    
                    <div class="grid-container" style="margin-bottom: 25px;">
                        <div class="slider-container">
                            <label>👥 Connected Devices: <span id="deviceCount">15</span></label>
                            <input type="range" id="deviceSlider" min="1" max="200" value="15" 
                                   oninput="updatePerformance()" style="--value: 7.5%">
                        </div>
                        
                        <div class="slider-container">
                            <label>📶 Total Bandwidth: <span id="bandwidthValue">100</span> Mbps</label>
                            <input type="range" id="bandwidthSlider" min="10" max="1000" value="100" step="10" 
                                   oninput="updatePerformance()" style="--value: 9%">
                        </div>
                        
                        <div class="slider-container">
                            <label>📊 Network Load: <span id="loadValue">40</span>%</label>
                            <input type="range" id="loadSlider" min="0" max="100" value="40" 
                                   oninput="updatePerformance()" style="--value: 40%">
                        </div>

                        <div class="slider-container">
                            <label>📏 Average Distance: <span id="distanceValue">50</span>m</label>
                            <input type="range" id="distanceSlider" min="1" max="1000" value="50" 
                                   oninput="updatePerformance()" style="--value: 5%">
                        </div>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-value" id="speedPerDevice">6.7</div>
                            <p>Mbps per device</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="latency">12</div>
                            <p>ms average latency</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="quality">Good</div>
                            <p>Network quality</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="throughput">85</div>
                            <p>% efficiency</p>
                        </div>
                    </div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill hardware-accelerated" id="performanceBar" style="width: 75%;"></div>
                    </div>
                    <p style="text-align: center; font-size: 1.2em; margin-top: 15px;">
                        Overall Performance: <span id="performancePercent" style="color: var(--primary); font-weight: bold;">75%</span>
                    </p>

                    <div style="text-align: center; margin-top: 25px;">
                        <button class="button" onclick="runPerformanceTest()">🚀 Run Speed Test</button>
                        <button class="button" onclick="optimizeNetwork()">⚡ Auto-Optimize</button>
                        <button class="button" onclick="resetPerformance()">🔄 Reset</button>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="card">
                        <h3>📊 Performance Factors</h3>
                        <ul style="list-style: none; padding: 15px 0;">
                            <li style="margin: 12px 0;">👥 <strong>Device Count:</strong> More devices share bandwidth</li>
                            <li style="margin: 12px 0;">📶 <strong>Bandwidth:</strong> Total data highway capacity</li>
                            <li style="margin: 12px 0;">📏 <strong>Distance:</strong> Signal strength weakens over distance</li>
                            <li style="margin: 12px 0;">🔧 <strong>Hardware Quality:</strong> Better equipment = better performance</li>
                            <li style="margin: 12px 0;">🌐 <strong>Network Traffic:</strong> Peak times cause congestion</li>
                            <li style="margin: 12px 0;">📡 <strong>Interference:</strong> Other signals disrupt transmission</li>
                            <li style="margin: 12px 0;">🎯 <strong>Protocol Overhead:</strong> Communication rules add delay</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3>🚀 Optimization Strategies</h3>
                        <ul style="list-style: none; padding: 15px 0;">
                            <li style="margin: 12px 0;">⬆️ <strong>Upgrade Bandwidth:</strong> Get faster internet service</li>
                            <li style="margin: 12px 0;">🔌 <strong>Use Ethernet:</strong> Wired connections beat WiFi</li>
                            <li style="margin: 12px 0;">📡 <strong>Modern Equipment:</strong> Latest routers and switches</li>
                            <li style="margin: 12px 0;">🎯 <strong>QoS Settings:</strong> Prioritize critical traffic</li>
                            <li style="margin: 12px 0;">🔄 <strong>Firmware Updates:</strong> Keep equipment current</li>
                            <li style="margin: 12px 0;">📍 <strong>Strategic Placement:</strong> Central router positioning</li>
                            <li style="margin: 12px 0;">🔀 <strong>Load Balancing:</strong> Distribute traffic evenly</li>
                        </ul>
                    </div>
                </div>

                <div class="info-card">
                    <h3>💡 Performance Tips</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div>
                            <h4 style="color: var(--success);">🏠 Home Networks</h4>
                            <p>• Position router centrally<br>
                            • Update firmware regularly<br>
                            • Use 5GHz WiFi when possible<br>
                            • Limit background downloads</p>
                        </div>
                        <div>
                            <h4 style="color: var(--secondary);">🏢 Business Networks</h4>
                            <p>• Implement QoS policies<br>
                            • Use managed switches<br>
                            • Monitor bandwidth usage<br>
                            • Segment network traffic</p>
                        </div>
                        <div>
                            <h4 style="color: var(--accent);">🎮 Gaming & Streaming</h4>
                            <p>• Prioritize real-time traffic<br>
                            • Use wired connections<br>
                            • Minimize network hops<br>
                            • Consider gaming routers</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Architectures Section -->
            <div id="architectures" class="section">
                <h2>Network Architectures</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    Discover how computers collaborate and share resources in different network models
                </p>
                
                <div class="grid-container">
                    <div class="demo-container">
                        <h3>🖥️ Client-Server Architecture</h3>
                        <div class="network-diagram hardware-accelerated" id="clientServerDiagram" style="min-height: 350px;">
                            <!-- Enhanced Client-Server visualization -->
                        </div>
                        <div class="stats">
                            <div class="stat-card">
                                <div class="stat-value">Centralized</div>
                                <p>Resource control</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">High</div>
                                <p>Security level</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">Scalable</div>
                                <p>User support</p>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <p><strong>How it works:</strong></p>
                            <ul style="list-style: none; padding: 10px 0;">
                                <li>• Dedicated server provides all services</li>
                                <li>• Clients request and consume resources</li>
                                <li>• Centralized data and security management</li>
                                <li>• Ideal for businesses and organizations</li>
                            </ul>
                            <button class="button" onclick="simulateClientServer()">📤 Simulate Request</button>
                        </div>
                    </div>
                    
                    <div class="demo-container">
                        <h3>👥 Peer-to-Peer (P2P) Architecture</h3>
                        <div class="network-diagram hardware-accelerated" id="p2pDiagram" style="min-height: 350px;">
                            <!-- Enhanced P2P visualization -->
                        </div>
                        <div class="stats">
                            <div class="stat-card">
                                <div class="stat-value">Distributed</div>
                                <p>Resource sharing</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">Low Cost</div>
                                <p>Implementation</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">Resilient</div>
                                <p>Fault tolerance</p>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <p><strong>How it works:</strong></p>
                            <ul style="list-style: none; padding: 10px 0;">
                                <li>• Every device can be client AND server</li>
                                <li>• Direct resource sharing between peers</li>
                                <li>• No central authority or control point</li>
                                <li>• Perfect for home networks and file sharing</li>
                            </ul>
                            <button class="button" onclick="simulateP2P()">🔄 Simulate Sharing</button>
                        </div>
                    </div>
                </div>

                <div class="comparison-table">
                    <table style="width: 100%;">
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>🖥️ Client-Server</th>
                                <th>👥 Peer-to-Peer</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Setup Cost</strong></td>
                                <td>High (requires dedicated server)</td>
                                <td>Low (uses existing computers)</td>
                            </tr>
                            <tr>
                                <td><strong>Security</strong></td>
                                <td>Excellent (centralized control)</td>
                                <td>Moderate (distributed responsibility)</td>
                            </tr>
                            <tr>
                                <td><strong>Reliability</strong></td>
                                <td>Dependent on server uptime</td>
                                <td>No single point of failure</td>
                            </tr>
                            <tr>
                                <td><strong>Management</strong></td>
                                <td>Centralized and streamlined</td>
                                <td>Distributed and complex</td>
                            </tr>
                            <tr>
                                <td><strong>Performance</strong></td>
                                <td>Consistent and predictable</td>
                                <td>Variable based on peer availability</td>
                            </tr>
                            <tr>
                                <td><strong>Scalability</strong></td>
                                <td>Excellent with proper planning</td>
                                <td>Limited by peer resources</td>
                            </tr>
                            <tr>
                                <td><strong>Best Use Cases</strong></td>
                                <td>Business, schools, data centers</td>
                                <td>Home networks, file sharing, gaming</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="info-card">
                    <h3>🎯 Choosing the Right Architecture</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 20px;">
                        <div>
                            <h4 style="color: var(--primary);">🖥️ Choose Client-Server When:</h4>
                            <ul style="list-style: none; padding: 10px 0;">
                                <li>✅ You need centralized control</li>
                                <li>✅ Security is critical</li>
                                <li>✅ You have many users (50+)</li>
                                <li>✅ Professional support is available</li>
                                <li>✅ Compliance requirements exist</li>
                                <li>✅ Predictable performance is needed</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--secondary);">👥 Choose P2P When:</h4>
                            <ul style="list-style: none; padding: 10px 0;">
                                <li>✅ Budget is limited</li>
                                <li>✅ Simple file sharing is the goal</li>
                                <li>✅ Few users (under 10)</li>
                                <li>✅ No dedicated IT staff</li>
                                <li>✅ Temporary or home networks</li>
                                <li>✅ Fault tolerance is important</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="demo-container">
                    <h3>🔀 Hybrid Architectures</h3>
                    <p style="margin-bottom: 20px;">Modern networks often combine both approaches:</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="card">
                            <h4>☁️ Cloud Computing</h4>
                            <p>Combines centralized servers with distributed access</p>
                        </div>
                        <div class="card">
                            <h4>🌐 Content Delivery Networks</h4>
                            <p>Uses both centralized control and distributed content</p>
                        </div>
                        <div class="card">
                            <h4>🔗 Blockchain Networks</h4>
                            <p>Peer-to-peer with consensus mechanisms</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Hardware Section -->
            <div id="hardware" class="section">
                <h2>Network Hardware Essentials</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    Discover the essential equipment needed to build and maintain networks
                </p>
                
                <div class="grid-container">
                    <div class="card">
                        <h3>🔌 Network Interface Card (NIC)</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">💳</div>
                        <p><strong>Purpose:</strong> Connects any device to the network</p>
                        <p><strong>Types:</strong> Ethernet (wired) or WiFi (wireless)</p>
                        <p><strong>Speed:</strong> 100 Mbps to 100+ Gbps</p>
                        <p><strong>Location:</strong> Built into most modern devices</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(76, 175, 80, 0.1); border-radius: 8px;">
                            <small><strong>Fun Fact:</strong> Every NIC has a unique MAC address - like a device fingerprint!</small>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>📡 Router</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">📡</div>
                        <p><strong>Purpose:</strong> Connects different networks together</p>
                        <p><strong>Function:</strong> Routes data between networks intelligently</p>
                        <p><strong>Features:</strong> WiFi, firewall, DHCP, QoS</p>
                        <p><strong>Home use:</strong> Gateway to the internet</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(33, 150, 243, 0.1); border-radius: 8px;">
                            <small><strong>Pro Tip:</strong> Modern routers often include switch functionality!</small>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>🔄 Switch</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">🔄</div>
                        <p><strong>Purpose:</strong> Connects multiple devices in a LAN</p>
                        <p><strong>Intelligence:</strong> Learns and remembers device locations</p>
                        <p><strong>Ports:</strong> Typically 4, 8, 16, 24, or 48 ports</p>
                        <p><strong>Advantage:</strong> Full bandwidth to each port</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(255, 152, 0, 0.1); border-radius: 8px;">
                            <small><strong>Key Feature:</strong> Eliminates collision domains!</small>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>🌐 Modem</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">📞</div>
                        <p><strong>Purpose:</strong> Connects to Internet Service Provider</p>
                        <p><strong>Function:</strong> Converts between digital and analog signals</p>
                        <p><strong>Types:</strong> Cable, DSL, Fiber, Satellite</p>
                        <p><strong>Common:</strong> Often combined with router functionality</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 8px;">
                            <small><strong>Remember:</strong> Modem = internet connection, Router = network creation</small>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>🔗 Network Cables</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">🔗</div>
                        <p><strong>Standard:</strong> Ethernet with RJ45 connectors</p>
                        <p><strong>Categories:</strong> Cat5e, Cat6, Cat6a, Cat7, Cat8</p>
                        <p><strong>Speed:</strong> Up to 40+ Gbps (latest standards)</p>
                        <p><strong>Distance:</strong> Up to 100 meters for most types</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(76, 175, 80, 0.1); border-radius: 8px;">
                            <small><strong>Choose:</strong> Cat6 for most home/office applications</small>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>📶 Access Point</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">📶</div>
                        <p><strong>Purpose:</strong> Extends WiFi coverage areas</p>
                        <p><strong>Function:</strong> Creates wireless network hotspots</p>
                        <p><strong>Use case:</strong> Large buildings and campuses</p>
                        <p><strong>Connection:</strong> Links to wired network infrastructure</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(33, 150, 243, 0.1); border-radius: 8px;">
                            <small><strong>Enterprise:</strong> Managed APs enable seamless roaming</small>
                        </div>
                    </div>

                    <div class="card">
                        <h3>🔥 Firewall</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">🛡️</div>
                        <p><strong>Purpose:</strong> Network security and traffic filtering</p>
                        <p><strong>Function:</strong> Blocks unauthorized access attempts</p>
                        <p><strong>Types:</strong> Hardware appliances or software-based</p>
                        <p><strong>Features:</strong> Intrusion detection, VPN, content filtering</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(244, 67, 54, 0.1); border-radius: 8px;">
                            <small><strong>Essential:</strong> First line of defense against cyber threats</small>
                        </div>
                    </div>

                    <div class="card">
                        <h3>📂 Network Storage (NAS)</h3>
                        <div style="text-align: center; font-size: 3.5em; margin: 20px 0;">💾</div>
                        <p><strong>Purpose:</strong> Centralized file storage and sharing</p>
                        <p><strong>Benefits:</strong> Backup, media streaming, collaboration</p>
                        <p><strong>Access:</strong> Available to all network users</p>
                        <p><strong>Features:</strong> RAID protection, remote access</p>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(255, 193, 7, 0.1); border-radius: 8px;">
                            <small><strong>Perfect for:</strong> Home media servers and small business backup</small>
                        </div>
                    </div>
                </div>

                <div class="info-card">
                    <h3>🏗️ Building Your Network</h3>
                    <div class="demo-container">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
                            <div>
                                <h4 style="color: var(--success);">🏠 Home Network Essentials</h4>
                                <ol style="padding-left: 20px;">
                                    <li>Internet Service Provider (ISP) subscription</li>
                                    <li>Modem (often provided by ISP)</li>
                                    <li>WiFi Router with built-in switch</li>
                                    <li>Ethernet cables (Cat6 recommended)</li>
                                    <li>Devices with built-in NICs</li>
                                </ol>
                                <p style="margin-top: 15px; font-style: italic;">
                                    <strong>Budget:</strong> $100-300 for quality equipment
                                </p>
                            </div>
                            <div>
                                <h4 style="color: var(--secondary);">🏢 Small Business Additions</h4>
                                <ul style="padding-left: 20px;">
                                    <li>Managed switch for more ports</li>
                                    <li>Business-grade firewall</li>
                                    <li>Network Attached Storage (NAS)</li>
                                    <li>Uninterruptible Power Supply (UPS)</li>
                                    <li>Multiple Access Points for coverage</li>
                                    <li>Network monitoring tools</li>
                                </ul>
                                <p style="margin-top: 15px; font-style: italic;">
                                    <strong>Investment:</strong> $500-2000+ depending on size
                                </p>
                            </div>
                        </div>
                        
                        <div style="margin-top: 30px; padding: 20px; background: rgba(76, 175, 80, 0.1); border-radius: 15px;">
                            <h4 style="color: var(--primary); margin-bottom: 15px;">🎯 Equipment Selection Tips</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Router:</strong> WiFi 6 or newer, dual-band minimum
                                </div>
                                <div>
                                    <strong>Switch:</strong> Gigabit ports, managed for business
                                </div>
                                <div>
                                    <strong>Cables:</strong> Cat6 for future-proofing
                                </div>
                                <div>
                                    <strong>Access Points:</strong> Centrally managed system
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Protocols Section -->
            <div id="protocols" class="section">
                <h2>Network Protocols & Communication</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    Explore the rules and languages that enable devices to communicate effectively
                </p>
                
                <div class="demo-container">
                    <h3>🏗️ Protocol Stack Layers</h3>
                    <div class="protocol-layers" style="margin: 25px 0;">
                        <div class="card" style="margin: 15px 0; background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(139, 195, 74, 0.1));">
                            <h4 style="color: var(--success);">📱 Application Layer (Layer 7)</h4>
                            <p style="margin-bottom: 15px;">User interfaces and network services</p>
                            <div class="stats">
                                <div class="stat-card">
                                    <div class="stat-value">HTTP/S</div>
                                    <p>Web browsing</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">FTP</div>
                                    <p>File transfer</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">SMTP</div>
                                    <p>Email sending</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">DNS</div>
                                    <p>Name resolution</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">DHCP</div>
                                    <p>IP assignment</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card" style="margin: 15px 0; background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(3, 169, 244, 0.1));">
                            <h4 style="color: var(--secondary);">🚚 Transport Layer (Layer 4)</h4>
                            <p style="margin-bottom: 15px;">Reliable data delivery and flow control</p>
                            <div class="stats">
                                <div class="stat-card">
                                    <div class="stat-value">TCP</div>
                                    <p>Reliable delivery</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">UDP</div>
                                    <p>Fast delivery</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">Ports</div>
                                    <p>Service identification</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card" style="margin: 15px 0; background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 193, 7, 0.1));">
                            <h4 style="color: var(--warning);">🗺️ Network Layer (Layer 3)</h4>
                            <p style="margin-bottom: 15px;">Routing and logical addressing</p>
                            <div class="stats">
                                <div class="stat-card">
                                    <div class="stat-value">IP</div>
                                    <p>Addressing</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">ICMP</div>
                                    <p>Error messages</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">Routing</div>
                                    <p>Path selection</p>
                                </div>
                            </div>
                        </div>

                        <div class="card" style="margin: 15px 0; background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), rgba(142, 36, 170, 0.1));">
                            <h4 style="color: #9C27B0;">🔗 Data Link Layer (Layer 2)</h4>
                            <p style="margin-bottom: 15px;">Frame formatting and error detection</p>
                            <div class="stats">
                                <div class="stat-card">
                                    <div class="stat-value">Ethernet</div>
                                    <p>Wired networks</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">WiFi</div>
                                    <p>Wireless networks</p>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">MAC</div>
                                    <p>Hardware addresses</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="card">
                        <h3>🌐 IP Addressing Systems</h3>
                        <div style="margin: 20px 0;">
                            <h4 style="color: var(--primary);">IPv4 (Current Standard)</h4>
                            <p><strong>Format:</strong> 192.168.1.1 (4 numbers, 0-255)</p>
                            <p><strong>Total addresses:</strong> ~4.3 billion</p>
                            <p><strong>Status:</strong> Nearly exhausted globally</p>
                        </div>
                        <div style="margin: 20px 0;">
                            <h4 style="color: var(--secondary);">IPv6 (Future Standard)</h4>
                            <p><strong>Format:</strong> 2001:0db8:85a3::8a2e:0370:7334</p>
                            <p><strong>Total addresses:</strong> 340 undecillion (practically unlimited)</p>
                            <p><strong>Benefits:</strong> Better security, improved performance</p>
                        </div>
                        <div style="margin-top: 15px; padding: 15px; background: rgba(33, 150, 243, 0.1); border-radius: 10px;">
                            <strong>Transition:</strong> Both IPv4 and IPv6 run simultaneously during migration
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>🔐 Security Protocols</h3>
                        <ul style="list-style: none; padding: 15px 0;">
                            <li style="margin: 15px 0;">
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.5em; margin-right: 10px;">🔒</span>
                                    <div>
                                        <strong>HTTPS:</strong> Secure web browsing with encryption
                                    </div>
                                </div>
                            </li>
                            <li style="margin: 15px 0;">
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.5em; margin-right: 10px;">🛡️</span>
                                    <div>
                                        <strong>WPA3:</strong> Latest WiFi security standard
                                    </div>
                                </div>
                            </li>
                            <li style="margin: 15px 0;">
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.5em; margin-right: 10px;">🔑</span>
                                    <div>
                                        <strong>SSH:</strong> Secure remote server access
                                    </div>
                                </div>
                            </li>
                            <li style="margin: 15px 0;">
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.5em; margin-right: 10px;">🌐</span>
                                    <div>
                                        <strong>VPN:</strong> Secure tunnel over public networks
                                    </div>
                                </div>
                            </li>
                            <li style="margin: 15px 0;">
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.5em; margin-right: 10px;">📧</span>
                                    <div>
                                        <strong>TLS:</strong> Transport Layer Security for emails
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="info-card">
                    <h3>📦 How Data Travels Through the Internet</h3>
                    <div class="demo-container">
                        <p style="margin-bottom: 20px; font-size: 1.1em;">
                            When you visit a website, here's the step-by-step process:
                        </p>
                        <div id="dataJourney" style="margin: 25px 0;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                                <div class="card" style="background: rgba(76, 175, 80, 0.1);">
                                    <h4>1️⃣ DNS Resolution</h4>
                                    <p>Your computer asks: "What's the IP address for google.com?"</p>
                                </div>
                                <div class="card" style="background: rgba(33, 150, 243, 0.1);">
                                    <h4>2️⃣ TCP Connection</h4>
                                    <p>Establishes reliable connection with 3-way handshake</p>
                                </div>
                                <div class="card" style="background: rgba(255, 152, 0, 0.1);">
                                    <h4>3️⃣ HTTP Request</h4>
                                    <p>Sends "GET /index.html" request to web server</p>
                                </div>
                                <div class="card" style="background: rgba(156, 39, 176, 0.1);">
                                    <h4>4️⃣ IP Routing</h4>
                                    <p>Packets routed through multiple networks to destination</p>
                                </div>
                                <div class="card" style="background: rgba(244, 67, 54, 0.1);">
                                    <h4>5️⃣ Server Processing</h4>
                                    <p>Web server processes request and prepares response</p>
                                </div>
                                <div class="card" style="background: rgba(139, 195, 74, 0.1);">
                                    <h4>6️⃣ Data Return</h4>
                                    <p>HTML, CSS, and images sent back to your browser</p>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 25px;">
                            <button class="button" onclick="simulateDataTransfer()">🚀 Animate Data Journey</button>
                            <button class="button" onclick="showProtocolDetails()">📊 Show Protocol Details</button>
                        </div>
                        <div id="transferAnimation" style="margin-top: 25px;">
                            <!-- Animation will appear here -->
                        </div>
                    </div>
                </div>

                <div class="demo-container">
                    <h3>🔄 Protocol Comparison</h3>
                    <div class="comparison-table">
                        <table style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>Protocol</th>
                                    <th>Purpose</th>
                                    <th>Reliability</th>
                                    <th>Speed</th>
                                    <th>Use Cases</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>TCP</strong></td>
                                    <td>Reliable data transfer</td>
                                    <td>Very High</td>
                                    <td>Moderate</td>
                                    <td>Web, email, file transfer</td>
                                </tr>
                                <tr>
                                    <td><strong>UDP</strong></td>
                                    <td>Fast data transfer</td>
                                    <td>Low</td>
                                    <td>Very High</td>
                                    <td>Gaming, video streaming, DNS</td>
                                </tr>
                                <tr>
                                    <td><strong>HTTP</strong></td>
                                    <td>Web page requests</td>
                                    <td>High</td>
                                    <td>Good</td>
                                    <td>Website browsing</td>
                                </tr>
                                <tr>
                                    <td><strong>HTTPS</strong></td>
                                    <td>Secure web requests</td>
                                    <td>Very High</td>
                                    <td>Good</td>
                                    <td>Secure websites, banking</td>
                                </tr>
                                <tr>
                                    <td><strong>FTP</strong></td>
                                    <td>File transfer</td>
                                    <td>High</td>
                                    <td>Good</td>
                                    <td>Large file uploads/downloads</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Enhanced Quiz Section -->
            <div id="quiz" class="section">
                <h2>Test Your Networking Knowledge</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em; color: var(--text-secondary);">
                    Challenge yourself with these comprehensive networking questions
                </p>
                
                <div class="card" id="quizContainer">
                    <div style="text-align: center; padding: 40px;">
                        <div style="font-size: 4em; margin-bottom: 20px;">🧠</div>
                        <h3>Ready to Test Your Knowledge?</h3>
                        <p style="margin: 20px 0; color: var(--text-secondary);">
                            This quiz covers all the topics we've explored together. 
                            Take your time and think through each question carefully.
                        </p>
                        <div class="stats" style="margin: 25px 0;">
                            <div class="stat-card">
                                <div class="stat-value">12</div>
                                <p>Questions</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">~10min</div>
                                <p>Duration</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">75%+</div>
                                <p>To pass</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin: 25px 0;">
                    <button class="button" onclick="startQuiz()">🎯 Start Knowledge Quiz</button>
                    <button class="button" onclick="showQuizResults()" style="display: none;" id="submitQuiz">📊 Submit & Grade</button>
                    <button class="button" onclick="reviewAnswers()" style="display: none;" id="reviewQuiz">👁️ Review Answers</button>
                </div>
                
                <div class="card" id="quizResults" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 25px;">🏆 Quiz Results</h3>
                    <div class="progress-bar">
                        <div class="progress-fill hardware-accelerated" id="scoreBar" style="width: 0%"></div>
                    </div>
                    <div style="text-align: center; margin: 25px 0;">
                        <div style="font-size: 3em; margin-bottom: 10px;" id="gradeEmoji">🎉</div>
                        <p style="font-size: 2em; font-weight: bold; margin-bottom: 10px;">
                            Score: <span id="quizScore" style="color: var(--primary);">0</span>%
                        </p>
                        <p id="gradeText" style="font-size: 1.2em; color: var(--text-secondary);"></p>
                    </div>
                    <div id="quizFeedback"></div>
                    <div style="text-align: center; margin-top: 25px;">
                        <button class="button" onclick="retryQuiz()">🔄 Try Again</button>
                        <button class="button" onclick="showSection('basics')">📚 Review Material</button>
                    </div>
                </div>

                <div class="info-card">
                    <h3>📈 Study Tips for Success</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div>
                            <h4 style="color: var(--primary);">📖 Before the Quiz</h4>
                            <ul style="list-style: none; padding: 10px 0;">
                                <li>• Review each section thoroughly</li>
                                <li>• Practice with the interactive demos</li>
                                <li>• Understand the key concepts</li>
                                <li>• Take notes on important terms</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--secondary);">🎯 During the Quiz</h4>
                            <ul style="list-style: none; padding: 10px 0;">
                                <li>• Read questions carefully</li>
                                <li>• Eliminate wrong answers first</li>
                                <li>• Think about real-world examples</li>
                                <li>• Don't rush - take your time</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--accent);">🔄 After the Quiz</h4>
                            <ul style="list-style: none; padding: 10px 0;">
                                <li>• Review incorrect answers</li>
                                <li>• Understand the explanations</li>
                                <li>• Revisit related sections</li>
                                <li>• Practice with demos again</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced Global Variables and State Management
        class NetworkSimulator {
            constructor() {
                this.currentSection = 'basics';
                this.networkDevices = [];
                this.connections = [];
                this.animationFrames = new Map();
                this.currentTopology = 'star';
                this.quizState = {
                    questions: [],
                    answers: {},
                    currentQuestion: 0,
                    startTime: null
                };
                this.performanceMetrics = {
                    devices: 15,
                    bandwidth: 100,
                    load: 40,
                    distance: 50
                };
                this.init();
            }

            init() {
                this.initializeQuizQuestions();
                this.initBasicNetwork();
                this.updateProgressIndicator();
                this.setupEventListeners();
            }

            setupEventListeners() {
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey || e.metaKey) {
                        switch(e.key) {
                            case '1': this.showSection('basics'); e.preventDefault(); break;
                            case '2': this.showSection('lanwan'); e.preventDefault(); break;
                            case '3': this.showSection('topologies'); e.preventDefault(); break;
                            case '4': this.showSection('performance'); e.preventDefault(); break;
                            case '5': this.showSection('architectures'); e.preventDefault(); break;
                            case '6': this.showSection('hardware'); e.preventDefault(); break;
                            case '7': this.showSection('protocols'); e.preventDefault(); break;
                            case '8': this.showSection('quiz'); e.preventDefault(); break;
                        }
                    }
                });

                // Resize optimization
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        this.refreshCurrentSection();
                    }, 250);
                });
            }

            // Enhanced Section Management
            showSection(sectionId, updateHistory = true) {
                if (this.currentSection === sectionId) return;
                
                // Cancel all animations
                this.animationFrames.forEach(frame => cancelAnimationFrame(frame));
                this.animationFrames.clear();
                
                // Update tab states
                document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
                document.querySelector(`.tab[onclick*="${sectionId}"]`).classList.add('active');
                
                // Update section visibility
                document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
                document.getElementById(sectionId).classList.add('active');
                
                this.currentSection = sectionId;
                this.updateProgressIndicator();
                
                // Initialize section-specific content
                this.initializeSection(sectionId);
                
                // Update browser history
                if (updateHistory) {
                    history.pushState({section: sectionId}, '', `#${sectionId}`);
                }
            }

            updateProgressIndicator() {
                const sections = ['basics', 'lanwan', 'topologies', 'performance', 'architectures', 'hardware', 'protocols', 'quiz'];
                const currentIndex = sections.indexOf(this.currentSection);
                const progress = ((currentIndex + 1) / sections.length) * 100;
                
                const indicator = document.getElementById('progressIndicator');
                if (indicator) {
                    indicator.style.width = `${progress}%`;
                }
            }

            initializeSection(sectionId) {
                switch(sectionId) {
                    case 'basics':
                        this.initBasicNetwork();
                        break;
                    case 'lanwan':
                        this.initLANWAN();
                        break;
                    case 'topologies':
                        this.showTopology('star');
                        break;
                    case 'performance':
                        this.updatePerformance();
                        break;
                    case 'architectures':
                        this.initArchitectures();
                        break;
                    case 'protocols':
                        this.initProtocols();
                        break;
                    case 'quiz':
                        this.initQuiz();
                        break;
                }
            }

            refreshCurrentSection() {
                this.initializeSection(this.currentSection);
            }

            // Enhanced Network Visualization
            initBasicNetwork() {
                const canvas = document.getElementById('basicNetworkCanvas');
                if (!canvas) return;
                
                canvas.innerHTML = '';
                this.networkDevices = [];
                this.connections = [];
                
                // Add initial devices with improved positioning
                this.addDeviceAt(150, 100, '💻', 'laptop');
                this.addDeviceAt(400, 100, '📱', 'phone');
                this.addDeviceAt(650, 100, '🖥️', 'desktop');
                this.addDeviceAt(400, 280, '📡', 'router', 'router');
                
                // Create connections
                this.connectDevices(0, 3);
                this.connectDevices(1, 3);
                this.connectDevices(2, 3);
                
                // Add some flair
                setTimeout(() => this.sendPacket(), 1000);
            }

            addDeviceAt(x, y, icon, type = 'device', className = '') {
                const canvas = document.getElementById('basicNetworkCanvas');
                if (!canvas) return;
                
                const device = document.createElement('div');
                device.className = `device hardware-accelerated ${className}`;
                device.style.left = x + 'px';
                device.style.top = y + 'px';
                device.textContent = icon;
                device.id = `device-${this.networkDevices.length}`;
                device.title = type.charAt(0).toUpperCase() + type.slice(1);
                
                // Enhanced interactions
                device.addEventListener('click', () => {
                    device.classList.toggle('selected');
                    this.showDeviceTooltip(device, type);
                });
                
                device.addEventListener('mouseenter', () => {
                    device.style.transform = 'scale(1.1) rotate(5deg)';
                });
                
                device.addEventListener('mouseleave', () => {
                    if (!device.classList.contains('selected')) {
                        device.style.transform = '';
                    }
                });
                
                canvas.appendChild(device);
                this.networkDevices.push({
                    id: device.id, 
                    x, 
                    y, 
                    element: device, 
                    type,
                    icon
                });
            }

            showDeviceTooltip(device, type) {
                const tooltip = document.querySelector('.tooltip') || this.createTooltip();
                const deviceInfo = {
                    laptop: 'Portable computer for work and entertainment',
                    phone: 'Mobile device for communication and apps',
                    desktop: 'Powerful workstation computer',
                    router: 'Central hub connecting all devices',
                    server: 'Provides services to network clients'
                };
                
                tooltip.textContent = deviceInfo[type] || 'Network device';
                tooltip.classList.add('visible');
                
                const rect = device.getBoundingClientRect();
                tooltip.style.left = rect.left + 'px';
                tooltip.style.top = (rect.top - 50) + 'px';
                
                setTimeout(() => tooltip.classList.remove('visible'), 3000);
            }

            createTooltip() {
                const tooltip = document.createElement('div');
                tooltip.className = 'tooltip';
                document.body.appendChild(tooltip);
                return tooltip;
            }

            addDevice() {
                const canvas = document.getElementById('basicNetworkCanvas');
                if (!canvas) return;
                
                const x = Math.random() * (canvas.offsetWidth - 100) + 50;
                const y = Math.random() * (canvas.offsetHeight - 100) + 50;
                const icons = ['💻', '📱', '🖥️', '⌚', '📷', '🖨️', '📺', '🎮'];
                const types = ['laptop', 'phone', 'desktop', 'watch', 'camera', 'printer', 'tv', 'console'];
                const randomIndex = Math.floor(Math.random() * icons.length);
                
                this.addDeviceAt(x, y, icons[randomIndex], types[randomIndex]);
                
                // Auto-connect to router if exists
                const routerIndex = this.networkDevices.findIndex(d => d.type === 'router');
                if (routerIndex !== -1) {
                    this.connectDevices(this.networkDevices.length - 1, routerIndex);
                }
            }

            connectDevices(index1, index2, animated = true) {
                if (index1 >= this.networkDevices.length || index2 >= this.networkDevices.length) return;
                
                const canvas = document.getElementById('basicNetworkCanvas');
                if (!canvas) return;
                
                const dev1 = this.networkDevices[index1];
                const dev2 = this.networkDevices[index2];
                
                const connection = document.createElement('div');
                connection.className = 'connection hardware-accelerated';
                
                const dx = dev2.x - dev1.x;
                const dy = dev2.y - dev1.y;
                const length = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                
                connection.style.width = length + 'px';
                connection.style.left = (dev1.x + 35) + 'px';
                connection.style.top = (dev1.y + 35) + 'px';
                connection.style.transform = `rotate(${angle}deg)`;
                
                if (animated) {
                    connection.style.opacity = '0';
                    connection.style.transform += ' scaleX(0)';
                    setTimeout(() => {
                        connection.style.transition = 'all 0.5s ease';
                        connection.style.opacity = '1';
                        connection.style.transform = `rotate(${angle}deg) scaleX(1)`;
                    }, 100);
                }
                
                canvas.appendChild(connection);
                this.connections.push({
                    element: connection,
                    from: index1,
                    to: index2
                });
            }

            sendPacket() {
                if (this.networkDevices.length < 2) return;
                
                const canvas = document.getElementById('basicNetworkCanvas');
                if (!canvas) return;
                
                const packet = document.createElement('div');
                packet.className = 'packet hardware-accelerated';
                
                const start = this.networkDevices[0];
                const end = this.networkDevices[this.networkDevices.length - 1];
                
                packet.style.left = (start.x + 25) + 'px';
                packet.style.top = (start.y + 25) + 'px';
                
                canvas.appendChild(packet);
                
                // Enhanced animation with multiple waypoints
                const waypoints = this.calculateRoute(start, end);
                this.animatePacketThroughWaypoints(packet, waypoints);
            }

            calculateRoute(start, end) {
                // Simple routing through router if available
                const router = this.networkDevices.find(d => d.type === 'router');
                if (router && start !== router && end !== router) {
                    return [start, router, end];
                }
                return [start, end];
            }

            animatePacketThroughWaypoints(packet, waypoints) {
                let currentWaypoint = 0;
                
                const animateToNext = () => {
                    if (currentWaypoint >= waypoints.length - 1) {
                        setTimeout(() => packet.remove(), 500);
                        return;
                    }
                    
                    const target = waypoints[currentWaypoint + 1];
                    packet.style.transition = 'all 1s cubic-bezier(0.4, 0, 0.2, 1)';
                    packet.style.left = (target.x + 25) + 'px';
                    packet.style.top = (target.y + 25) + 'px';
                    
                    currentWaypoint++;
                    setTimeout(animateToNext, 1000);
                };
                
                setTimeout(animateToNext, 100);
            }

            toggleConnections() {
                this.connections.forEach(conn => {
                    conn.element.classList.toggle('active');
                });
            }

            clearNetwork() {
                const canvas = document.getElementById('basicNetworkCanvas');
                if (canvas) {
                    canvas.innerHTML = '';
                    this.networkDevices = [];
                    this.connections = [];
                    setTimeout(() => this.initBasicNetwork(), 500);
                }
            }

            // Enhanced LAN/WAN Visualization
            initLANWAN() {
                this.drawLANDiagram();
                this.drawWANDiagram();
            }

            drawLANDiagram() {
                const diagram = document.getElementById('lanDiagram');
                if (!diagram) return;
                
                diagram.innerHTML = '';
                
                // Smart home router in center
                const router = this.createDevice('📡', 200, 150, 'router');
                router.innerHTML += '<br><small style="color: white;">Router</small>';
                diagram.appendChild(router);
                
                // Smart home devices
                const devices = [
                    {icon: '💻', x: 80, y: 80, label: 'Laptop'},
                    {icon: '📱', x: 320, y: 80, label: 'Phone'},
                    {icon: '📺', x: 80, y: 220, label: 'Smart TV'},
                    {icon: '🖨️', x: 320, y: 220, label: 'Printer'},
                    {icon: '🏠', x: 200, y: 50, label: 'Smart Home'},
                    {icon: '🎮', x: 50, y: 150, label: 'Console'},
                    {icon: '📷', x: 350, y: 150, label: 'Camera'}
                ];
                
                devices.forEach(dev => {
                    const device = this.createDevice(dev.icon, dev.x, dev.y);
                    device.innerHTML += `<br><small style="color: white;">${dev.label}</small>`;
                    device.style.fontSize = '20px';
                    diagram.appendChild(device);
                    
                    // Animated connection
                    const line = this.createConnection(dev.x + 25, dev.y + 25, 225, 175);
                    line.style.animationDelay = Math.random() * 2 + 's';
                    diagram.appendChild(line);
                });
            }

            drawWANDiagram() {
                const diagram = document.getElementById('wanDiagram');
                if (!diagram) return;
                
                diagram.innerHTML = '';
                
                // Internet cloud in center
                const cloud = this.createDevice('☁️', 175, 125, 'router');
                cloud.innerHTML += '<br><small style="color: white;">Internet</small>';
                cloud.style.fontSize = '32px';
                cloud.style.width = '100px';
                cloud.style.height = '100px';
                diagram.appendChild(cloud);
                
                // Global locations
                const locations = [
                    {x: 50, y: 50, label: 'New York', icon: '🏙️'},
                    {x: 300, y: 50, label: 'London', icon: '🏰'},
                    {x: 50, y: 200, label: 'Tokyo', icon: '🗼'},
                    {x: 300, y: 200, label: 'Sydney', icon: '🏛️'}
                ];
                
                locations.forEach(loc => {
                    const location = this.createDevice(loc.icon, loc.x, loc.y);
                    location.innerHTML += `<br><small style="color: white;">${loc.label}</small>`;
                    location.style.fontSize = '24px';
                    diagram.appendChild(location);
                    
                    const line = this.createConnection(loc.x + 30, loc.y + 30, 200, 150);
                    line.style.background = 'linear-gradient(90deg, transparent, var(--secondary), transparent)';
                    diagram.appendChild(line);
                });
            }

            simulateLANTraffic() {
                const diagram = document.getElementById('lanDiagram');
                if (!diagram) return;
                
                // Create multiple packets
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const packet = document.createElement('div');
                        packet.className = 'packet hardware-accelerated';
                        packet.style.left = (80 + Math.random() * 240) + 'px';
                        packet.style.top = (80 + Math.random() * 140) + 'px';
                        diagram.appendChild(packet);
                        
                        // Animate to router
                        setTimeout(() => {
                            packet.style.transition = 'all 1s ease';
                            packet.style.left = '225px';
                            packet.style.top = '175px';
                        }, 100);
                        
                        setTimeout(() => packet.remove(), 1200);
                    }, i * 300);
                }
            }

            simulateWANTraffic() {
                const diagram = document.getElementById('wanDiagram');
                if (!diagram) return;
                
                // Simulate global data flow
                for (let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const packet = document.createElement('div');
                        packet.className = 'packet hardware-accelerated';
                        packet.style.left = (50 + Math.random() * 250) + 'px';
                        packet.style.top = (50 + Math.random() * 150) + 'px';
                        packet.style.background = `hsl(${Math.random() * 360}, 70%, 60%)`;
                        diagram.appendChild(packet);
                        
                        // Random movement to simulate routing
                        setTimeout(() => {
                            packet.style.transition = 'all 2s cubic-bezier(0.4, 0, 0.2, 1)';
                            packet.style.left = (50 + Math.random() * 250) + 'px';
                            packet.style.top = (50 + Math.random() * 150) + 'px';
                        }, 100);
                        
                        setTimeout(() => packet.remove(), 2200);
                    }, i * 200);
                }
            }

            // Enhanced Topology Visualization
            showTopology(type, event) {
                if (event) {
                    document.querySelectorAll('.topology-btn').forEach(btn => btn.classList.remove('active'));
                    event.target.classList.add('active');
                }
                
                this.currentTopology = type;
                
                const canvas = document.getElementById('topologyCanvas');
                if (!canvas) return;
                
                canvas.innerHTML = '';
                
                switch(type) {
                    case 'star':
                        this.drawStarTopology(canvas);
                        break;
                    case 'bus':
                        this.drawBusTopology(canvas);
                        break;
                    case 'ring':
                        this.drawRingTopology(canvas);
                        break;
                    case 'mesh':
                        this.drawMeshTopology(canvas);
                        break;
                    case 'hybrid':
                        this.drawHybridTopology(canvas);
                        break;
                }
                
                this.showTopologyInfo(type);
            }

            drawStarTopology(canvas) {
                const centerX = 400;
                const centerY = 200;
                const radius = 150;
                
                // Central hub
                const center = this.createDevice('🔀', centerX - 40, centerY - 40, 'router');
                center.innerHTML += '<br><small style="color: white;">Hub</small>';
                canvas.appendChild(center);
                
                // Surrounding devices
                for (let i = 0; i < 8; i++) {
                    const angle = (i * 45) * Math.PI / 180;
                    const x = centerX + radius * Math.cos(angle) - 35;
                    const y = centerY + radius * Math.sin(angle) - 35;
                    
                    const icons = ['💻', '📱', '🖥️', '🖨️', '📺', '🎮', '📷', '⌚'];
                    const device = this.createDevice(icons[i], x, y);
                    device.style.animationDelay = (i * 0.1) + 's';
                    canvas.appendChild(device);
                    
                    const line = this.createConnection(x + 35, y + 35, centerX, centerY);
                    line.style.animationDelay = (i * 0.1) + 's';
                    canvas.appendChild(line);
                }
            }

            drawBusTopology(canvas) {
                // Main bus line
                const busLine = document.createElement('div');
                busLine.className = 'connection hardware-accelerated';
                busLine.style.width = '600px';
                busLine.style.left = '150px';
                busLine.style.top = '200px';
                busLine.style.height = '6px';
                busLine.style.background = 'linear-gradient(90deg, var(--primary), var(--secondary))';
                canvas.appendChild(busLine);
                
                // Connected devices
                const devicePositions = [200, 300, 400, 500, 600, 650];
                const icons = ['💻', '🖥️', '📱', '🖨️', '📺', '🎮'];
                
                devicePositions.forEach((x, i) => {
                    const y = 100;
                    const device = this.createDevice(icons[i], x - 35, y);
                    device.style.animationDelay = (i * 0.2) + 's';
                    canvas.appendChild(device);
                    
                    // T-connector to bus
                    const tConnector = document.createElement('div');
                    tConnector.className = 'connection';
                    tConnector.style.width = '3px';
                    tConnector.style.height = '65px';
                    tConnector.style.left = x + 'px';
                    tConnector.style.top = '135px';
                    tConnector.style.background = 'var(--primary)';
                    canvas.appendChild(tConnector);
                });
            }

            drawRingTopology(canvas) {
                const centerX = 400;
                const centerY = 200;
                const radius = 140;
                const deviceCount = 7;
                
                const devices = [];
                
                // Create devices in ring
                for (let i = 0; i < deviceCount; i++) {
                    const angle = (i * (360 / deviceCount)) * Math.PI / 180;
                    const x = centerX + radius * Math.cos(angle) - 35;
                    const y = centerY + radius * Math.sin(angle) - 35;
                    
                    const icons = ['💻', '🖥️', '📱', '🖨️', '📺', '🎮', '📷'];
                    const device = this.createDevice(icons[i], x, y);
                    device.style.animationDelay = (i * 0.15) + 's';
                    canvas.appendChild(device);
                    devices.push({x: x + 35, y: y + 35});
                }
                
                // Connect in ring with directional arrows
                for (let i = 0; i < devices.length; i++) {
                    const next = (i + 1) % devices.length;
                    const line = this.createConnection(devices[i].x, devices[i].y, devices[next].x, devices[next].y);
                    line.style.background = 'linear-gradient(90deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%)';
                    line.style.animationDelay = (i * 0.15) + 's';
                    canvas.appendChild(line);
                }
            }

            drawMeshTopology(canvas) {
                const positions = [
                    {x: 250, y: 100},
                    {x: 450, y: 100},
                    {x: 650, y: 100},
                    {x: 200, y: 250},
                    {x: 400, y: 250},
                    {x: 600, y: 250}
                ];
                
                const icons = ['💻', '🖥️', '📱', '🖨️', '📺', '🎮'];
                
                // Add devices
                positions.forEach((pos, i) => {
                    const device = this.createDevice(icons[i], pos.x - 35, pos.y - 35);
                    device.style.animationDelay = (i * 0.1) + 's';
                    canvas.appendChild(device);
                });
                
                // Connect all to all with staggered animation
                let connectionIndex = 0;
                for (let i = 0; i < positions.length; i++) {
                    for (let j = i + 1; j < positions.length; j++) {
                        const line = this.createConnection(positions[i].x, positions[i].y, positions[j].x, positions[j].y);
                        line.style.opacity = '0.7';
                        line.style.animationDelay = (connectionIndex * 0.05) + 's';
                        canvas.appendChild(line);
                        connectionIndex++;
                    }
                }
            }

            drawHybridTopology(canvas) {
                // Combination of star and ring
                // Central star network
                const starCenter = {x: 300, y: 150};
                const starHub = this.createDevice('🔀', starCenter.x - 30, starCenter.y - 30, 'router');
                starHub.innerHTML += '<br><small style="color: white;">Core</small>';
                canvas.appendChild(starHub);
                
                // Star devices
                const starDevices = [
                    {x: 200, y: 100, icon: '💻'},
                    {x: 400, y: 100, icon: '🖥️'},
                    {x: 250, y: 200, icon: '📱'}
                ];
                
                starDevices.forEach((dev, i) => {
                    const device = this.createDevice(dev.icon, dev.x - 25, dev.y - 25);
                    canvas.appendChild(device);
                    const line = this.createConnection(dev.x, dev.y, starCenter.x, starCenter.y);
                    canvas.appendChild(line);
                });
                
                // Ring network
                const ringCenter = {x: 550, y: 200};
                const ringRadius = 80;
                const ringDevices = [];
                
                for (let i = 0; i < 4; i++) {
                    const angle = (i * 90) * Math.PI / 180;
                    const x = ringCenter.x + ringRadius * Math.cos(angle);
                    const y = ringCenter.y + ringRadius * Math.sin(angle);
                    
                    const icons = ['🖨️', '📺', '🎮', '📷'];
                    const device = this.createDevice(icons[i], x - 25, y - 25);
                    canvas.appendChild(device);
                    ringDevices.push({x, y});
                }
                
                // Ring connections
                for (let i = 0; i < ringDevices.length; i++) {
                    const next = (i + 1) % ringDevices.length;
                    const line = this.createConnection(ringDevices[i].x, ringDevices[i].y, ringDevices[next].x, ringDevices[next].y);
                    canvas.appendChild(line);
                }
                
                // Bridge between networks
                const bridge = this.createConnection(starCenter.x + 50, starCenter.y, ringCenter.x - 80, ringCenter.y);
                bridge.style.background = 'linear-gradient(90deg, var(--accent), var(--warning))';
                bridge.style.height = '4px';
                canvas.appendChild(bridge);
            }

            showTopologyInfo(type) {
                const info = document.getElementById('topologyInfo');
                if (!info) return;
                
                const topologyData = {
                    star: {
                        title: '⭐ Star Topology',
                        description: 'All devices connect to a central hub, switch, or router.',
                        pros: [
                            'Easy to add/remove devices',
                            'Failure of one device doesn\'t affect others',
                            'Easy fault detection and isolation',
                            'Consistent performance for all devices',
                            'Centralized management'
                        ],
                        cons: [
                            'Central device failure affects entire network',
                            'More cable required than bus topology',
                            'Central device can become a bottleneck',
                            'Higher cost due to central equipment'
                        ],
                        uses: ['Modern home networks', 'Small to medium offices', 'Most Ethernet LANs', 'WiFi networks']
                    },
                    bus: {
                        title: '➖ Bus Topology',
                        description: 'All devices connect to a single shared cable backbone.',
                        pros: [
                            'Simple and inexpensive to implement',
                            'Easy to install in small networks',
                            'Requires less cable than star',
                            'No central device dependency'
                        ],
                        cons: [
                            'Entire network fails if main cable breaks',
                            'Performance degrades with more devices',
                            'Difficult to troubleshoot problems',
                            'Collision domain issues',
                            'Limited scalability'
                        ],
                        uses: ['Legacy Ethernet networks', 'Simple temporary setups', 'Educational demonstrations']
                    },
                    ring: {
                        title: '⭕ Ring Topology',
                        description: 'Devices connected in a circular chain, data flows in one direction.',
                        pros: [
                            'Equal access for all devices',
                            'Performs well under heavy load',
                            'No data collisions with token passing',
                            'Predictable network performance'
                        ],
                        cons: [
                            'Single device failure can break the ring',
                            'Difficult to add/remove devices',
                            'More expensive than bus topology',
                            'Token dependency creates delays'
                        ],
                        uses: ['Token Ring networks (legacy)', 'FDDI fiber networks', 'Some industrial networks']
                    },
                    mesh: {
                        title: '🕸️ Mesh Topology',
                        description: 'Every device connects to every other device (full mesh).',
                        pros: [
                            'Multiple redundant paths available',
                            'No single point of failure',
                            'Excellent fault tolerance',
                            'High reliability and availability',
                            'Load distribution across paths'
                        ],
                        cons: [
                            'Very expensive to implement',
                            'Complex installation and management',
                            'Requires lots of cables/connections',
                            'Difficult to troubleshoot'
                        ],
                        uses: ['Internet backbone infrastructure', 'Critical military systems', 'High-availability data centers']
                    },
                    hybrid: {
                        title: '🔀 Hybrid Topology',
                        description: 'Combination of two or more different topologies.',
                        pros: [
                            'Flexible and scalable design',
                            'Can optimize for different needs',
                            'Fault tolerance can be improved',
                            'Cost-effective solutions possible'
                        ],
                        cons: [
                            'Complex design and management',
                            'Requires skilled network administrators',
                            'Troubleshooting can be challenging',
                            'Higher maintenance requirements'
                        ],
                        uses: ['Large enterprise networks', 'Campus networks', 'Internet service providers', 'Modern corporate infrastructures']
                    }
                };
                
                const data = topologyData[type];
                info.innerHTML = `
                    <h3>${data.title}</h3>
                    <p style="margin-bottom: 20px; font-size: 1.1em;">${data.description}</p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 25px;">
                        <div>
                            <h4 style="color: var(--success); margin-bottom: 15px;">✅ Advantages</h4>
                            <ul style="list-style: none; padding: 0;">
                                ${data.pros.map(pro => `<li style="margin: 8px 0; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0;">•</span>${pro}
                                </li>`).join('')}
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--error); margin-bottom: 15px;">❌ Disadvantages</h4>
                            <ul style="list-style: none; padding: 0;">
                                ${data.cons.map(con => `<li style="margin: 8px 0; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0;">•</span>${con}
                                </li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    <div style="margin-top: 25px;">
                        <h4 style="color: var(--primary); margin-bottom: 15px;">📍 Common Applications</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                            ${data.uses.map(use => `
                                <span style="background: rgba(76, 175, 80, 0.1); padding: 8px 15px; border-radius: 20px; border: 1px solid var(--primary);">
                                    ${use}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            simulateTopologyFailure() {
                const canvas = document.getElementById('topologyCanvas');
                if (!canvas) return;
                
                const devices = canvas.querySelectorAll('.device');
                const connections = canvas.querySelectorAll('.connection');
                
                if (devices.length === 0) return;
                
                // Simulate random device failure
                const failedDevice = devices[Math.floor(Math.random() * devices.length)];
                failedDevice.style.background = 'linear-gradient(135deg, var(--error), #c62828)';
                failedDevice.style.animation = 'none';
                failedDevice.innerHTML += '<br><small style="color: white;">FAILED</small>';
                
                // Show affected connections based on topology
                if (this.currentTopology === 'star' && failedDevice.classList.contains('router')) {
                    // In star topology, router failure affects all connections
                    connections.forEach(conn => {
                        conn.style.background = 'linear-gradient(90deg, transparent, var(--error), transparent)';
                        conn.style.animation = 'none';
                    });
                } else if (this.currentTopology === 'ring') {
                    // In ring topology, any failure breaks the ring
                    connections.forEach(conn => {
                        conn.style.background = 'linear-gradient(90deg, transparent, var(--error), transparent)';
                        conn.style.animation = 'none';
                    });
                }
                
                // Reset after 3 seconds
                setTimeout(() => {
                    this.showTopology(this.currentTopology);
                }, 3000);
            }

            animateDataFlow() {
                const connections = document.querySelectorAll('#topologyCanvas .connection');
                connections.forEach(conn => {
                    conn.classList.add('active');
                });
                
                // Create packets
                const canvas = document.getElementById('topologyCanvas');
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const packet = document.createElement('div');
                        packet.className = 'packet hardware-accelerated';
                        packet.style.left = Math.random() * (canvas.offsetWidth - 50) + 'px';
                        packet.style.top = Math.random() * (canvas.offsetHeight - 50) + 'px';
                        canvas.appendChild(packet);
                        
                        setTimeout(() => packet.remove(), 3000);
                    }, i * 500);
                }
            }

            resetTopology() {
                this.showTopology(this.currentTopology);
            }

            // Enhanced Performance Monitoring
            updatePerformance() {
                const devices = parseInt(document.getElementById('deviceSlider')?.value || 15);
                const bandwidth = parseInt(document.getElementById('bandwidthSlider')?.value || 100);
                const load = parseInt(document.getElementById('loadSlider')?.value || 40);
                const distance = parseInt(document.getElementById('distanceSlider')?.value || 50);
                
                // Update display values
                if (document.getElementById('deviceCount')) document.getElementById('deviceCount').textContent = devices;
                if (document.getElementById('bandwidthValue')) document.getElementById('bandwidthValue').textContent = bandwidth;
                if (document.getElementById('loadValue')) document.getElementById('loadValue').textContent = load;
                if (document.getElementById('distanceValue')) document.getElementById('distanceValue').textContent = distance;
                
                // Calculate advanced performance metrics
                const availableBandwidth = bandwidth * (1 - load / 100);
                const perDevice = availableBandwidth / devices;
                const baseLatency = 1 + (distance / 100); // Distance-based latency
                const congestionLatency = (devices / 10) + (load / 10); // Congestion impact
                const totalLatency = Math.round(baseLatency + congestionLatency);
                
                // Calculate efficiency based on protocol overhead and collisions
                const efficiency = Math.max(20, 100 - (devices * 0.5) - (load * 0.3) - (distance * 0.1));
                
                // Determine quality rating
                let quality = 'Excellent';
                let performance = 95;
                
                if (perDevice < 1) {
                    quality = 'Poor';
                    performance = Math.max(20, 30 - (devices - 100));
                } else if (perDevice < 3) {
                    quality = 'Fair';
                    performance = Math.max(35, 50 - (load / 4));
                } else if (perDevice < 8) {
                    quality = 'Good';
                    performance = Math.max(50, 75 - (load / 6));
                } else if (perDevice < 20) {
                    quality = 'Very Good';
                    performance = Math.max(70, 90 - (load / 10));
                }
                
                // Adjust for high load and distance
                if (load > 80) performance *= 0.7;
                if (distance > 500) performance *= 0.8;
                
                // Update UI
                if (document.getElementById('speedPerDevice')) document.getElementById('speedPerDevice').textContent = perDevice.toFixed(1);
                if (document.getElementById('latency')) document.getElementById('latency').textContent = totalLatency;
                if (document.getElementById('quality')) document.getElementById('quality').textContent = quality;
                if (document.getElementById('throughput')) document.getElementById('throughput').textContent = Math.round(efficiency);
                if (document.getElementById('performanceBar')) document.getElementById('performanceBar').style.width = performance + '%';
                if (document.getElementById('performancePercent')) document.getElementById('performancePercent').textContent = Math.round(performance) + '%';
                
                // Update slider progress indicators
                this.updateSliderProgress('deviceSlider', devices, 200);
                this.updateSliderProgress('bandwidthSlider', bandwidth, 1000);
                this.updateSliderProgress('loadSlider', load, 100);
                this.updateSliderProgress('distanceSlider', distance, 1000);
            }

            updateSliderProgress(sliderId, value, max) {
                const slider = document.getElementById(sliderId);
                if (slider) {
                    const percentage = (value / max) * 100;
                    slider.style.setProperty('--value', percentage + '%');
                }
            }

            runPerformanceTest() {
                const button = event.target;
                button.disabled = true;
                button.textContent = '🔄 Testing...';
                
                // Simulate network speed test
                let progress = 0;
                const interval = setInterval(() => {
                    progress += Math.random() * 15;
                    if (progress > 100) progress = 100;
                    
                    const bar = document.getElementById('performanceBar');
                    if (bar) bar.style.width = progress + '%';
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        button.disabled = false;
                        button.textContent = '🚀 Run Speed Test';
                        
                        // Add some test results
                        this.showTestResults();
                    }
                }, 100);
            }

            showTestResults() {
                const results = document.createElement('div');
                results.className = 'card';
                results.style.marginTop = '20px';
                results.innerHTML = `
                    <h4>📊 Speed Test Results</h4>
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-value">${(Math.random() * 95 + 5).toFixed(1)}</div>
                            <p>Mbps Download</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${(Math.random() * 85 + 10).toFixed(1)}</div>
                            <p>Mbps Upload</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${Math.round(Math.random() * 30 + 5)}</div>
                            <p>ms Ping</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${(Math.random() * 2 + 0.5).toFixed(1)}</div>
                            <p>ms Jitter</p>
                        </div>
                    </div>
                `;
                
                const container = document.querySelector('#performance .demo-container');
                const existing = container.querySelector('.test-results');
                if (existing) existing.remove();
                
                results.classList.add('test-results');
                container.appendChild(results);
                
                setTimeout(() => results.remove(), 5000);
            }

            optimizeNetwork() {
                // Auto-optimize network settings
                document.getElementById('loadSlider').value = 25;
                document.getElementById('bandwidthSlider').value = Math.min(1000, parseInt(document.getElementById('bandwidthSlider').value) * 1.5);
                this.updatePerformance();
                
                // Show optimization message
                const message = document.createElement('div');
                message.className = 'info-card';
                message.style.marginTop = '20px';
                message.innerHTML = `
                    <h4>⚡ Network Optimized!</h4>
                    <p>• Reduced network load to 25%</p>
                    <p>• Increased available bandwidth</p>
                    <p>• Optimized for better performance</p>
                `;
                
                const container = document.querySelector('#performance .demo-container');
                const existing = container.querySelector('.optimization-message');
                if (existing) existing.remove();
                
                message.classList.add('optimization-message');
                container.appendChild(message);
                
                setTimeout(() => message.remove(), 4000);
            }

            resetPerformance() {
                document.getElementById('deviceSlider').value = 15;
                document.getElementById('bandwidthSlider').value = 100;
                document.getElementById('loadSlider').value = 40;
                document.getElementById('distanceSlider').value = 50;
                this.updatePerformance();
            }

            // Enhanced Architecture Simulations
            initArchitectures() {
                this.drawClientServer();
                this.drawP2P();
            }

            drawClientServer() {
                const diagram = document.getElementById('clientServerDiagram');
                if (!diagram) return;
                
                diagram.innerHTML = '';
                
                // Powerful server
                const server = this.createDevice('🖥️', 200, 150, 'server');
                server.innerHTML += '<br><small style="color: white;">Server</small>';
                server.style.background = 'linear-gradient(135deg, var(--secondary), #1565C0)';
                diagram.appendChild(server);
                
                // Multiple clients in organized layout
                const clients = [
                    {x: 80, y: 80, icon: '💻', label: 'Laptop'},
                    {x: 320, y: 80, icon: '🖥️', label: 'Desktop'},
                    {x: 80, y: 220, icon: '📱', label: 'Mobile'},
                    {x: 320, y: 220, icon: '📋', label: 'Tablet'}
                ];
                
                clients.forEach((client, i) => {
                    const device = this.createDevice(client.icon, client.x, client.y);
                    device.innerHTML += `<br><small style="color: white;">${client.label}</small>`;
                    device.style.animationDelay = (i * 0.2) + 's';
                    diagram.appendChild(device);
                    
                    const line = this.createConnection(client.x + 30, client.y + 30, 230, 180);
                    line.style.animationDelay = (i * 0.2) + 's';
                    diagram.appendChild(line);
                });
            }

            drawP2P() {
                const diagram = document.getElementById('p2pDiagram');
                if (!diagram) return;
                
                diagram.innerHTML = '';
                
                // Peer devices in network formation
                const peers = [
                    {x: 150, y: 80, label: 'Peer A'},
                    {x: 250, y: 80, label: 'Peer B'},
                    {x: 100, y: 180, label: 'Peer C'},
                    {x: 200, y: 180, label: 'Peer D'},
                    {x: 300, y: 180, label: 'Peer E'}
                ];
                
                // Add peers
                peers.forEach((peer, i) => {
                    const device = this.createDevice('💻', peer.x, peer.y);
                    device.innerHTML += `<br><small style="color: white;">${peer.label}</small>`;
                    device.style.animationDelay = (i * 0.15) + 's';
                    diagram.appendChild(device);
                });
                
                // Create mesh-like connections
                const connections = [
                    [0, 1], [0, 2], [1, 3], [2, 3], [3, 4], [1, 4], [0, 3]
                ];
                
                connections.forEach((conn, i) => {
                    const line = this.createConnection(
                        peers[conn[0]].x + 30, peers[conn[0]].y + 30,
                        peers[conn[1]].x + 30, peers[conn[1]].y + 30
                    );
                    line.style.opacity = '0.7';
                    line.style.animationDelay = (i * 0.1) + 's';
                    diagram.appendChild(line);
                });
            }

            simulateClientServer() {
                const diagram = document.getElementById('clientServerDiagram');
                if (!diagram) return;
                
                // Create request packets from multiple clients
                const clientPositions = [{x: 110, y: 110}, {x: 350, y: 110}, {x: 110, y: 250}];
                
                clientPositions.forEach((pos, i) => {
                    setTimeout(() => {
                        const packet = document.createElement('div');
                        packet.className = 'packet hardware-accelerated';
                        packet.style.left = pos.x + 'px';
                        packet.style.top = pos.y + 'px';
                        packet.innerHTML = '📤';
                        diagram.appendChild(packet);
                        
                        // Animate to server
                        setTimeout(() => {
                            packet.style.transition = 'all 1s cubic-bezier(0.4, 0, 0.2, 1)';
                            packet.style.left = '230px';
                            packet.style.top = '180px';
                        }, 100);
                        
                        // Return response
                        setTimeout(() => {
                            packet.innerHTML = '📥';
                            packet.style.background = 'linear-gradient(45deg, var(--success), var(--primary))';
                            packet.style.left = pos.x + 'px';
                            packet.style.top = pos.y + 'px';
                        }, 1200);
                        
                        setTimeout(() => packet.remove(), 2300);
                    }, i * 400);
                });
            }

            simulateP2P() {
                const diagram = document.getElementById('p2pDiagram');
                if (!diagram) return;
                
                // Create multiple peer-to-peer transfers
                const peers = [{x: 180, y: 110}, {x: 280, y: 110}, {x: 130, y: 210}, {x: 230, y: 210}, {x: 330, y: 210}];
                
                for (let i = 0; i < 6; i++) {
                    setTimeout(() => {
                        const fromPeer = peers[Math.floor(Math.random() * peers.length)];
                        const toPeer = peers[Math.floor(Math.random() * peers.length)];
                        
                        if (fromPeer !== toPeer) {
                            const packet = document.createElement('div');
                            packet.className = 'packet hardware-accelerated';
                            packet.style.left = fromPeer.x + 'px';
                            packet.style.top = fromPeer.y + 'px';
                            packet.style.background = `hsl(${Math.random() * 360}, 70%, 60%)`;
                            diagram.appendChild(packet);
                            
                            setTimeout(() => {
                                packet.style.transition = 'all 1.2s cubic-bezier(0.4, 0, 0.2, 1)';
                                packet.style.left = toPeer.x + 'px';
                                packet.style.top = toPeer.y + 'px';
                            }, 100);
                            
                            setTimeout(() => packet.remove(), 1400);
                        }
                    }, i * 300);
                }
            }

            // Enhanced Protocol Demonstrations
            initProtocols() {
                // Static content, no special initialization needed
            }

            simulateDataTransfer() {
                const container = document.getElementById('transferAnimation');
                if (!container) return;
                
                container.innerHTML = `
                    <div class="demo-container">
                        <div style="display: flex; justify-content: space-between; align-items: center; position: relative; height: 120px;">
                            <div class="device" style="position: static; background: var(--primary);">💻<br><small>Your Device</small></div>
                            <div style="flex: 1; position: relative; margin: 0 30px;">
                                <div class="connection" style="position: static; width: 100%; height: 4px;"></div>
                                <div id="dataPacket" class="packet" style="position: absolute; left: 0; top: 50%; transform: translateY(-50%);"></div>
                            </div>
                            <div class="device server" style="position: static; background: var(--secondary);">🌐<br><small>Web Server</small></div>
                        </div>
                        <div id="protocolSteps" style="margin-top: 25px; text-align: center; min-height: 60px;">
                            <p id="stepText" style="font-size: 1.1em; color: var(--primary); font-weight: bold;">Starting data transfer simulation...</p>
                        </div>
                    </div>
                `;
                
                const packet = document.getElementById('dataPacket');
                const stepText = document.getElementById('stepText');
                const steps = [
                    '🔍 DNS: Resolving website name to IP address...',
                    '🤝 TCP: Establishing secure connection (3-way handshake)...',
                    '📤 HTTP: Sending GET request for webpage...',
                    '⚙️ Server: Processing request and preparing response...',
                    '📥 HTTP: Receiving webpage data packets...',
                    '✅ TCP: Verifying all packets received correctly...',
                    '🎉 Complete! Webpage displayed in browser.'
                ];
                
                let step = 0;
                const animate = () => {
                    if (step < steps.length) {
                        stepText.textContent = steps[step];
                        
                        // Animate packet movement
                        if (step < 3) {
                            // Moving to server
                            packet.style.transition = 'left 1.2s cubic-bezier(0.4, 0, 0.2, 1)';
                            packet.style.left = (step * 33) + '%';
                            packet.innerHTML = '📤';
                        } else if (step === 3) {
                            // Processing at server
                            packet.style.background = 'linear-gradient(45deg, var(--warning), var(--accent))';
                            packet.innerHTML = '⚙️';
                        } else {
                            // Returning from server
                            packet.style.transition = 'left 1.2s cubic-bezier(0.4, 0, 0.2, 1)';
                            packet.style.left = (100 - (step - 3) * 25) + '%';
                            packet.innerHTML = '📥';
                            packet.style.background = 'linear-gradient(45deg, var(--success), var(--primary))';
                        }
                        
                        step++;
                        setTimeout(animate, 1500);
                    }
                };
                
                setTimeout(animate, 500);
            }

            showProtocolDetails() {
                const container = document.getElementById('transferAnimation');
                if (!container) return;
                
                container.innerHTML = `
                    <div class="demo-container">
                        <h4>📊 Protocol Layer Details</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                            <div class="card" style="background: rgba(76, 175, 80, 0.1);">
                                <h5>Application Layer</h5>
                                <p>HTTP/HTTPS<br>Handles web requests</p>
                            </div>
                            <div class="card" style="background: rgba(33, 150, 243, 0.1);">
                                <h5>Transport Layer</h5>
                                <p>TCP<br>Reliable delivery</p>
                            </div>
                            <div class="card" style="background: rgba(255, 152, 0, 0.1);">
                                <h5>Network Layer</h5>
                                <p>IP<br>Routing & addressing</p>
                            </div>
                            <div class="card" style="background: rgba(156, 39, 176, 0.1);">
                                <h5>Data Link Layer</h5>
                                <p>Ethernet/WiFi<br>Frame formatting</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            // Utility Functions
            createDevice(icon, x, y, className = '') {
                const device = document.createElement('div');
                device.className = `device hardware-accelerated ${className}`;
                device.style.left = x + 'px';
                device.style.top = y + 'px';
                device.innerHTML = icon;
                device.style.fontSize = '24px';
                return device;
            }

            createConnection(x1, y1, x2, y2) {
                const line = document.createElement('div');
                line.className = 'connection hardware-accelerated';
                
                const dx = x2 - x1;
                const dy = y2 - y1;
                const length = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                
                line.style.width = length + 'px';
                line.style.left = x1 + 'px';
                line.style.top = y1 + 'px';
                line.style.transform = `rotate(${angle}deg)`;
                
                return line;
            }

            // Enhanced Quiz System
            initializeQuizQuestions() {
                this.quizState.questions = [
                    {
                        question: "What type of network typically covers a single building or campus?",
                        options: ["WAN (Wide Area Network)", "LAN (Local Area Network)", "MAN (Metropolitan Area Network)", "PAN (Personal Area Network)"],
                        correct: 1,
                        explanation: "LAN (Local Area Network) covers a small geographical area like a building, campus, or home. It's designed for high-speed connections over short distances."
                    },
                    {
                        question: "Which network topology has a central connection point that all devices connect to?",
                        options: ["Bus Topology", "Ring Topology", "Star Topology", "Mesh Topology"],
                        correct: 2,
                        explanation: "Star topology has all devices connected to a central hub, switch, or router. This is the most common topology in modern networks."
                    },
                    {
                        question: "What is the main disadvantage of bus topology?",
                        options: [
                            "Too expensive to implement",
                            "Difficult to add new devices",
                            "Single point of failure (main cable)",
                            "Requires too many cables"
                        ],
                        correct: 2,
                        explanation: "In bus topology, if the main cable (backbone) fails, the entire network goes down. This single point of failure is its biggest weakness."
                    },
                    {
                        question: "Which factor does NOT significantly affect network performance?",
                        options: [
                            "Number of connected devices",
                            "Available bandwidth",
                            "Physical color of network cables",
                            "Network traffic load"
                        ],
                        correct: 2,
                        explanation: "Cable color is purely aesthetic and has no impact on network performance. The other factors all directly affect how well a network performs."
                    },
                    {
                        question: "In client-server architecture, which component provides services and resources?",
                        options: ["Client devices", "Server", "Router", "Switch"],
                        correct: 1,
                        explanation: "The server provides services, resources, and centralized management to client devices. Clients request and consume these services."
                    },
                    {
                        question: "Which networking device is primarily responsible for connecting a LAN to the internet?",
                        options: ["Switch", "Router", "Hub", "Repeater"],
                        correct: 1,
                        explanation: "A router connects different networks together, including connecting a LAN to a WAN (like the internet). It makes routing decisions based on IP addresses."
                    },
                    {
                        question: "What does IP stand for in networking?",
                        options: [
                            "Internet Protocol",
                            "Internal Process",
                            "Information Packet",
                            "Interface Program"
                        ],
                        correct: 0,
                        explanation: "IP stands for Internet Protocol. It's responsible for addressing and routing packets of data across networks, including the internet."
                    },
                    {
                        question: "Generally speaking, which connection type offers better speed and reliability?",
                        options: ["Wireless (WiFi)", "Wired (Ethernet)", "Both are exactly the same", "It depends on the weather"],
                        correct: 1,
                        explanation: "Wired Ethernet connections are generally faster, more stable, and more reliable than wireless connections. They're not subject to interference and offer dedicated bandwidth."
                    },
                    {
                        question: "Which protocol is primarily used for secure web browsing?",
                        options: ["HTTP", "HTTPS", "FTP", "SMTP"],
                        correct: 1,
                        explanation: "HTTPS (HTTP Secure) encrypts data between your browser and web servers, making it safe for sensitive activities like online banking and shopping."
                    },
                    {
                        question: "What is the main advantage of mesh topology?",
                        options: [
                            "It's the cheapest to implement",
                            "It requires the least amount of cable",
                            "It provides multiple redundant paths",
                            "It's the easiest to set up"
                        ],
                        correct: 2,
                        explanation: "Mesh topology provides multiple paths between devices, creating redundancy. If one path fails, data can take alternative routes, making it very reliable."
                    },
                    {
                        question: "Which layer of the OSI model handles web browsing protocols like HTTP?",
                        options: [
                            "Physical Layer",
                            "Network Layer", 
                            "Transport Layer",
                            "Application Layer"
                        ],
                        correct: 3,
                        explanation: "The Application Layer (Layer 7) handles user-facing protocols like HTTP for web browsing, SMTP for email, and FTP for file transfer."
                    },
                    {
                        question: "What is the primary difference between TCP and UDP protocols?",
                        options: [
                            "TCP is faster, UDP is more reliable",
                            "TCP is more reliable, UDP is faster", 
                            "TCP is for wireless, UDP is for wired",
                            "There is no significant difference"
                        ],
                        correct: 1,
                        explanation: "TCP provides reliable, ordered delivery with error checking, while UDP is faster but doesn't guarantee delivery. TCP is used for web browsing and email, UDP for gaming and streaming."
                    }
                ];
            }

            initQuiz() {
                // Quiz is initialized with questions, ready to start
            }

            startQuiz() {
                const container = document.getElementById('quizContainer');
                if (!container) return;
                
                container.innerHTML = '';
                this.quizState.answers = {};
                this.quizState.currentQuestion = 0;
                this.quizState.startTime = Date.now();
                
                this.quizState.questions.forEach((q, index) => {
                    const questionDiv = document.createElement('div');
                    questionDiv.style.marginBottom = '35px';
                    questionDiv.innerHTML = `
                        <h3 style="color: var(--primary); margin-bottom: 15px;">
                            Question ${index + 1} of ${this.quizState.questions.length}
                        </h3>
                        <p style="margin: 20px 0; font-size: 1.1em; line-height: 1.6;">${q.question}</p>
                        <div id="question${index}">
                            ${q.options.map((opt, i) => `
                                <div class="quiz-option" onclick="networkSim.selectQuizAnswer(${index}, ${i})">
                                    <strong>${String.fromCharCode(65 + i)}.</strong> ${opt}
                                </div>
                            `).join('')}
                        </div>
                    `;
                    container.appendChild(questionDiv);
                });
                
                document.getElementById('submitQuiz').style.display = 'inline-block';
                document.getElementById('reviewQuiz').style.display = 'none';
                document.getElementById('quizResults').style.display = 'none';
                
                // Scroll to quiz
                container.scrollIntoView({ behavior: 'smooth' });
            }

            selectQuizAnswer(questionIndex, optionIndex) {
                this.quizState.answers[questionIndex] = optionIndex;
                
                const options = document.querySelectorAll(`#question${questionIndex} .quiz-option`);
                options.forEach((opt, i) => {
                    opt.classList.remove('selected');
                    if (i === optionIndex) {
                        opt.classList.add('selected');
                    }
                });
            }

            showQuizResults() {
                let correct = 0;
                let feedback = '<h4 style="margin-bottom: 20px;">📋 Detailed Review</h4>';
                
                this.quizState.questions.forEach((q, index) => {
                    const userAnswer = this.quizState.answers[index];
                    const isCorrect = userAnswer === q.correct;
                    
                    if (isCorrect) correct++;
                    
                    // Update question styling
                    const options = document.querySelectorAll(`#question${index} .quiz-option`);
                    options.forEach((opt, i) => {
                        opt.classList.remove('selected');
                        if (i === q.correct) {
                            opt.classList.add('correct');
                        } else if (i === userAnswer && !isCorrect) {
                            opt.classList.add('incorrect');
                        }
                    });
                    
                    feedback += `
                        <div style="margin: 20px 0; padding: 15px; border-radius: 10px; background: ${isCorrect ? 'rgba(139, 195, 74, 0.1)' : 'rgba(244, 67, 54, 0.1)'};">
                            <p><strong>Q${index + 1}:</strong> ${isCorrect ? '✅ Correct' : '❌ Incorrect'}</p>
                            <p style="color: var(--text-secondary); margin-top: 8px;"><small>${q.explanation}</small></p>
                        </div>
                    `;
                });
                
                const score = Math.round((correct / this.quizState.questions.length) * 100);
                const timeTaken = Math.round((Date.now() - this.quizState.startTime) / 1000 / 60);
                
                // Determine grade and emoji
                let gradeEmoji = '🎉';
                let gradeText = 'Excellent work!';
                
                if (score >= 90) {
                    gradeEmoji = '🏆';
                    gradeText = 'Outstanding! You\'re a networking expert!';
                } else if (score >= 80) {
                    gradeEmoji = '🎉';
                    gradeText = 'Great job! You have a solid understanding.';
                } else if (score >= 70) {
                    gradeEmoji = '👍';
                    gradeText = 'Good work! Consider reviewing some topics.';
                } else if (score >= 60) {
                    gradeEmoji = '📚';
                    gradeText = 'Keep studying! You\'re on the right track.';
                } else {
                    gradeEmoji = '💪';
                    gradeText = 'Don\'t give up! Review the material and try again.';
                }
                
                document.getElementById('gradeEmoji').textContent = gradeEmoji;
                document.getElementById('gradeText').textContent = gradeText;
                document.getElementById('quizScore').textContent = score;
                document.getElementById('scoreBar').style.width = score + '%';
                document.getElementById('quizFeedback').innerHTML = feedback + 
                    `<p style="text-align: center; margin-top: 20px; font-style: italic;">
                        Time taken: ${timeTaken} minutes | Questions answered: ${Object.keys(this.quizState.answers).length}/${this.quizState.questions.length}
                    </p>`;
                
                document.getElementById('quizResults').style.display = 'block';
                document.getElementById('submitQuiz').style.display = 'none';
                document.getElementById('reviewQuiz').style.display = 'inline-block';
                
                // Scroll to results
                document.getElementById('quizResults').scrollIntoView({ behavior: 'smooth' });
            }

            reviewAnswers() {
                document.getElementById('quizContainer').scrollIntoView({ behavior: 'smooth' });
            }

            retryQuiz() {
                this.startQuiz();
                document.getElementById('quizResults').style.display = 'none';
                document.getElementById('reviewQuiz').style.display = 'none';
            }
        }

        // Global instance
        let networkSim;

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            networkSim = new NetworkSimulator();
        });

        // Global functions for backwards compatibility
        function showSection(sectionId) {
            if (networkSim) networkSim.showSection(sectionId);
        }

        function addDevice() {
            if (networkSim) networkSim.addDevice();
        }

        function sendPacket() {
            if (networkSim) networkSim.sendPacket();
        }

        function toggleConnections() {
            if (networkSim) networkSim.toggleConnections();
        }

        function clearNetwork() {
            if (networkSim) networkSim.clearNetwork();
        }

        function showTopology(type, event) {
            if (networkSim) networkSim.showTopology(type, event);
        }

        function simulateTopologyFailure() {
            if (networkSim) networkSim.simulateTopologyFailure();
        }

        function animateDataFlow() {
            if (networkSim) networkSim.animateDataFlow();
        }

        function resetTopology() {
            if (networkSim) networkSim.resetTopology();
        }

        function updatePerformance() {
            if (networkSim) networkSim.updatePerformance();
        }

        function runPerformanceTest() {
            if (networkSim) networkSim.runPerformanceTest();
        }

        function optimizeNetwork() {
            if (networkSim) networkSim.optimizeNetwork();
        }

        function resetPerformance() {
            if (networkSim) networkSim.resetPerformance();
        }

        function simulateClientServer() {
            if (networkSim) networkSim.simulateClientServer();
        }

        function simulateP2P() {
            if (networkSim) networkSim.simulateP2P();
        }

        function simulateLANTraffic() {
            if (networkSim) networkSim.simulateLANTraffic();
        }

        function simulateWANTraffic() {
            if (networkSim) networkSim.simulateWANTraffic();
        }

        function simulateDataTransfer() {
            if (networkSim) networkSim.simulateDataTransfer();
        }

        function showProtocolDetails() {
            if (networkSim) networkSim.showProtocolDetails();
        }

        function startQuiz() {
            if (networkSim) networkSim.startQuiz();
        }

        function showQuizResults() {
            if (networkSim) networkSim.showQuizResults();
        }

        function reviewAnswers() {
            if (networkSim) networkSim.reviewAnswers();
        }

        function retryQuiz() {
            if (networkSim) networkSim.retryQuiz();
        }

        // Handle browser back/forward
        window.addEventListener('popstate', (e) => {
            if (e.state && e.state.section && networkSim) {
                networkSim.showSection(e.state.section, false);
            }
        });

        // Performance optimizations
        window.addEventListener('load', () => {
            // Preload critical animations
            document.body.style.willChange = 'auto';
            
            // Lazy load non-critical elements
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('hardware-accelerated');
                    }
                });
            });
            
            document.querySelectorAll('.card, .device, .connection').forEach(el => {
                observer.observe(el);
            });
        });

        // Cleanup on unload
        window.addEventListener('beforeunload', () => {
            if (networkSim) {
                networkSim.animationFrames.forEach(frame => cancelAnimationFrame(frame));
            }
        });
    </script>
</body>
</html>