<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optical Storage (CD/DVD/Blu-ray) Simulation - GCSE Computer Science</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a1f 0%, #1a1a3e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Welcome Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a3e 0%, #2d2d5e 100%);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(59, 130, 246, 0.3);
            border: 2px solid #3b82f6;
            animation: modalSlide 0.5s ease-out;
        }

        @keyframes modalSlide {
            from {
                transform: translateY(-50px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .modal h2 {
            color: #60a5fa;
            margin-bottom: 20px;
            font-size: 2em;
            text-align: center;
            text-shadow: 0 0 20px rgba(96, 165, 250, 0.5);
        }

        .modal ul {
            list-style: none;
            margin: 20px 0;
        }

        .modal li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .modal li:before {
            content: "💿";
            position: absolute;
            left: 0;
        }

        .start-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: #fff;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            margin: 20px auto 0;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.6);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 2.5em;
            color: #60a5fa;
            text-shadow: 0 0 30px rgba(96, 165, 250, 0.5);
            margin-bottom: 10px;
        }

        .legend {
            background: rgba(34, 197, 94, 0.1);
            padding: 8px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
        }

        /* Control Panel */
        .control-panel {
            background: rgba(26, 26, 46, 0.8);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(10px);
        }

        .control-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: #fff;
            border: none;
            padding: 10px 25px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 15px rgba(59, 130, 246, 0.3);
        }

        .control-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.5);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 3px 15px rgba(16, 185, 129, 0.3);
        }

        .control-btn.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 3px 15px rgba(239, 68, 68, 0.3);
        }

        /* Disc Type Selector */
        .disc-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border-radius: 25px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .disc-selector label {
            color: #60a5fa;
            font-weight: bold;
        }

        .disc-selector select {
            background: #1a1a3e;
            color: #60a5fa;
            border: 1px solid #3b82f6;
            padding: 5px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
            outline: none;
        }

        .disc-selector select:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        /* Main Content Area */
        .main-content {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* Optical Disc Visualization */
        .disc-container {
            background: rgba(26, 26, 46, 0.8);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(10px);
            position: relative;
        }

        .disc-visual {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 500px;
            margin: 0 auto;
        }

        /* Main disc view */
        .disc-view {
            position: absolute;
            width: 250px;
            height: 250px;
            left: 50%;
            top: 20px;
            transform: translateX(-50%);
        }

        /* Disc */
        .disc {
            position: absolute;
            width: 250px;
            height: 250px;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                #c0c0c0 0deg,
                #e5e5e5 10deg,
                #c0c0c0 20deg,
                #e5e5e5 30deg,
                #c0c0c0 40deg,
                #e5e5e5 50deg,
                #c0c0c0 60deg
            );
            box-shadow: 
                0 0 30px rgba(0, 0, 0, 0.5),
                inset 0 0 20px rgba(255, 255, 255, 0.3);
            overflow: hidden;
        }

        .disc::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                circle at center,
                transparent 0%,
                transparent 15%,
                rgba(255, 255, 255, 0.1) 15%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(255, 255, 255, 0.1) 100%
            );
            border-radius: 50%;
        }

        /* Center hole */
        .center-hole {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #0a0a1f;
            border-radius: 50%;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.8);
        }

        /* Magnification area indicator */
        .magnification-area {
            position: absolute;
            width: 80px;
            height: 80px;
            border: 3px solid #60a5fa;
            border-radius: 50%;
            left: 50%;
            top: 40%;
            transform: translateX(-50%);
            background: rgba(96, 165, 250, 0.1);
            animation: magnifyPulse 3s ease-in-out infinite;
        }

        @keyframes magnifyPulse {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 1; }
            50% { transform: translateX(-50%) scale(1.1); opacity: 0.8; }
        }

        /* Arrow pointing from magnification area to bottom view */
        .magnification-arrow {
            position: absolute;
            left: 50%;
            top: 120px;
            transform: translateX(-50%);
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom, #60a5fa, transparent);
        }

        .magnification-arrow::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 12px solid #60a5fa;
        }

        /* Spinning animation */
        .disc.spinning {
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Speed indicator */
        .speed-indicator {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 12px;
        }

        /* Laser reading view - single panel showing the reading process */
        .laser-reading-view {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 500px;
            height: 200px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #60a5fa;
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }

        .reading-view-label {
            color: #60a5fa;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        /* Track visualization with laser */
        .track-view {
            flex: 1;
            position: relative;
            background: linear-gradient(to bottom, transparent, rgba(192, 192, 192, 0.2));
            border-radius: 5px;
            overflow: hidden;
        }

        /* Laser head in track view */
        .track-laser {
            position: absolute;
            top: -20px;
            left: 10px;
            width: 60px;
            height: 40px;
            background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
            border-radius: 5px;
            transition: left 0.3s ease-in-out;
            z-index: 10;
        }

        .track-laser-beam {
            position: absolute;
            left: 50%;
            top: 40px;
            transform: translateX(-50%);
            width: 4px;
            height: 0;
            opacity: 0;
            transition: all 0.3s;
        }

        .track-laser-beam.active {
            height: 60px;
            opacity: 1;
        }

        .track-laser-beam.cd {
            background: linear-gradient(to bottom, #dc2626, rgba(220, 38, 38, 0.3));
            box-shadow: 0 0 15px #dc2626;
        }

        .track-laser-beam.dvd {
            background: linear-gradient(to bottom, #ef4444, rgba(239, 68, 68, 0.3));
            box-shadow: 0 0 15px #ef4444;
        }

        .track-laser-beam.bluray {
            background: linear-gradient(to bottom, #3b82f6, rgba(59, 130, 246, 0.3));
            box-shadow: 0 0 15px #3b82f6;
        }

        /* Pits and lands on track */
        .track-surface {
            position: absolute;
            bottom: 40px;
            left: 0;
            right: 0;
            height: 40px;
            display: flex;
            justify-content: space-evenly;
            align-items: flex-end;
        }

        .track-bit {
            flex: 1;
            margin: 0 2px;
            position: relative;
        }

        .track-pit {
            height: 20px;
            background: #1a1a1a;
            border-radius: 0 0 50% 50%;
            box-shadow: inset 0 -3px 6px rgba(0, 0, 0, 0.8);
        }

        .track-land {
            height: 5px;
            background: linear-gradient(to bottom, #f0f0f0, #e5e5e5);
            box-shadow: 0 -2px 4px rgba(255, 255, 255, 0.8);
        }

        /* Binary display on track */
        .track-binary {
            position: absolute;
            bottom: 5px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-evenly;
            font-family: monospace;
            font-size: 20px;
            font-weight: bold;
        }

        .track-binary span {
            flex: 1;
            text-align: center;
            color: #22c55e;
            transition: all 0.3s;
        }

        .track-binary span.reading {
            color: #60a5fa;
            font-size: 24px;
            text-shadow: 0 0 10px #60a5fa;
        }

        /* Status display */
        .reading-status {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            color: #60a5fa;
        }

        /* Info Panel */
        .info-panel {
            background: rgba(26, 26, 46, 0.8);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(10px);
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            border: 1px solid #3b82f6;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .tab-btn:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateY(-1px);
        }

        .tab-btn.active {
            background: #3b82f6;
            color: #fff;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        /* Data Display */
        .data-display {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        /* Metrics Display */
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .metric {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .metric-label {
            font-size: 12px;
            color: #888;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 24px;
            color: #60a5fa;
            font-weight: bold;
        }

        /* Progress Bar */
        .progress-container {
            background: rgba(26, 26, 46, 0.8);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .progress-bar {
            background: rgba(0, 0, 0, 0.5);
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: bold;
        }

        /* Quiz Section */
        .quiz-container {
            background: rgba(26, 26, 46, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(10px);
        }

        .quiz-question {
            font-size: 18px;
            margin-bottom: 20px;
            color: #60a5fa;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
        }

        .quiz-option {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid #3b82f6;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: rgba(34, 197, 94, 0.3);
            border-color: #22c55e;
        }

        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.3);
            border-color: #ef4444;
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid #22c55e;
            color: #22c55e;
        }

        .quiz-feedback.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid #ef4444;
            color: #ef4444;
        }

        /* GCSE Summary */
        .gcse-summary {
            background: rgba(34, 197, 94, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        /* Beyond Spec Section */
        .beyond-spec {
            background: rgba(26, 26, 46, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(245, 158, 11, 0.3);
            backdrop-filter: blur(10px);
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 40px;
            bottom: -30px;
            width: 2px;
            background: #f59e0b;
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-dot {
            width: 60px;
            height: 60px;
            background: #f59e0b;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
        }

        .timeline-content {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .timeline-content h3 {
            color: #f59e0b;
            margin-bottom: 10px;
        }

        /* Sound Control */
        .sound-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(26, 26, 46, 0.9);
            padding: 10px;
            border-radius: 50%;
            border: 1px solid rgba(59, 130, 246, 0.3);
            cursor: pointer;
            transition: all 0.3s;
            z-index: 100;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sound-control:hover {
            transform: scale(1.1);
        }

        /* Cross-section view */
        .cross-section {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .layer {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 5px;
        }

        .layer-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            margin-right: 15px;
        }

        /* Warning styles */
        .warning {
            background: rgba(245, 158, 11, 0.1);
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .highlight-gcse {
            background: rgba(34, 197, 94, 0.1);
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0;
        }

        /* Damage visualization */
        .scratch {
            position: absolute;
            width: 3px;
            height: 100px;
            background: rgba(0, 0, 0, 0.8);
            transform: rotate(45deg);
            display: none;
            top: 50%;
            left: 50%;
            transform-origin: center;
        }

        .disc.damaged .scratch {
            display: block;
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .disc-visual {
                max-width: 100%;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }
            
            .disc-visual {
                max-width: 100%;
                height: 450px;
            }
            
            .disc-view {
                width: 200px;
                height: 200px;
            }
            
            .disc {
                width: 200px;
                height: 200px;
            }
            
            .control-panel {
                flex-direction: column;
            }
            
            .laser-reading-view {
                width: 95%;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Modal -->
    <div id="welcomeModal" class="modal">
        <div class="modal-content">
            <h2>💿 Welcome to the Optical Storage Simulator!</h2>
            <p>Discover how CDs, DVDs, and Blu-rays store data using lasers and optical technology!</p>
            
            <div class="highlight-gcse">
                ✅ <strong>GCSE Focus:</strong> This simulation covers J277 specification content about optical storage, with "Beyond Spec" content clearly marked.
            </div>
            
            <h3>📋 Instructions:</h3>
            <ul>
                <li>Select different disc types (CD, DVD, Blu-ray)</li>
                <li>Click "Write Data" to see the laser burn pits</li>
                <li>Click "Read Data" to watch how the laser detects 1s and 0s</li>
                <li>Try "Scratch Disc" to see why optical media is fragile</li>
                <li>Answer quiz questions to test your GCSE knowledge</li>
                <li>Explore the timeline for optical storage history</li>
            </ul>
            
            <p style="margin-top: 20px; text-align: center; color: #888;">
                💡 Tip: Watch how the laser creates pits (dark spots) and lands (reflective areas) to store binary data!
            </p>
            
            <button class="start-btn" onclick="closeModal()">Start Learning!</button>
        </div>
    </div>

    <!-- Sound Control -->
    <div class="sound-control" onclick="toggleSound()" title="Toggle Sound">
        <span id="soundIcon">🔊</span>
    </div>

    <div class="container">
        <header>
            <h1>Optical Storage Simulator</h1>
            <p>Understanding CD, DVD, and Blu-ray Technology</p>
            <div class="legend">
                <span style="color: #22c55e;">✅ GCSE Content</span> | <span style="color: #f59e0b;">⚠️ Beyond Spec Content</span>
            </div>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="disc-selector">
                <label for="discType">Disc Type:</label>
                <select id="discType" onchange="changeDiscType()">
                    <option value="cd">CD (700 MB)</option>
                    <option value="dvd">DVD (4.7 GB)</option>
                    <option value="bluray">Blu-ray (25 GB)</option>
                </select>
            </div>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button class="control-btn" onclick="writeData()">Write Data</button>
                <button class="control-btn" onclick="readData()">Read Data</button>
                <button class="control-btn secondary" onclick="showLayers()" title="Beyond GCSE Spec">Show Layers*</button>
                <button class="control-btn secondary" onclick="scratchDisc()">Scratch Disc</button>
                <button class="control-btn danger" onclick="resetSimulation()">Reset</button>
            </div>
        </div>
        <p style="text-align: center; font-size: 12px; color: #888; margin-top: -15px; margin-bottom: 25px;">
            * This feature is beyond GCSE specification
        </p>

        <!-- Progress Bar -->
        <div class="progress-container">
            <h3>Learning Progress</h3>
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill">0%</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Disc Visualization -->
            <div class="disc-container">
                <h3>Optical Disc Operation</h3>
                <div class="disc-visual">
                    <!-- Main disc view -->
                    <div class="disc-view">
                        <div id="disc" class="disc">
                            <div class="center-hole"></div>
                            <div class="scratch" style="transform: rotate(45deg) translate(-50%, -50%);"></div>
                            <div class="scratch" style="transform: rotate(-30deg) translate(-50%, -50%);"></div>
                        </div>
                        <div class="magnification-area"></div>
                        <div class="magnification-arrow"></div>
                        <div class="speed-indicator" id="speedIndicator">0 RPM</div>
                    </div>
                    
                    <!-- Laser reading view -->
                    <div class="laser-reading-view">
                        <div class="reading-view-label">Laser Reading View - Magnified Track Section</div>
                        <div class="reading-status" id="readingStatus">Ready</div>
                        
                        <div class="track-view">
                            <div id="trackLaser" class="track-laser">
                                <div id="trackLaserBeam" class="track-laser-beam cd"></div>
                            </div>
                            
                            <div class="track-surface">
                                <div class="track-bit">
                                    <div class="track-pit"></div>
                                </div>
                                <div class="track-bit">
                                    <div class="track-land"></div>
                                </div>
                                <div class="track-bit">
                                    <div class="track-pit"></div>
                                </div>
                                <div class="track-bit">
                                    <div class="track-land"></div>
                                </div>
                                <div class="track-bit">
                                    <div class="track-land"></div>
                                </div>
                                <div class="track-bit">
                                    <div class="track-pit"></div>
                                </div>
                                <div class="track-bit">
                                    <div class="track-land"></div>
                                </div>
                                <div class="track-bit">
                                    <div class="track-pit"></div>
                                </div>
                            </div>
                            
                            <div class="track-binary">
                                <span>0</span>
                                <span>1</span>
                                <span>0</span>
                                <span>1</span>
                                <span>1</span>
                                <span>0</span>
                                <span>1</span>
                                <span>0</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Metrics Display -->
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-label">Capacity ✅</div>
                        <div class="metric-value" id="capacity">700 MB</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Laser Type</div>
                        <div class="metric-value" id="laserType">Infrared</div>
                    </div>
                    <div class="metric" style="opacity: 0.7;">
                        <div class="metric-label">Speed <small>(Beyond)</small></div>
                        <div class="metric-value" id="speed">1x</div>
                    </div>
                    <div class="metric" style="opacity: 0.7;">
                        <div class="metric-label">Layers <small>(Beyond)</small></div>
                        <div class="metric-value" id="layers">1</div>
                    </div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="showTab('operation')">How It Works</button>
                    <button class="tab-btn" onclick="showTab('types')">Disc Types</button>
                    <button class="tab-btn" onclick="showTab('pros-cons')">Pros & Cons</button>
                    <button class="tab-btn" onclick="showTab('comparison')">Storage Comparison</button>
                    <button class="tab-btn" onclick="showTab('structure')">Disc Structure</button>
                </div>
                
                <div id="operation" class="tab-content active">
                    <h3>How Optical Storage Works</h3>
                    <div class="highlight-gcse">
                        ✅ <strong>GCSE Key Points:</strong> Optical storage uses lasers to read/write data, is portable, cheap to produce, but easily damaged.
                    </div>
                    <p>Optical discs store data using microscopic pits and lands:</p>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li><strong>Laser:</strong> Reads and writes data by detecting reflection changes</li>
                        <li><strong>Pits:</strong> Burned/pressed areas that scatter light (represent 0s)</li>
                        <li><strong>Lands:</strong> Flat areas that reflect light (represent 1s)</li>
                        <li><strong>Spiral Track:</strong> Data stored from center outward in a continuous spiral</li>
                    </ul>
                    
                    <div class="data-display">
                        <h4>Current Operation:</h4>
                        <p id="operationStatus">Idle - Click buttons to see optical storage in action</p>
                    </div>
                    
                    <div class="warning">
                        ⚠️ <strong>Beyond GCSE:</strong> The specific laser wavelengths, layer structures, and detailed mechanics shown here are for deeper understanding. For GCSE, focus on: lasers read data, pits scatter light (0s), lands reflect light (1s), and discs are easily damaged.
                    </div>
                </div>
                
                <div id="types" class="tab-content">
                    <h3>Types of Optical Discs</h3>
                    <table style="width: 100%; margin-top: 15px; border-collapse: collapse;">
                        <tr style="border-bottom: 1px solid #3b82f6;">
                            <th style="padding: 10px;">Type</th>
                            <th style="padding: 10px;">Capacity ✅</th>
                            <th style="padding: 10px;">Use ✅</th>
                            <th style="padding: 10px;">Laser <small>(Beyond)</small></th>
                        </tr>
                        <tr>
                            <td style="padding: 10px;"><strong>CD</strong></td>
                            <td style="padding: 10px;">700 MB</td>
                            <td style="padding: 10px;">Audio, small files</td>
                            <td style="padding: 10px; opacity: 0.7;">Infrared (780nm)</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;"><strong>DVD</strong></td>
                            <td style="padding: 10px;">4.7-8.5 GB</td>
                            <td style="padding: 10px;">Video, software</td>
                            <td style="padding: 10px; opacity: 0.7;">Red (650nm)</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;"><strong>Blu-ray</strong></td>
                            <td style="padding: 10px;">25-50 GB</td>
                            <td style="padding: 10px;">HD video, games</td>
                            <td style="padding: 10px; opacity: 0.7;">Blue (405nm)</td>
                        </tr>
                    </table>
                    
                    <h4 style="margin-top: 20px;">Media Types:</h4>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li><strong>ROM:</strong> Read Only - Data pressed at manufacture ✅</li>
                        <li><strong>R:</strong> Recordable - Write once ✅</li>
                        <li><strong>RW:</strong> Rewritable - Write multiple times ✅</li>
                    </ul>
                </div>
                
                <div id="pros-cons" class="tab-content">
                    <h3>Advantages of Optical Storage <span style="color: #22c55e; font-size: 14px;">(GCSE Content)</span></h3>
                    <ul style="margin: 15px 0; padding-left: 20px; color: #22c55e;">
                        <li>Very cheap to produce in bulk ✅</li>
                        <li>Portable and lightweight ✅</li>
                        <li>Good for distribution (software, music, movies) ✅</li>
                        <li>Long shelf life if stored properly ✅</li>
                        <li>Universal - works in many devices ✅</li>
                    </ul>
                    
                    <h3 style="margin-top: 20px;">Disadvantages of Optical Storage <span style="color: #22c55e; font-size: 14px;">(GCSE Content)</span></h3>
                    <ul style="margin: 15px 0; padding-left: 20px; color: #ef4444;">
                        <li>Easily scratched or damaged ✅</li>
                        <li>Slower than HDDs and SSDs ✅</li>
                        <li>Limited capacity compared to modern storage ✅</li>
                        <li>Requires optical drive (many modern devices don't have one) ✅</li>
                        <li>Not suitable for frequent rewriting ✅</li>
                    </ul>
                </div>
                
                <div id="comparison" class="tab-content">
                    <h3>Storage Technology Comparison</h3>
                    <div class="highlight-gcse">
                        ✅ All comparisons below are part of the J277 GCSE specification
                    </div>
                    <table style="width: 100%; margin-top: 15px; border-collapse: collapse;">
                        <tr style="border-bottom: 1px solid #3b82f6;">
                            <th style="padding: 10px;">Feature</th>
                            <th style="padding: 10px;">Optical</th>
                            <th style="padding: 10px;">HDD</th>
                            <th style="padding: 10px;">SSD</th>
                        </tr>
                        <tr style="background: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px;"><strong>Speed</strong></td>
                            <td style="padding: 10px; color: #ef4444;">Slowest</td>
                            <td style="padding: 10px; color: #f59e0b;">Medium</td>
                            <td style="padding: 10px; color: #22c55e;">Fastest</td>
                        </tr>
                        <tr style="background: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px;"><strong>Capacity</strong></td>
                            <td style="padding: 10px; color: #ef4444;">Lowest</td>
                            <td style="padding: 10px; color: #22c55e;">Highest</td>
                            <td style="padding: 10px; color: #f59e0b;">Medium</td>
                        </tr>
                        <tr style="background: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px;"><strong>Cost</strong></td>
                            <td style="padding: 10px; color: #22c55e;">Cheapest</td>
                            <td style="padding: 10px; color: #22c55e;">Cheap</td>
                            <td style="padding: 10px; color: #ef4444;">Expensive</td>
                        </tr>
                        <tr style="background: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px;"><strong>Portability</strong></td>
                            <td style="padding: 10px; color: #22c55e;">Excellent</td>
                            <td style="padding: 10px; color: #ef4444;">Poor</td>
                            <td style="padding: 10px; color: #f59e0b;">Good</td>
                        </tr>
                        <tr style="background: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px;"><strong>Durability</strong></td>
                            <td style="padding: 10px; color: #ef4444;">Fragile</td>
                            <td style="padding: 10px; color: #f59e0b;">Mechanical</td>
                            <td style="padding: 10px; color: #22c55e;">Robust</td>
                        </tr>
                    </table>
                </div>
                
                <div id="structure" class="tab-content">
                    <h3>Disc Structure <span style="color: #f59e0b; font-size: 14px;">(Beyond GCSE Spec)</span></h3>
                    <div class="cross-section">
                        <h4>CD/DVD/Blu-ray Layers:</h4>
                        <div class="layer">
                            <div class="layer-color" style="background: #4a5568;"></div>
                            <div>Label/Print Layer - Protects and identifies disc</div>
                        </div>
                        <div class="layer">
                            <div class="layer-color" style="background: #cbd5e0;"></div>
                            <div>Protective Lacquer - Prevents oxidation</div>
                        </div>
                        <div class="layer">
                            <div class="layer-color" style="background: #fbbf24;"></div>
                            <div>Reflective Layer - Aluminum/Gold/Silver</div>
                        </div>
                        <div class="layer">
                            <div class="layer-color" style="background: #3b82f6;"></div>
                            <div>Recording Layer - Where pits are formed</div>
                        </div>
                        <div class="layer">
                            <div class="layer-color" style="background: rgba(255,255,255,0.3);"></div>
                            <div>Polycarbonate Base - Clear plastic substrate</div>
                        </div>
                    </div>
                    <p style="margin-top: 15px; font-size: 12px; color: #888;">
                        Laser reads through the clear polycarbonate from bottom to top
                    </p>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-container">
            <h3>Test Your Knowledge! <span style="color: #22c55e; font-size: 14px;">(GCSE J277 Standard)</span></h3>
            <div id="quizContent">
                <p class="quiz-question" id="quizQuestion">Click "Next Question" to begin the quiz!</p>
                <div class="quiz-options" id="quizOptions"></div>
                <div class="quiz-feedback" id="quizFeedback"></div>
                <button class="control-btn" onclick="nextQuestion()" style="margin-top: 20px;">Next Question</button>
            </div>
        </div>

        <!-- GCSE Summary Section -->
        <div class="gcse-summary">
            <h2 style="color: #22c55e; margin-bottom: 20px;">📚 GCSE J277 Key Points Summary</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div>
                    <h4 style="color: #22c55e;">Optical Storage Advantages ✅</h4>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>Very cheap to produce</li>
                        <li>Highly portable</li>
                        <li>Good for distribution</li>
                        <li>Universal compatibility</li>
                        <li>Long shelf life</li>
                    </ul>
                </div>
                <div>
                    <h4 style="color: #ef4444;">Optical Storage Disadvantages ❌</h4>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>Easily damaged (scratches)</li>
                        <li>Slowest storage type</li>
                        <li>Limited capacity</li>
                        <li>Needs optical drive</li>
                    </ul>
                </div>
            </div>
            <p style="margin-top: 20px; text-align: center; font-style: italic;">
                Remember: Optical storage is best for distributing content cheaply, not for regular data storage!
            </p>
        </div>

        <!-- Beyond Spec Section -->
        <div class="beyond-spec">
            <h2 style="color: #f59e0b; margin-bottom: 20px;">📚 Beyond the Specification <span style="font-size: 16px;">(Not Required for J277)</span></h2>
            <p style="margin-bottom: 20px;">Explore the evolution of optical storage technology:</p>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-dot">1982</div>
                    <div class="timeline-content">
                        <h3>Compact Disc (CD)</h3>
                        <p>Sony and Philips launch the CD for digital audio - 74 minutes to fit Beethoven's 9th Symphony</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">1985</div>
                    <div class="timeline-content">
                        <h3>CD-ROM</h3>
                        <p>CD adapted for computer data storage - revolutionizes software distribution</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">1996</div>
                    <div class="timeline-content">
                        <h3>DVD Launch</h3>
                        <p>Digital Versatile Disc - 7x capacity of CD using red laser and tighter spiral</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2006</div>
                    <div class="timeline-content">
                        <h3>Blu-ray Victory</h3>
                        <p>Blu-ray wins format war against HD-DVD - blue laser enables HD video storage</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2010s</div>
                    <div class="timeline-content">
                        <h3>Decline Begins</h3>
                        <p>Streaming and cloud storage reduce optical media use - many PCs ship without drives</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">2016</div>
                    <div class="timeline-content">
                        <h3>Ultra HD Blu-ray</h3>
                        <p>4K video support with up to 100GB capacity using triple-layer discs</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot">Future</div>
                    <div class="timeline-content">
                        <h3>Archival Storage</h3>
                        <p>Optical remains viable for long-term archival - M-DISC claims 1000-year lifespan</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let soundEnabled = true;
        let currentQuestionIndex = 0;
        let score = 0;
        let progress = 0;
        let isSpinning = false;
        let isDamaged = false;
        let currentDiscType = 'cd';

        // Disc specifications
        const discTypes = {
            cd: {
                name: "Compact Disc",
                capacity: "700 MB",
                laserType: "Infrared",
                laserColor: "#dc2626",
                wavelength: "780nm",
                layers: 1,
                year: 1982,
                speed: "1x-52x"
            },
            dvd: {
                name: "Digital Versatile Disc",
                capacity: "4.7 GB",
                laserType: "Red",
                laserColor: "#ef4444",
                wavelength: "650nm",
                layers: "1-2",
                year: 1996,
                speed: "1x-16x"
            },
            bluray: {
                name: "Blu-ray Disc",
                capacity: "25 GB",
                laserType: "Blue",
                laserColor: "#3b82f6",
                wavelength: "405nm",
                layers: "1-4",
                year: 2006,
                speed: "1x-16x"
            }
        };

        // Quiz questions (GCSE J277 Standard)
        const quizQuestions = [
            {
                question: "What is the main advantage of optical storage for software companies?",
                options: [
                    "It's the fastest storage type",
                    "Very cheap to mass produce",
                    "Highest storage capacity",
                    "Never gets damaged"
                ],
                correct: 1,
                feedback: "Correct! Optical discs are very cheap to manufacture in bulk, making them ideal for distributing software, games, and media."
            },
            {
                question: "What is a major disadvantage of optical storage?",
                options: [
                    "Too expensive to buy",
                    "Makes too much noise",
                    "Easily damaged by scratches",
                    "Uses too much power"
                ],
                correct: 2,
                feedback: "Correct! Optical discs are easily damaged by scratches, fingerprints, or dirt, which can make data unreadable."
            },
            {
                question: "How does optical storage read data?",
                options: [
                    "Using magnetic fields",
                    "Using a laser to detect pits and lands",
                    "Using electrical charges",
                    "Using mechanical pins"
                ],
                correct: 1,
                feedback: "Correct! A laser beam reads the disc by detecting the difference between pits (non-reflective) and lands (reflective) on the disc surface."
            },
            {
                question: "Which optical disc type has the highest capacity?",
                options: [
                    "CD",
                    "DVD", 
                    "Blu-ray",
                    "They're all the same"
                ],
                correct: 2,
                feedback: "Correct! Blu-ray discs can store 25-50GB (or more), compared to DVDs (4.7-8.5GB) and CDs (700MB)."
            },
            {
                question: "Why is optical storage good for distributing movies and software?",
                options: [
                    "It's rewritable many times",
                    "It's portable and cheap to produce",
                    "It's the fastest storage type",
                    "It never needs a special drive"
                ],
                correct: 1,
                feedback: "Correct! Optical discs are lightweight, portable, and very cheap to mass produce, perfect for distribution."
            }
        ];

        // Initialize
        function closeModal() {
            document.getElementById('welcomeModal').style.display = 'none';
            startSpinning();
            updateProgress(10);
        }

        // Start disc spinning
        function startSpinning() {
            const disc = document.getElementById('disc');
            disc.classList.add('spinning');
            isSpinning = true;
            updateRPM();
        }

        // Update RPM display
        function updateRPM() {
            const speedIndicator = document.getElementById('speedIndicator');
            const disc = document.getElementById('disc');
            
            if (isSpinning) {
                let rpm = currentDiscType === 'cd' ? '500' : currentDiscType === 'dvd' ? '1600' : '5000';
                speedIndicator.textContent = rpm + ' RPM';
                disc.style.animationDuration = currentDiscType === 'cd' ? '2s' : currentDiscType === 'dvd' ? '1.5s' : '1s';
            } else {
                speedIndicator.textContent = '0 RPM';
            }
        }

        // Sound toggle
        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundIcon').textContent = soundEnabled ? '🔊' : '🔇';
        }

        function playSound(type) {
            if (!soundEnabled) return;
            console.log(`Playing sound: ${type}`);
        }

        // Change disc type
        function changeDiscType() {
            const selector = document.getElementById('discType');
            currentDiscType = selector.value;
            const discInfo = discTypes[currentDiscType];
            
            // Update display
            document.getElementById('capacity').textContent = discInfo.capacity;
            document.getElementById('laserType').textContent = discInfo.laserType;
            document.getElementById('speed').textContent = discInfo.speed;
            document.getElementById('layers').textContent = discInfo.layers;
            
            // Update laser beam color
            const trackLaserBeam = document.getElementById('trackLaserBeam');
            trackLaserBeam.className = `track-laser-beam ${currentDiscType}`;
            
            // Update status
            document.getElementById('operationStatus').textContent = 
                `Switched to ${discInfo.name} - ${discInfo.capacity} capacity using ${discInfo.laserType.toLowerCase()} laser`;
            
            updateRPM();
            updateProgress(5);
            playSound('click');
        }

        // Write data operation
        function writeData() {
            const trackLaser = document.getElementById('trackLaser');
            const trackLaserBeam = document.getElementById('trackLaserBeam');
            const binaryDisplay = document.querySelectorAll('.track-binary span');
            const trackBits = document.querySelectorAll('.track-bit');
            const disc = document.getElementById('disc');
            
            // Ensure disc is spinning
            if (!disc.classList.contains('spinning')) {
                disc.classList.add('spinning');
            }
            
            trackLaserBeam.classList.add('active');
            document.getElementById('readingStatus').textContent = 'Writing...';
            
            // Animate writing process
            let index = 0;
            const writeInterval = setInterval(() => {
                if (index < trackBits.length) {
                    // Move laser
                    const laserPosition = 10 + (index * 50);
                    trackLaser.style.left = laserPosition + 'px';
                    
                    // Highlight current position
                    binaryDisplay[index].classList.add('reading');
                    
                    // Randomly decide if it's a pit or land
                    const isPit = Math.random() > 0.5;
                    const feature = trackBits[index].firstElementChild;
                    
                    if (isPit) {
                        feature.className = 'track-pit';
                        binaryDisplay[index].textContent = '0';
                    } else {
                        feature.className = 'track-land';
                        binaryDisplay[index].textContent = '1';
                    }
                    
                    // Flash the laser
                    trackLaserBeam.style.opacity = '0.5';
                    setTimeout(() => {
                        trackLaserBeam.style.opacity = '1';
                        binaryDisplay[index].classList.remove('reading');
                        index++;
                    }, 200);
                } else {
                    clearInterval(writeInterval);
                    trackLaserBeam.classList.remove('active');
                    trackLaser.style.left = '10px';
                    document.getElementById('readingStatus').textContent = 'Write Complete';
                    document.getElementById('operationStatus').textContent = 
                        'Write complete! Laser has burned pits into the recording layer to represent 0s.';
                    updateProgress(15);
                }
            }, 300);
            
            document.getElementById('operationStatus').textContent = 
                `Writing data to ${discTypes[currentDiscType].name}... Laser burning pits for 0s, leaving lands for 1s`;
            
            playSound('write');
        }

        // Read data operation
        function readData() {
            if (isDamaged) {
                document.getElementById('operationStatus').textContent = 
                    'Read error! Disc is damaged - scratches prevent laser from reading data correctly.';
                document.getElementById('readingStatus').textContent = 'Read Error!';
                playSound('error');
                return;
            }
            
            const trackLaser = document.getElementById('trackLaser');
            const trackLaserBeam = document.getElementById('trackLaserBeam');
            const binaryDisplay = document.querySelectorAll('.track-binary span');
            const trackBits = document.querySelectorAll('.track-bit');
            const disc = document.getElementById('disc');
            
            // Ensure disc is spinning
            if (!disc.classList.contains('spinning')) {
                disc.classList.add('spinning');
            }
            
            trackLaserBeam.classList.add('active');
            document.getElementById('readingStatus').textContent = 'Reading...';
            
            // Animate reading process
            let index = 0;
            const readInterval = setInterval(() => {
                if (index < trackBits.length) {
                    // Move laser
                    const laserPosition = 10 + (index * 50);
                    trackLaser.style.left = laserPosition + 'px';
                    
                    // Highlight current position
                    binaryDisplay[index].classList.add('reading');
                    
                    // Check if it's a pit or land
                    const isPit = trackBits[index].firstElementChild.className.includes('pit');
                    
                    // Show reflection difference
                    if (isPit) {
                        trackLaserBeam.style.opacity = '0.3'; // Weak reflection
                        document.getElementById('readingStatus').textContent = 'Pit detected: 0';
                    } else {
                        trackLaserBeam.style.opacity = '1'; // Strong reflection
                        document.getElementById('readingStatus').textContent = 'Land detected: 1';
                    }
                    
                    setTimeout(() => {
                        binaryDisplay[index].classList.remove('reading');
                        index++;
                    }, 200);
                } else {
                    clearInterval(readInterval);
                    trackLaserBeam.classList.remove('active');
                    trackLaser.style.left = '10px';
                    document.getElementById('readingStatus').textContent = 'Read Complete';
                    document.getElementById('operationStatus').textContent = 
                        'Read complete! Laser detected strong reflection from lands (1s) and weak reflection from pits (0s).';
                    updateProgress(10);
                }
            }, 300);
            
            document.getElementById('operationStatus').textContent = 
                `Reading data from ${discTypes[currentDiscType].name}... Laser detecting reflection differences`;
            
            playSound('read');
        }

        // Show disc layers
        function showLayers() {
            document.getElementById('operationStatus').textContent = 
                '[Beyond GCSE] Showing disc layer structure - data is stored in the recording layer';
            showTab('structure');
            updateProgress(5);
        }

        // Scratch disc
        function scratchDisc() {
            const disc = document.getElementById('disc');
            const scratches = disc.querySelectorAll('.scratch');
            
            if (!isDamaged) {
                scratches.forEach(scratch => scratch.style.display = 'block');
                isDamaged = true;
                document.getElementById('operationStatus').textContent = 
                    'Disc scratched! This demonstrates why optical media must be handled carefully.';
            } else {
                scratches.forEach(scratch => scratch.style.display = 'none');
                isDamaged = false;
                document.getElementById('operationStatus').textContent = 
                    'Disc repaired. In reality, deep scratches often cause permanent data loss.';
            }
            
            updateProgress(10);
            playSound('scratch');
        }

        // Tab functionality
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            
            // Find and activate the clicked button
            document.querySelectorAll('.tab-btn').forEach(btn => {
                if (btn.getAttribute('onclick').includes(tabName)) {
                    btn.classList.add('active');
                }
            });
            
            updateProgress(5);
        }

        // Quiz functionality
        function nextQuestion() {
            if (currentQuestionIndex >= quizQuestions.length) {
                currentQuestionIndex = 0;
            }
            
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('quizQuestion').textContent = question.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'quiz-option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => checkAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('quizFeedback').classList.remove('show');
            currentQuestionIndex++;
        }

        function checkAnswer(selectedIndex) {
            const question = quizQuestions[currentQuestionIndex - 1];
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quizFeedback');
            
            options.forEach(option => option.style.pointerEvents = 'none');
            
            if (selectedIndex === question.correct) {
                options[selectedIndex].classList.add('correct');
                feedback.className = 'quiz-feedback correct show';
                feedback.innerHTML = `<strong>✅ Correct!</strong> ${question.feedback}`;
                score++;
                updateProgress(15);
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[question.correct].classList.add('correct');
                feedback.className = 'quiz-feedback incorrect show';
                feedback.innerHTML = `<strong>❌ Not quite.</strong> ${question.feedback}`;
            }
        }

        // Progress tracking
        function updateProgress(amount) {
            progress = Math.min(progress + amount, 100);
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = progress + '%';
            progressFill.textContent = progress + '%';
        }

        // Reset simulation
        function resetSimulation() {
            location.reload();
        }

        // Initialize on load
        window.onload = function() {
            changeDiscType();
            
            // Set initial pit/land pattern
            const trackBits = document.querySelectorAll('.track-bit');
            const binaryDisplay = document.querySelectorAll('.track-binary span');
            const pattern = [0, 1, 0, 1, 1, 0, 1, 0]; // Initial pattern
            
            trackBits.forEach((bit, index) => {
                if (index < pattern.length) {
                    const element = bit.firstElementChild;
                    if (pattern[index] === 0) {
                        element.className = 'track-pit';
                    } else {
                        element.className = 'track-land';
                    }
                }
            });
        };
    </script>
</body>
</html>