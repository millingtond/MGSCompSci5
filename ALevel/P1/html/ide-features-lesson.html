<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrated Development Environments (IDEs)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .nav-bar {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .nav-button.active {
            background: #764ba2;
        }

        .xp-display {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .learning-outcomes {
            background: #e0f2fe;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .learning-outcomes h3 {
            color: #0369a1;
            margin-bottom: 10px;
        }

        .learning-outcomes ul {
            list-style-type: none;
            padding-left: 0;
        }

        .learning-outcomes li {
            padding: 5px 0;
            padding-left: 25px;
            position: relative;
        }

        .learning-outcomes li:before {
            content: "‚úì";
            color: #10b981;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .task-container {
            background: #f9fafb;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #e5e7eb;
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .task-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #4b5563;
        }

        .reset-button {
            background: #ef4444;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .reset-button:hover {
            background: #dc2626;
        }

        .ide-simulator {
            background: #1e293b;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .ide-menubar {
            background: #334155;
            padding: 10px;
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #e2e8f0;
        }

        .ide-toolbar {
            background: #475569;
            padding: 10px;
            display: flex;
            gap: 10px;
        }

        .ide-button {
            background: #64748b;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .ide-button:hover {
            background: #475569;
        }

        .ide-main {
            display: flex;
            height: 400px;
        }

        .ide-sidebar {
            background: #1e293b;
            width: 200px;
            padding: 10px;
            color: #e2e8f0;
            border-right: 1px solid #334155;
        }

        .ide-editor {
            flex: 1;
            background: #0f172a;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #e2e8f0;
            overflow-y: auto;
            position: relative;
        }

        .code-line {
            padding: 2px 0;
            position: relative;
            display: flex;
            align-items: center;
        }

        .line-number {
            color: #64748b;
            width: 40px;
            display: inline-block;
            text-align: right;
            margin-right: 20px;
            user-select: none;
        }

        .code-content {
            flex: 1;
        }

        .breakpoint {
            position: absolute;
            left: 50px;
            width: 10px;
            height: 10px;
            background: #ef4444;
            border-radius: 50%;
            cursor: pointer;
        }

        .current-line {
            background: rgba(59, 130, 246, 0.2);
            border-left: 3px solid #3b82f6;
        }

        .error-line {
            background: rgba(239, 68, 68, 0.1);
            text-decoration: underline wavy #ef4444;
        }

        .autocomplete-popup {
            position: absolute;
            background: #334155;
            border: 1px solid #475569;
            border-radius: 5px;
            padding: 5px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
        }

        .autocomplete-item {
            padding: 5px 15px;
            cursor: pointer;
            color: #e2e8f0;
        }

        .autocomplete-item:hover {
            background: #475569;
        }

        .ide-console {
            background: #0f172a;
            height: 150px;
            padding: 15px;
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            border-top: 1px solid #334155;
            overflow-y: auto;
        }

        .debug-panel {
            background: #1e293b;
            width: 250px;
            padding: 15px;
            color: #e2e8f0;
            border-left: 1px solid #334155;
        }

        .debug-section {
            margin-bottom: 20px;
        }

        .debug-section h4 {
            color: #94a3b8;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .variable-watch {
            background: #0f172a;
            padding: 8px;
            border-radius: 5px;
            margin: 5px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }

        .collapsible {
            cursor: pointer;
            user-select: none;
            position: relative;
            padding-left: 20px;
        }

        .collapsible:before {
            content: '‚ñ∂';
            position: absolute;
            left: 5px;
            transition: transform 0.3s ease;
        }

        .collapsible.expanded:before {
            transform: rotate(90deg);
        }

        .collapsed-content {
            display: none;
            margin-left: 20px;
        }

        .multiple-choice {
            margin: 20px 0;
        }

        .mc-option {
            background: #f3f4f6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .mc-option:hover {
            background: #e5e7eb;
            border-color: #9ca3af;
        }

        .mc-option.selected {
            background: #dbeafe;
            border-color: #3b82f6;
        }

        .mc-option.correct {
            background: #d1fae5;
            border-color: #10b981;
        }

        .mc-option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
        }

        .drag-container {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .drag-item {
            background: #3b82f6;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .drag-item:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }

        .drag-item.used {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .drop-zone {
            min-height: 50px;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .drop-zone.highlight {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .drop-zone.filled {
            background: #dbeafe;
            border-style: solid;
            border-color: #3b82f6;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .button:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }

        .button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        .feedback-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .feedback-button:hover {
            transform: scale(1.1);
            background: #059669;
        }

        .feedback-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .feedback-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .achievement-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            z-index: 3000;
            display: none;
            animation: slideIn 0.5s ease, slideOut 0.5s ease 3s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(400px); }
        }

        .hint-button {
            background: #f59e0b;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .hint-button:hover {
            background: #d97706;
        }

        .hint-box {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
        }

        .paste-shame {
            background: #fee2e2;
            border: 2px solid #ef4444;
            color: #991b1b;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .nav-arrows {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }

        .arrow-button {
            background: #6b7280;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .arrow-button:hover {
            background: #4b5563;
            transform: translateX(-5px);
        }

        .arrow-button.next:hover {
            transform: translateX(5px);
        }

        .arrow-button:disabled {
            background: #d1d5db;
            cursor: not-allowed;
            transform: none;
        }

        .feature-card {
            background: #f0f9ff;
            border: 2px solid #0284c7;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .feature-card h4 {
            color: #0369a1;
            margin-bottom: 10px;
        }

        .common-mistakes {
            background: #fee2e2;
            border: 2px solid #ef4444;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .common-mistakes h3 {
            color: #dc2626;
            margin-bottom: 15px;
        }

        .real-world-context {
            background: #e0f2fe;
            border: 2px solid #0284c7;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .real-world-context h3 {
            color: #0369a1;
            margin-bottom: 15px;
        }

        .extension-section {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .extension-section h3 {
            color: #d97706;
            margin-bottom: 15px;
        }

        .mark-scheme {
            background: #f0fdf4;
            border: 2px solid #10b981;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .mark-scheme h4 {
            color: #059669;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .canvas-container {
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            background: white;
        }

        #drawingCanvas {
            display: block;
            cursor: crosshair;
            touch-action: none;
        }

        .canvas-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .keyword-highlight {
            color: #3b82f6;
            font-weight: bold;
        }

        .string-highlight {
            color: #10b981;
        }

        .comment-highlight {
            color: #6b7280;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .nav-bar {
                flex-direction: column;
                gap: 15px;
            }

            .ide-main {
                flex-direction: column;
                height: auto;
            }

            .ide-sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #334155;
            }

            .debug-panel {
                width: 100%;
                border-left: none;
                border-top: 1px solid #334155;
            }

            .feedback-content {
                padding: 20px;
            }
        }

        .sequencing-container {
            margin: 20px 0;
        }

        .sequence-item {
            background: #e0e7ff;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: move;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sequence-item:hover {
            background: #c7d2fe;
            transform: translateX(5px);
        }

        .sequence-number {
            background: #4338ca;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip-text {
            visibility: hidden;
            background: #1f2937;
            color: white;
            text-align: center;
            padding: 8px 12px;
            border-radius: 6px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
            white-space: nowrap;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Integrated Development Environments (IDEs)</h1>
            <p>Cambridge A Level Computer Science (9618)</p>
        </div>

        <div class="nav-bar">
            <div class="nav-buttons">
                <button class="nav-button active" onclick="showSection(0)">Starter</button>
                <button class="nav-button" onclick="showSection(1)">Introduction</button>
                <button class="nav-button" onclick="showSection(2)">Coding Features</button>
                <button class="nav-button" onclick="showSection(3)">Error Detection</button>
                <button class="nav-button" onclick="showSection(4)">Presentation</button>
                <button class="nav-button" onclick="showSection(5)">Debugging</button>
                <button class="nav-button" onclick="showSection(6)">Practice</button>
                <button class="nav-button" onclick="showSection(7)">Extension</button>
                <button class="nav-button" onclick="showSection(8)">Summary</button>
            </div>
            <div class="xp-display">
                XP: <span id="xp">0</span> | Level: <span id="level">0</span>
            </div>
        </div>

        <!-- Section 0: Starter Activity -->
        <div class="section active" id="section-0">
            <h2>Starter Activity: IDE Feature Recognition</h2>
            
            <div class="learning-outcomes">
                <h3>Learning Outcomes</h3>
                <ul>
                    <li>Describe features found in a typical Integrated Development Environment (IDE)</li>
                    <li>Understand coding features including context-sensitive prompts</li>
                    <li>Explain initial error detection including dynamic syntax checks</li>
                    <li>Describe presentation features including prettyprint and code folding</li>
                    <li>Understand debugging features including breakpoints, stepping, and variable watching</li>
                </ul>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Which IDE Features Have You Used?</span>
                    <button class="reset-button" onclick="resetStarterActivity()">Reset</button>
                </div>
                
                <p>Check all the IDE features you have used or seen before:</p>
                
                <div style="margin: 20px 0;">
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-autocomplete" onchange="checkFeature('autocomplete')">
                        Auto-completion suggestions while typing
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-syntax" onchange="checkFeature('syntax')">
                        Syntax highlighting with different colors
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-error" onchange="checkFeature('error')">
                        Red underlines showing errors
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-breakpoint" onchange="checkFeature('breakpoint')">
                        Setting breakpoints to pause code execution
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-fold" onchange="checkFeature('fold')">
                        Collapsing/expanding code blocks
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-format" onchange="checkFeature('format')">
                        Auto-formatting code
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-step" onchange="checkFeature('step')">
                        Stepping through code line by line
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="checkbox" id="feature-watch" onchange="checkFeature('watch')">
                        Watching variable values during debugging
                    </label>
                </div>

                <button class="button" onclick="analyzeFeatureKnowledge()">Analyze My Experience</button>
                <div id="starter-feedback"></div>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Quick Quiz: IDE or Text Editor?</span>
                </div>
                
                <div class="multiple-choice">
                    <p><strong>Which feature distinguishes an IDE from a simple text editor?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'starter-q1', 'a')">
                        A) Ability to type and save text
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'starter-q1', 'b')">
                        B) Integrated debugging and compilation tools
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'starter-q1', 'c')">
                        C) Support for multiple file formats
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'starter-q1', 'd')">
                        D) Search and replace functionality
                    </div>
                    <button class="button" onclick="checkMC('starter-q1', 'b')">Check Answer</button>
                    <div id="starter-q1-feedback"></div>
                </div>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" disabled>‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(1)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 1: Introduction to IDEs -->
        <div class="section" id="section-1">
            <h2>Introduction to IDEs</h2>
            
            <div class="real-world-context">
                <h3>Real-World Context</h3>
                <p>Imagine trying to build a house with just a hammer. You could do it, but having a complete toolkit makes the job much easier and faster. An IDE is like a complete toolkit for programmers - it combines all the tools you need in one place: editor, compiler, debugger, and more.</p>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">IDE Components Overview</span>
                    <button class="reset-button" onclick="resetIntroActivity()">Reset</button>
                </div>

                <div class="ide-simulator">
                    <div class="ide-menubar">
                        <span>File</span>
                        <span>Edit</span>
                        <span>View</span>
                        <span>Debug</span>
                        <span>Tools</span>
                        <span>Help</span>
                    </div>
                    <div class="ide-toolbar">
                        <button class="ide-button" onclick="simulateNewFile()">üìÑ New</button>
                        <button class="ide-button" onclick="simulateSave()">üíæ Save</button>
                        <button class="ide-button" onclick="simulateRun()">‚ñ∂Ô∏è Run</button>
                        <button class="ide-button" onclick="simulateDebug()">üêõ Debug</button>
                    </div>
                    <div class="ide-main">
                        <div class="ide-sidebar">
                            <h4 style="margin-bottom: 10px;">Project Explorer</h4>
                            <div style="margin-left: 10px;">
                                <div class="collapsible" onclick="toggleFolder(this)">üìÅ MyProject</div>
                                <div class="collapsed-content">
                                    <div>üìÑ main.py</div>
                                    <div>üìÑ utils.py</div>
                                    <div>üìÑ config.json</div>
                                </div>
                            </div>
                        </div>
                        <div class="ide-editor" id="main-editor">
                            <div class="code-line">
                                <span class="line-number">1</span>
                                <span class="code-content">Click the buttons above to explore IDE features!</span>
                            </div>
                        </div>
                    </div>
                    <div class="ide-console" id="console-output">
                        Console output will appear here...
                    </div>
                </div>

                <p style="margin-top: 20px;">Click each button in the IDE simulator above to understand basic IDE functionality.</p>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">IDE vs Text Editor Comparison</span>
                </div>

                <p>Drag each feature to the correct category:</p>
                
                <div class="drag-container">
                    <div class="drag-item" onclick="selectFeature('syntax-color')">Syntax Coloring</div>
                    <div class="drag-item" onclick="selectFeature('debugger')">Integrated Debugger</div>
                    <div class="drag-item" onclick="selectFeature('find-replace')">Find & Replace</div>
                    <div class="drag-item" onclick="selectFeature('breakpoints')">Breakpoint Support</div>
                    <div class="drag-item" onclick="selectFeature('file-save')">File Saving</div>
                    <div class="drag-item" onclick="selectFeature('intellisense')">IntelliSense/Autocomplete</div>
                    <div class="drag-item" onclick="selectFeature('compile-run')">Compile & Run Button</div>
                    <div class="drag-item" onclick="selectFeature('text-edit')">Basic Text Editing</div>
                </div>

                <div style="display: flex; gap: 20px; margin-top: 20px;">
                    <div style="flex: 1;">
                        <h4>Text Editor Features</h4>
                        <div class="drop-zone" id="text-editor-features" onclick="dropFeature('text-editor')"></div>
                    </div>
                    <div style="flex: 1;">
                        <h4>IDE-Specific Features</h4>
                        <div class="drop-zone" id="ide-features" onclick="dropFeature('ide')"></div>
                    </div>
                </div>

                <button class="button" onclick="checkFeatureCategories()">Check Answers</button>
                <div id="feature-feedback"></div>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(0)">‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(2)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 2: Coding Features -->
        <div class="section" id="section-2">
            <h2>Coding Features: Context-Sensitive Prompts</h2>
            
            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Interactive Autocomplete Demonstration</span>
                    <button class="reset-button" onclick="resetCodingActivity()">Reset</button>
                </div>

                <div class="ide-simulator">
                    <div class="ide-editor" style="position: relative;">
                        <div class="code-line">
                            <span class="line-number">1</span>
                            <span class="code-content"><span class="keyword-highlight">import</span> <span class="string-highlight">math</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">2</span>
                            <span class="code-content"></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">3</span>
                            <span class="code-content" id="typing-line">
                                <span class="comment-highlight"># Type 'math.' below to see autocomplete</span>
                            </span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">4</span>
                            <span class="code-content">
                                <input type="text" id="code-input" 
                                       style="background: transparent; border: none; color: #e2e8f0; font-family: 'Courier New', monospace; width: 300px;"
                                       placeholder="Type here..." 
                                       oninput="handleCodeInput(this.value)">
                            </span>
                        </div>
                        
                        <div class="autocomplete-popup" id="autocomplete">
                            <div class="autocomplete-item" onclick="insertAutocomplete('sqrt')">sqrt(x) - Square root</div>
                            <div class="autocomplete-item" onclick="insertAutocomplete('sin')">sin(x) - Sine function</div>
                            <div class="autocomplete-item" onclick="insertAutocomplete('cos')">cos(x) - Cosine function</div>
                            <div class="autocomplete-item" onclick="insertAutocomplete('pi')">pi - Mathematical constant œÄ</div>
                            <div class="autocomplete-item" onclick="insertAutocomplete('floor')">floor(x) - Round down</div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <h4>Context-Sensitive Features:</h4>
                    <ul>
                        <li>‚ú® <strong>IntelliSense:</strong> Shows available methods and properties</li>
                        <li>üìù <strong>Parameter Hints:</strong> Displays function signatures</li>
                        <li>üîç <strong>Quick Info:</strong> Shows documentation on hover</li>
                        <li>üí° <strong>Code Suggestions:</strong> Offers relevant completions</li>
                    </ul>
                </div>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Understanding Autocomplete Benefits</span>
                </div>

                <div class="multiple-choice">
                    <p><strong>Which is NOT a benefit of context-sensitive autocomplete?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'autocomplete-q1', 'a')">
                        A) Reduces typing errors in function names
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'autocomplete-q1', 'b')">
                        B) Helps discover available methods
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'autocomplete-q1', 'c')">
                        C) Automatically fixes logic errors
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'autocomplete-q1', 'd')">
                        D) Speeds up coding
                    </div>
                    <button class="button" onclick="checkMC('autocomplete-q1', 'c')">Check Answer</button>
                    <div id="autocomplete-q1-feedback"></div>
                </div>

                <h4>Short Answer: Productivity Impact</h4>
                <p>Explain how context-sensitive prompts improve programmer productivity:</p>
                <textarea id="productivity-answer" rows="4" placeholder="Write your answer here..."></textarea>
                <button class="button" onclick="checkProductivityAnswer()">Submit Answer</button>
                <div id="productivity-feedback"></div>
            </div>

            <div class="feature-card">
                <h4>üí° Advanced IntelliSense Features</h4>
                <ul>
                    <li><strong>Type Inference:</strong> Suggests based on variable types</li>
                    <li><strong>AI-Powered Suggestions:</strong> Modern IDEs use ML for better predictions</li>
                    <li><strong>Snippet Expansion:</strong> Type shortcuts that expand to code blocks</li>
                    <li><strong>Import Suggestions:</strong> Automatically suggests and adds imports</li>
                </ul>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(1)">‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(3)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 3: Error Detection -->
        <div class="section" id="section-3">
            <h2>Error Detection: Dynamic Syntax Checking</h2>
            
            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Real-Time Error Detection Simulator</span>
                    <button class="reset-button" onclick="resetErrorActivity()">Reset</button>
                </div>

                <div class="ide-simulator">
                    <div class="ide-editor">
                        <div class="code-line">
                            <span class="line-number">1</span>
                            <span class="code-content"><span class="keyword-highlight">def</span> calculate_average(numbers):</span>
                        </div>
                        <div class="code-line error-line" id="error-line-1" onclick="showErrorDetail(1)">
                            <span class="line-number">2</span>
                            <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;total = sum(numbers</span>
                            <span class="tooltip">‚ùå
                                <span class="tooltip-text">SyntaxError: Missing closing parenthesis</span>
                            </span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">3</span>
                            <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;count = len(numbers)</span>
                        </div>
                        <div class="code-line error-line" id="error-line-2" onclick="showErrorDetail(2)">
                            <span class="line-number">4</span>
                            <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;average = totl / count</span>
                            <span class="tooltip">‚ö†Ô∏è
                                <span class="tooltip-text">NameError: 'totl' is not defined (did you mean 'total'?)</span>
                            </span>
                        </div>
                        <div class="code-line error-line" id="error-line-3" onclick="showErrorDetail(3)">
                            <span class="line-number">5</span>
                            <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword-highlight">return</span> average</span>
                            <span class="tooltip">‚ö†Ô∏è
                                <span class="tooltip-text">IndentationError: Unexpected indent</span>
                            </span>
                        </div>
                    </div>
                    <div class="ide-console">
                        <div id="error-details">Click on the error indicators (‚ùå ‚ö†Ô∏è) to see error details</div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <h4>Types of Errors IDEs Can Detect:</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="feature-card">
                            <h5>üî¥ Syntax Errors</h5>
                            <p>Missing brackets, quotes, colons</p>
                        </div>
                        <div class="feature-card">
                            <h5>üü° Semantic Errors</h5>
                            <p>Type mismatches, undefined variables</p>
                        </div>
                        <div class="feature-card">
                            <h5>üü† Style Issues</h5>
                            <p>Naming conventions, indentation</p>
                        </div>
                        <div class="feature-card">
                            <h5>üîµ Potential Bugs</h5>
                            <p>Unreachable code, unused variables</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Error Classification Exercise</span>
                </div>

                <p>Match each error to when it would be detected:</p>
                
                <div class="drag-container">
                    <div class="drag-item" onclick="selectError('missing-colon')">Missing colon after if statement</div>
                    <div class="drag-item" onclick="selectError('div-zero')">Division by zero</div>
                    <div class="drag-item" onclick="selectError('undefined-var')">Using undefined variable</div>
                    <div class="drag-item" onclick="selectError('type-mismatch')">String + Integer operation</div>
                    <div class="drag-item" onclick="selectError('index-error')">List index out of range</div>
                    <div class="drag-item" onclick="selectError('import-error')">Importing non-existent module</div>
                </div>

                <div style="display: flex; gap: 20px; margin-top: 20px;">
                    <div style="flex: 1;">
                        <h4>IDE Can Detect (Before Running)</h4>
                        <div class="drop-zone" id="ide-detectable" onclick="dropError('ide')" style="min-height: 150px;"></div>
                    </div>
                    <div style="flex: 1;">
                        <h4>Only Found at Runtime</h4>
                        <div class="drop-zone" id="runtime-only" onclick="dropError('runtime')" style="min-height: 150px;"></div>
                    </div>
                </div>

                <button class="button" onclick="checkErrorClassification()">Check Answers</button>
                <div id="error-classification-feedback"></div>
            </div>

            <div class="common-mistakes">
                <h3>Common Misconceptions</h3>
                <ul>
                    <li>IDEs can't detect all errors - logic errors still require testing</li>
                    <li>Red underlines don't always mean the code won't run</li>
                    <li>Some "errors" are actually warnings or style suggestions</li>
                    <li>Dynamic languages have fewer compile-time checks than static languages</li>
                </ul>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(2)">‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(4)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 4: Presentation Features -->
        <div class="section" id="section-4">
            <h2>Presentation Features: Code Formatting & Organization</h2>
            
            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Code Folding Demonstration</span>
                    <button class="reset-button" onclick="resetPresentationActivity()">Reset</button>
                </div>

                <div class="ide-simulator">
                    <div class="ide-toolbar">
                        <button class="ide-button" onclick="prettyPrintCode()">üé® Pretty Print</button>
                        <button class="ide-button" onclick="collapseAll()">‚ûñ Collapse All</button>
                        <button class="ide-button" onclick="expandAll()">‚ûï Expand All</button>
                    </div>
                    <div class="ide-editor" id="folding-demo">
                        <div class="code-line">
                            <span class="line-number">1</span>
                            <span class="code-content">
                                <span class="collapsible" onclick="toggleCodeBlock(this, 'class-block')">‚ñ∂</span>
                                <span class="keyword-highlight">class</span> Student:
                            </span>
                        </div>
                        <div id="class-block" class="collapsed-content">
                            <div class="code-line">
                                <span class="line-number">2</span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword-highlight">def</span> __init__(self, name, age):</span>
                            </div>
                            <div class="code-line">
                                <span class="line-number">3</span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.name = name</span>
                            </div>
                            <div class="code-line">
                                <span class="line-number">4</span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.age = age</span>
                            </div>
                            <div class="code-line">
                                <span class="line-number">5</span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.grades = []</span>
                            </div>
                            <div class="code-line">
                                <span class="line-number">6</span>
                                <span class="code-content"></span>
                            </div>
                            <div class="code-line">
                                <span class="line-number">7</span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;
                                    <span class="collapsible" onclick="toggleCodeBlock(this, 'method-block')">‚ñ∂</span>
                                    <span class="keyword-highlight">def</span> add_grade(self, grade):
                                </span>
                            </div>
                            <div id="method-block" class="collapsed-content">
                                <div class="code-line">
                                    <span class="line-number">8</span>
                                    <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.grades.append(grade)</span>
                                </div>
                                <div class="code-line">
                                    <span class="line-number">9</span>
                                    <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword-highlight">return</span> self.grades</span>
                                </div>
                            </div>
                        </div>
                        <div class="code-line" id="messy-code" style="display: none;">
                            <span class="line-number">10</span>
                            <span class="code-content">data=[1,2,3,4,5];result=sum(data)/len(data);print(result)</span>
                        </div>
                        <div id="pretty-code" style="display: none;">
                            <div class="code-line">
                                <span class="line-number">10</span>
                                <span class="code-content">data = [1, 2, 3, 4, 5]</span>
                            </div>
                            <div class="code-line">
                                <span class="line-number">11</span>
                                <span class="code-content">result = sum(data) / len(data)</span>
                            </div>
                            <div class="code-line">
                                <span class="line-number">12</span>
                                <span class="code-content">print(result)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <p style="margin-top: 20px;">Try the buttons above to see code folding and pretty printing in action!</p>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Presentation Features Benefits</span>
                </div>

                <h4>Sequencing Exercise: Pretty Print Process</h4>
                <p>Arrange these pretty print operations in the correct order:</p>
                
                <div class="sequencing-container" id="sequence-container">
                    <div class="sequence-item" data-order="3" onclick="selectSequence(this)">
                        <span class="sequence-number">?</span>
                        Apply consistent spacing around operators
                    </div>
                    <div class="sequence-item" data-order="1" onclick="selectSequence(this)">
                        <span class="sequence-number">?</span>
                        Parse the code into tokens
                    </div>
                    <div class="sequence-item" data-order="4" onclick="selectSequence(this)">
                        <span class="sequence-number">?</span>
                        Add line breaks at appropriate points
                    </div>
                    <div class="sequence-item" data-order="2" onclick="selectSequence(this)">
                        <span class="sequence-number">?</span>
                        Analyze code structure and nesting
                    </div>
                    <div class="sequence-item" data-order="5" onclick="selectSequence(this)">
                        <span class="sequence-number">?</span>
                        Output formatted code
                    </div>
                </div>

                <button class="button" onclick="checkSequence()">Check Order</button>
                <div id="sequence-feedback"></div>
            </div>

            <div class="task-container">
                <h4>Multiple Choice: Code Presentation</h4>
                <div class="multiple-choice">
                    <p><strong>Which of the following is NOT a benefit of code folding?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'folding-q1', 'a')">
                        A) Easier navigation in large files
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'folding-q1', 'b')">
                        B) Focus on relevant code sections
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'folding-q1', 'c')">
                        C) Automatic error correction
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'folding-q1', 'd')">
                        D) Better code structure overview
                    </div>
                    <button class="button" onclick="checkMC('folding-q1', 'c')">Check Answer</button>
                    <div id="folding-q1-feedback"></div>
                </div>
            </div>

            <div class="real-world-context">
                <h3>Real-World Impact</h3>
                <p>Professional developers working on large projects (100,000+ lines) rely heavily on presentation features:</p>
                <ul>
                    <li>üè¢ <strong>Enterprise Software:</strong> Navigate massive codebases efficiently</li>
                    <li>üë• <strong>Team Collaboration:</strong> Consistent formatting reduces merge conflicts</li>
                    <li>üìñ <strong>Code Reviews:</strong> Well-formatted code is easier to review</li>
                    <li>‚ö° <strong>Productivity:</strong> Folding lets you see multiple methods on one screen</li>
                </ul>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(3)">‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(5)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 5: Debugging Features -->
        <div class="section" id="section-5">
            <h2>Debugging Features: Breakpoints, Stepping & Watching</h2>
            
            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Interactive Debugging Simulator</span>
                    <button class="reset-button" onclick="resetDebuggingActivity()">Reset</button>
                </div>

                <div class="ide-simulator">
                    <div class="ide-toolbar">
                        <button class="ide-button" onclick="startDebugging()">‚ñ∂Ô∏è Start Debug</button>
                        <button class="ide-button" onclick="stepOver()" id="step-over" disabled>‚è≠Ô∏è Step Over</button>
                        <button class="ide-button" onclick="stepInto()" id="step-into" disabled>‚¨áÔ∏è Step Into</button>
                        <button class="ide-button" onclick="continueExecution()" id="continue" disabled>‚ñ∂Ô∏è Continue</button>
                        <button class="ide-button" onclick="stopDebugging()" id="stop" disabled>‚èπÔ∏è Stop</button>
                    </div>
                    <div class="ide-main">
                        <div class="ide-editor" style="flex: 2;">
                            <div class="code-line" onclick="toggleBreakpoint(1)">
                                <span class="line-number">1</span>
                                <span id="bp-1" class="breakpoint" style="display: none;"></span>
                                <span class="code-content"><span class="keyword-highlight">def</span> calculate_factorial(n):</span>
                            </div>
                            <div class="code-line" onclick="toggleBreakpoint(2)">
                                <span class="line-number">2</span>
                                <span id="bp-2" class="breakpoint" style="display: none;"></span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword-highlight">if</span> n <= 1:</span>
                            </div>
                            <div class="code-line" onclick="toggleBreakpoint(3)">
                                <span class="line-number">3</span>
                                <span id="bp-3" class="breakpoint" style="display: none;"></span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword-highlight">return</span> 1</span>
                            </div>
                            <div class="code-line" onclick="toggleBreakpoint(4)">
                                <span class="line-number">4</span>
                                <span id="bp-4" class="breakpoint" style="display: none;"></span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword-highlight">else</span>:</span>
                            </div>
                            <div class="code-line" onclick="toggleBreakpoint(5)">
                                <span class="line-number">5</span>
                                <span id="bp-5" class="breakpoint" style="display: none;"></span>
                                <span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword-highlight">return</span> n * calculate_factorial(n - 1)</span>
                            </div>
                            <div class="code-line" onclick="toggleBreakpoint(6)">
                                <span class="line-number">6</span>
                                <span id="bp-6" class="breakpoint" style="display: none;"></span>
                                <span class="code-content"></span>
                            </div>
                            <div class="code-line" onclick="toggleBreakpoint(7)">
                                <span class="line-number">7</span>
                                <span id="bp-7" class="breakpoint" style="display: none;"></span>
                                <span class="code-content">result = calculate_factorial(5)</span>
                            </div>
                            <div class="code-line" onclick="toggleBreakpoint(8)">
                                <span class="line-number">8</span>
                                <span id="bp-8" class="breakpoint" style="display: none;"></span>
                                <span class="code-content">print(result)</span>
                            </div>
                        </div>
                        <div class="debug-panel">
                            <div class="debug-section">
                                <h4>üîç Variables</h4>
                                <div id="variable-list">
                                    <div class="variable-watch">Click a line to set breakpoint</div>
                                    <div class="variable-watch">Then start debugging</div>
                                </div>
                            </div>
                            <div class="debug-section">
                                <h4>üìä Call Stack</h4>
                                <div id="call-stack">
                                    <div class="variable-watch">No active debug session</div>
                                </div>
                            </div>
                            <div class="debug-section">
                                <h4>üëÅÔ∏è Watch Expressions</h4>
                                <input type="text" placeholder="Add expression..." style="width: 100%; margin-bottom: 10px;">
                                <div id="watch-list"></div>
                            </div>
                        </div>
                    </div>
                    <div class="ide-console" id="debug-console">
                        Click on line numbers to set breakpoints (red dots), then start debugging!
                    </div>
                </div>
            </div>

            <div class="task-container">
                <div class="task-header">
                    <span class="task-title">Debugging Concepts Quiz</span>
                </div>

                <div class="multiple-choice">
                    <p><strong>What is the difference between "Step Over" and "Step Into"?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'debug-q1', 'a')">
                        A) Step Over is faster than Step Into
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'debug-q1', 'b')">
                        B) Step Into enters function calls, Step Over executes them without entering
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'debug-q1', 'c')">
                        C) Step Over skips errors, Step Into stops at errors
                    </div>
                    <div class="mc-option" onclick="selectMC(this, 'debug-q1', 'd')">
                        D) They work the same way
                    </div>
                    <button class="button" onclick="checkMC('debug-q1', 'b')">Check Answer</button>
                    <div id="debug-q1-feedback"></div>
                </div>

                <h4>Debugging Scenario</h4>
                <p>You have a bug in a loop that processes 1000 items. The bug occurs around item 500. Which debugging approach is most efficient?</p>
                <textarea id="debug-scenario" rows="4" placeholder="Explain your debugging strategy..."></textarea>
                <button class="button" onclick="checkDebugScenario()">Submit Answer</button>
                <button class="hint-button" onclick="showHint('debug-scenario')">Show Hint</button>
                <div class="hint-box" id="debug-scenario-hint">
                    <p>Think about conditional breakpoints and how they can help you avoid stepping through 499 iterations...</p>
                </div>
                <div id="debug-scenario-feedback"></div>
            </div>

            <div class="canvas-container">
                <h3>Draw a Debugging Flowchart</h3>
                <p>Draw a flowchart showing your debugging process when finding a logic error:</p>
                <canvas id="drawingCanvas" width="600" height="400"></canvas>
                <div class="canvas-controls">
                    <button class="button" onclick="clearCanvas()">Clear Canvas</button>
                    <button class="button" onclick="saveDrawing()">Save Drawing</button>
                </div>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(4)">‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(6)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 6: Practice Exam Questions -->
        <div class="section" id="section-6">
            <h2>Practice Exam Questions</h2>
            
            <div class="task-container">
                <h3>Question 1 (4 marks)</h3>
                <p>Describe four different features found in a typical IDE that help programmers during development. For each feature, explain how it assists the programmer.</p>
                <textarea id="exam-q1" rows="8" placeholder="Write your answer here..."></textarea>
                <div style="margin: 10px 0;">
                    <label>Predicted marks (out of 4): </label>
                    <input type="number" id="q1-marks" min="0" max="4" style="width: 60px;">
                    <button class="button" onclick="showMarkScheme('q1')">Show Mark Scheme</button>
                </div>
                <div class="mark-scheme" id="q1-markscheme">
                    <h4>Mark Scheme:</h4>
                    <p>1 mark for each feature correctly identified and explained (max 4):</p>
                    <ul>
                        <li><strong>Context-sensitive prompts/Autocomplete:</strong> Suggests code completions, reduces typing errors</li>
                        <li><strong>Syntax highlighting:</strong> Different colors for keywords/strings, easier to read code</li>
                        <li><strong>Dynamic error checking:</strong> Identifies errors before running, saves debugging time</li>
                        <li><strong>Debugger with breakpoints:</strong> Pause execution at specific points, examine program state</li>
                        <li><strong>Code folding:</strong> Collapse/expand code blocks, navigate large files easily</li>
                        <li><strong>Pretty print/formatting:</strong> Automatically formats code, improves readability</li>
                        <li><strong>Variable watching:</strong> Monitor variable values during debugging</li>
                        <li><strong>Integrated compiler/interpreter:</strong> Run code without leaving IDE</li>
                    </ul>
                </div>
            </div>

            <div class="task-container">
                <h3>Question 2 (3 marks)</h3>
                <p>Explain the difference between syntax errors that an IDE can detect and logic errors that it cannot. Give an example of each.</p>
                <textarea id="exam-q2" rows="6" placeholder="Write your answer here..."></textarea>
                <div style="margin: 10px 0;">
                    <label>Predicted marks (out of 3): </label>
                    <input type="number" id="q2-marks" min="0" max="3" style="width: 60px;">
                    <button class="button" onclick="showMarkScheme('q2')">Show Mark Scheme</button>
                </div>
                <div class="mark-scheme" id="q2-markscheme">
                    <h4>Mark Scheme:</h4>
                    <ul>
                        <li>Syntax errors violate language rules, detected before running (1 mark)</li>
                        <li>Logic errors are flaws in algorithm/reasoning, code runs but gives wrong results (1 mark)</li>
                        <li>Valid examples (1 mark):
                            <ul>
                                <li>Syntax: Missing colon, unmatched brackets, misspelled keywords</li>
                                <li>Logic: Wrong formula, incorrect condition, off-by-one errors</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="task-container">
                <h3>Question 3 (3 marks)</h3>
                <p>A programmer is debugging a recursive function. Describe how they would use breakpoints and the step-into feature to trace through the recursion.</p>
                <textarea id="exam-q3" rows="6" placeholder="Write your answer here..."></textarea>
                <div style="margin: 10px 0;">
                    <label>Predicted marks (out of 3): </label>
                    <input type="number" id="q3-marks" min="0" max="3" style="width: 60px;">
                    <button class="button" onclick="showMarkScheme('q3')">Show Mark Scheme</button>
                </div>
                <div class="mark-scheme" id="q3-markscheme">
                    <h4>Mark Scheme:</h4>
                    <ul>
                        <li>Set breakpoint at start of recursive function (1 mark)</li>
                        <li>Use step-into to enter each recursive call (1 mark)</li>
                        <li>Watch call stack to see recursion depth / Watch variables to track parameter changes (1 mark)</li>
                    </ul>
                </div>
            </div>

            <div class="task-container">
                <h3>Question 4 (2 marks)</h3>
                <p>State two benefits of using the pretty print feature in an IDE.</p>
                <textarea id="exam-q4" rows="4" placeholder="Write your answer here..."></textarea>
                <div style="margin: 10px 0;">
                    <label>Predicted marks (out of 2): </label>
                    <input type="number" id="q4-marks" min="0" max="2" style="width: 60px;">
                    <button class="button" onclick="showMarkScheme('q4')">Show Mark Scheme</button>
                </div>
                <div class="mark-scheme" id="q4-markscheme">
                    <h4>Mark Scheme:</h4>
                    <p>1 mark each for any two of:</p>
                    <ul>
                        <li>Improves code readability</li>
                        <li>Maintains consistent formatting across team</li>
                        <li>Makes code structure clearer</li>
                        <li>Easier to spot errors</li>
                        <li>Reduces time spent on manual formatting</li>
                    </ul>
                </div>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(5)">‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(7)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 7: Extension Activities -->
        <div class="section" id="section-7">
            <h2>Extension Activities</h2>
            
            <div class="extension-section">
                <h3>Beyond the Specification</h3>
                
                <h4>1. AI-Powered IDE Features</h4>
                <p>Research modern AI-powered IDE features like GitHub Copilot or TabNine:</p>
                <ul>
                    <li>How do they differ from traditional autocomplete?</li>
                    <li>What are the benefits and potential risks?</li>
                    <li>How might they change programming education?</li>
                </ul>
                <textarea rows="6" placeholder="Write your research findings here..."></textarea>

                <h4>2. Remote Debugging</h4>
                <p>Investigate how IDEs enable debugging of code running on remote servers or embedded devices:</p>
                <ul>
                    <li>What protocols are used for remote debugging?</li>
                    <li>What additional challenges does remote debugging present?</li>
                    <li>Give examples of when remote debugging is essential</li>
                </ul>
                <textarea rows="6" placeholder="Write your findings here..."></textarea>

                <h4>3. IDE Performance Optimization</h4>
                <p>Large projects can make IDEs slow. Research optimization techniques:</p>
                <ul>
                    <li>How do IDEs index large codebases efficiently?</li>
                    <li>What is lazy loading and how does it help?</li>
                    <li>How do language servers improve IDE performance?</li>
                </ul>
                <textarea rows="6" placeholder="Write your exploration here..."></textarea>

                <h4>4. Create Your Ideal IDE</h4>
                <p>Design your dream IDE with features not commonly available today. Consider:</p>
                <ul>
                    <li>Voice-controlled debugging</li>
                    <li>AR/VR code visualization</li>
                    <li>Collaborative real-time editing</li>
                    <li>Automatic test generation</li>
                </ul>
                <textarea rows="8" placeholder="Describe your ideal IDE features and how they would work..."></textarea>

                <button class="button" onclick="submitExtension()">Submit Extension Work</button>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(6)">‚Üê Previous</button>
                <button class="arrow-button next" onclick="showSection(8)">Next ‚Üí</button>
            </div>
        </div>

        <!-- Section 8: Summary and Final Quiz -->
        <div class="section" id="section-8">
            <h2>Summary and Final Assessment</h2>
            
            <div class="task-container">
                <h3>Key Takeaways</h3>
                <ul>
                    <li>‚úÖ IDEs combine multiple development tools in one environment</li>
                    <li>‚úÖ Context-sensitive prompts speed up coding and reduce errors</li>
                    <li>‚úÖ Dynamic syntax checking catches errors before runtime</li>
                    <li>‚úÖ Code folding and pretty print improve code organization</li>
                    <li>‚úÖ Debugging tools (breakpoints, stepping, watching) help find logic errors</li>
                    <li>‚úÖ IDEs significantly improve programmer productivity</li>
                </ul>
            </div>

            <div class="task-container">
                <h3>Final Assessment Quiz</h3>
                
                <div class="multiple-choice">
                    <p><strong>1. Which IDE feature would best help a programmer understand how a recursive algorithm works?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-1', 'a')">A) Syntax highlighting</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-1', 'b')">B) Pretty print</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-1', 'c')">C) Step-into debugging with call stack view</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-1', 'd')">D) Code folding</div>
                    <button class="button" onclick="checkMC('final-1', 'c')">Check</button>
                    <div id="final-1-feedback"></div>
                </div>

                <div class="multiple-choice">
                    <p><strong>2. A programmer types "list." in Python. What should the IDE show?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-2', 'a')">A) Syntax error</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-2', 'b')">B) Available list methods like append(), sort()</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-2', 'c')">C) The definition of a list</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-2', 'd')">D) Nothing - wait for more typing</div>
                    <button class="button" onclick="checkMC('final-2', 'b')">Check</button>
                    <div id="final-2-feedback"></div>
                </div>

                <div class="multiple-choice">
                    <p><strong>3. Which error would an IDE's syntax checker NOT detect?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-3', 'a')">A) Missing closing bracket</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-3', 'b')">B) Undefined variable name</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-3', 'c')">C) Using < instead of > in a condition</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-3', 'd')">D) Missing colon after if statement</div>
                    <button class="button" onclick="checkMC('final-3', 'c')">Check</button>
                    <div id="final-3-feedback"></div>
                </div>

                <div class="multiple-choice">
                    <p><strong>4. What is the main purpose of code folding?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-4', 'a')">A) To hide errors from view</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-4', 'b')">B) To navigate and focus on relevant code sections</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-4', 'c')">C) To compress file size</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-4', 'd')">D) To encrypt sensitive code</div>
                    <button class="button" onclick="checkMC('final-4', 'b')">Check</button>
                    <div id="final-4-feedback"></div>
                </div>

                <div class="multiple-choice">
                    <p><strong>5. During debugging, what does a watch window show?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-5', 'a')">A) The time taken by each function</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-5', 'b')">B) Current values of selected variables/expressions</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-5', 'c')">C) A list of all errors in the code</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-5', 'd')">D) The output of the program</div>
                    <button class="button" onclick="checkMC('final-5', 'b')">Check</button>
                    <div id="final-5-feedback"></div>
                </div>

                <div class="multiple-choice">
                    <p><strong>6. Pretty print would change "x=y+z*2" to:</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-6', 'a')">A) X = Y + Z * 2</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-6', 'b')">B) x = y + z * 2</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-6', 'c')">C) x=y+z*2 (no change)</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-6', 'd')">D) x = (y + z) * 2</div>
                    <button class="button" onclick="checkMC('final-6', 'b')">Check</button>
                    <div id="final-6-feedback"></div>
                </div>

                <div class="multiple-choice">
                    <p><strong>7. Which debugging action would you use to skip over a function call without entering it?</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-7', 'a')">A) Step Into</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-7', 'b')">B) Step Over</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-7', 'c')">C) Continue</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-7', 'd')">D) Stop</div>
                    <button class="button" onclick="checkMC('final-7', 'b')">Check</button>
                    <div id="final-7-feedback"></div>
                </div>

                <div class="multiple-choice">
                    <p><strong>8. An IDE shows a squiggly red line under "prnt". This is an example of:</strong></p>
                    <div class="mc-option" onclick="selectMC(this, 'final-8', 'a')">A) Runtime error detection</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-8', 'b')">B) Dynamic syntax checking</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-8', 'c')">C) Code optimization</div>
                    <div class="mc-option" onclick="selectMC(this, 'final-8', 'd')">D) Breakpoint indicator</div>
                    <button class="button" onclick="checkMC('final-8', 'b')">Check</button>
                    <div id="final-8-feedback"></div>
                </div>

                <button class="button" onclick="calculateFinalScore()">Calculate Final Score</button>
                <div id="final-score"></div>
            </div>

            <div class="task-container">
                <h3>Videos (Placeholder)</h3>
                <p>Additional video resources will be available here to reinforce your learning:</p>
                <ul>
                    <li>üìπ IDE Features Walkthrough - VS Code</li>
                    <li>üìπ Debugging Masterclass</li>
                    <li>üìπ Advanced IDE Shortcuts and Tips</li>
                    <li>üìπ Setting Up Your First Development Environment</li>
                </ul>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress-bar">0%</div>
            </div>

            <div class="nav-arrows">
                <button class="arrow-button" onclick="showSection(7)">‚Üê Previous</button>
                <button class="arrow-button next" disabled>Lesson Complete!</button>
            </div>
        </div>
    </div>

    <!-- Feedback Button -->
    <button class="feedback-button" onclick="openFeedback()">üí¨</button>

    <!-- Feedback Modal -->
    <div class="feedback-modal" id="feedbackModal">
        <div class="feedback-content">
            <h3>Send Feedback</h3>
            <p>Found a bug or have a suggestion? Let us know!</p>
            <textarea id="feedbackText" rows="6" placeholder="Describe the issue or suggestion..."></textarea>
            <div style="margin-top: 15px;">
                <button class="button" onclick="sendFeedback()">Send</button>
                <button class="button" onclick="closeFeedback()" style="background: #6b7280;">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup">
        <h3>üéâ Achievement Unlocked!</h3>
        <p id="achievementText"></p>
    </div>

    <!-- Anti-paste warning -->
    <div class="paste-shame" id="pasteShame">
        ‚ùå Pasting is disabled! Please type your answers to learn effectively.
    </div>

    <script>
        // Global variables
        let currentSection = 0;
        let xp = 0;
        let level = 0;
        let completedTasks = new Set();
        let selectedFeature = null;
        let selectedError = null;
        let currentSequence = [];
        let debugState = {
            running: false,
            currentLine: 0,
            breakpoints: new Set(),
            variables: {},
            callStack: []
        };
        let finalQuizAnswers = {};

        // Canvas variables
        let canvas = document.getElementById('drawingCanvas');
        let ctx = canvas.getContext('2d');
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        // Initialize canvas
        function initCanvas() {
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Touch events
            canvas.addEventListener('touchstart', handleTouch);
            canvas.addEventListener('touchmove', handleTouch);
            canvas.addEventListener('touchend', stopDrawing);
        }

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            lastX = e.clientX - rect.left;
            lastY = e.clientY - rect.top;
        }

        function draw(e) {
            if (!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(x, y);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            lastX = x;
            lastY = y;
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function handleTouch(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                            e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            addXP(5, 'canvas-cleared');
        }

        function saveDrawing() {
            showAchievement('Drawing Saved!', 10);
        }

        // XP and Achievement System
        function addXP(points, taskId) {
            if (completedTasks.has(taskId)) return;
            
            completedTasks.add(taskId);
            xp += points;
            
            const newLevel = Math.floor(xp / 100);
            if (newLevel > level && newLevel <= 5) {
                level = newLevel;
                showAchievement(`Level ${level} Reached!`, 50);
            }
            
            updateXPDisplay();
            updateProgress();
        }

        function updateXPDisplay() {
            document.getElementById('xp').textContent = xp;
            document.getElementById('level').textContent = Math.min(level, 5);
        }

        function showAchievement(text, xpGained) {
            const popup = document.getElementById('achievementPopup');
            document.getElementById('achievementText').textContent = `${text} (+${xpGained} XP)`;
            popup.style.display = 'block';
            
            setTimeout(() => {
                popup.style.display = 'none';
            }, 4000);
        }

        function updateProgress() {
            const totalSections = 9;
            const progress = ((currentSection + 1) / totalSections) * 100;
            const progressBar = document.getElementById('progress-bar');
            if (progressBar) {
                progressBar.style.width = progress + '%';
                progressBar.textContent = Math.round(progress) + '%';
            }
        }

        // Section Navigation
        function showSection(index) {
            const sections = document.querySelectorAll('.section');
            const navButtons = document.querySelectorAll('.nav-button');
            
            sections.forEach(section => section.classList.remove('active'));
            navButtons.forEach(button => button.classList.remove('active'));
            
            sections[index].classList.add('active');
            navButtons[index].classList.add('active');
            
            currentSection = index;
            updateProgress();
            
            window.scrollTo(0, 0);
        }

        // Starter Activity Functions
        function checkFeature(feature) {
            addXP(5, `feature-check-${feature}`);
        }

        function analyzeFeatureKnowledge() {
            const checkboxes = document.querySelectorAll('#section-0 input[type="checkbox"]');
            const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
            
            const feedback = document.getElementById('starter-feedback');
            let message = '';
            
            if (checked === 0) {
                message = '<p style="color: #ef4444;">You haven\'t used any IDE features yet? This lesson will be eye-opening!</p>';
            } else if (checked <= 3) {
                message = `<p style="color: #f59e0b;">You\'ve used ${checked} features. There\'s much more to discover!</p>`;
            } else if (checked <= 6) {
                message = `<p style="color: #3b82f6;">Good experience with ${checked} features! Let\'s deepen your understanding.</p>`;
            } else {
                message = `<p style="color: #10b981;">Excellent! You\'re familiar with ${checked} features. Time to master them!</p>`;
                showAchievement('IDE Explorer!', 20);
            }
            
            feedback.innerHTML = message;
            addXP(checked * 3, 'feature-analysis');
        }

        function resetStarterActivity() {
            document.querySelectorAll('#section-0 input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });
            document.getElementById('starter-feedback').innerHTML = '';
            document.querySelectorAll('#section-0 .mc-option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            document.getElementById('starter-q1-feedback').innerHTML = '';
        }

        // Introduction Activity Functions
        function simulateNewFile() {
            const editor = document.getElementById('main-editor');
            editor.innerHTML = `
                <div class="code-line">
                    <span class="line-number">1</span>
                    <span class="code-content"><span class="comment-highlight"># New file created!</span></span>
                </div>
            `;
            addXP(5, 'ide-new-file');
        }

        function simulateSave() {
            const console = document.getElementById('console-output');
            console.innerHTML = 'File saved successfully!';
            addXP(5, 'ide-save');
        }

        function simulateRun() {
            const console = document.getElementById('console-output');
            console.innerHTML = 'Running program...<br>Hello, World!<br>Process finished with exit code 0';
            addXP(5, 'ide-run');
        }

        function simulateDebug() {
            const console = document.getElementById('console-output');
            console.innerHTML = 'Debug mode activated. Set breakpoints by clicking line numbers.';
            addXP(5, 'ide-debug');
        }

        function toggleFolder(element) {
            element.classList.toggle('expanded');
            const content = element.nextElementSibling;
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
            addXP(3, 'folder-toggle');
        }

        function selectFeature(feature) {
            selectedFeature = feature;
            document.querySelectorAll('.drag-item').forEach(item => {
                item.style.background = '#3b82f6';
            });
            event.target.style.background = '#2563eb';
        }

        function dropFeature(category) {
            if (!selectedFeature) return;
            
            const dropZone = document.getElementById(`${category}-features`);
            const featureItem = document.querySelector(`[onclick="selectFeature('${selectedFeature}')"]`);
            
            if (featureItem && !featureItem.classList.contains('used')) {
                const newItem = document.createElement('div');
                newItem.textContent = featureItem.textContent;
                newItem.style.padding = '10px';
                newItem.style.margin = '5px';
                newItem.style.background = '#e0e7ff';
                newItem.style.borderRadius = '5px';
                newItem.setAttribute('data-feature', selectedFeature);
                
                dropZone.appendChild(newItem);
                featureItem.classList.add('used');
                selectedFeature = null;
                
                addXP(5, `feature-drop-${selectedFeature}`);
            }
        }

        function checkFeatureCategories() {
            const textEditorFeatures = ['find-replace', 'file-save', 'text-edit', 'syntax-color'];
            const ideFeatures = ['debugger', 'breakpoints', 'intellisense', 'compile-run'];
            
            const textZone = document.getElementById('text-editor-features');
            const ideZone = document.getElementById('ide-features');
            
            let score = 0;
            
            textZone.querySelectorAll('[data-feature]').forEach(item => {
                const feature = item.getAttribute('data-feature');
                if (textEditorFeatures.includes(feature)) {
                    item.style.background = '#d1fae5';
                    score++;
                } else {
                    item.style.background = '#fee2e2';
                }
            });
            
            ideZone.querySelectorAll('[data-feature]').forEach(item => {
                const feature = item.getAttribute('data-feature');
                if (ideFeatures.includes(feature)) {
                    item.style.background = '#d1fae5';
                    score++;
                } else {
                    item.style.background = '#fee2e2';
                }
            });
            
            const feedback = document.getElementById('feature-feedback');
            feedback.innerHTML = `<p style="color: #059669; font-weight: bold;">Score: ${score}/8 correct placements</p>`;
            
            if (score === 8) {
                showAchievement('Feature Expert!', 25);
            } else {
                addXP(score * 3, 'feature-categorization');
            }
        }

        function resetIntroActivity() {
            const editor = document.getElementById('main-editor');
            editor.innerHTML = `
                <div class="code-line">
                    <span class="line-number">1</span>
                    <span class="code-content">Click the buttons above to explore IDE features!</span>
                </div>
            `;
            
            document.getElementById('console-output').innerHTML = 'Console output will appear here...';
            
            document.getElementById('text-editor-features').innerHTML = '';
            document.getElementById('ide-features').innerHTML = '';
            document.querySelectorAll('#section-1 .drag-item').forEach(item => {
                item.classList.remove('used');
            });
            
            document.getElementById('feature-feedback').innerHTML = '';
        }

        // Coding Features Functions
        function handleCodeInput(value) {
            const autocomplete = document.getElementById('autocomplete');
            
            if (value.endsWith('math.')) {
                autocomplete.style.display = 'block';
                autocomplete.style.left = '100px';
                autocomplete.style.top = '120px';
                addXP(10, 'triggered-autocomplete');
            } else {
                autocomplete.style.display = 'none';
            }
        }

        function insertAutocomplete(method) {
            const input = document.getElementById('code-input');
            input.value = `math.${method}()`;
            document.getElementById('autocomplete').style.display = 'none';
            addXP(5, `autocomplete-${method}`);
        }

        function checkProductivityAnswer() {
            const answer = document.getElementById('productivity-answer').value.trim();
            const feedback = document.getElementById('productivity-feedback');
            
            if (answer.length < 30) {
                feedback.innerHTML = '<p style="color: #ef4444;">Please provide a more detailed answer.</p>';
                return;
            }
            
            const keywords = ['speed', 'error', 'discover', 'time', 'typing', 'method', 'function'];
            const matches = keywords.filter(keyword => answer.toLowerCase().includes(keyword));
            
            const xpEarned = Math.min(matches.length * 5, 20);
            addXP(xpEarned, 'productivity-answer');
            
            feedback.innerHTML = `<p style="color: #059669; font-weight: bold;">Good answer! Key points: ${matches.length}/7 (+${xpEarned} XP)</p>`;
        }

        function resetCodingActivity() {
            document.getElementById('code-input').value = '';
            document.getElementById('autocomplete').style.display = 'none';
            document.getElementById('productivity-answer').value = '';
            document.getElementById('productivity-feedback').innerHTML = '';
            
            document.querySelectorAll('#section-2 .mc-option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            document.getElementById('autocomplete-q1-feedback').innerHTML = '';
        }

        // Error Detection Functions
        function showErrorDetail(errorNum) {
            const details = {
                1: 'SyntaxError on line 2: Missing closing parenthesis )\nFix: Add ) after "numbers"',
                2: 'NameError on line 4: Variable "totl" is not defined\nDid you mean "total"?',
                3: 'IndentationError on line 5: Unexpected extra space\nPython requires consistent indentation'
            };
            
            document.getElementById('error-details').innerHTML = `<strong>Error Details:</strong><br>${details[errorNum]}`;
            addXP(5, `error-detail-${errorNum}`);
        }

        function selectError(error) {
            selectedError = error;
            document.querySelectorAll('.drag-item').forEach(item => {
                item.style.background = '#3b82f6';
            });
            event.target.style.background = '#2563eb';
        }

        function dropError(category) {
            if (!selectedError) return;
            
            const dropZone = document.getElementById(`${category}-detectable`);
            const errorItem = document.querySelector(`[onclick="selectError('${selectedError}')"]`);
            
            if (errorItem && !errorItem.classList.contains('used')) {
                const newItem = document.createElement('div');
                newItem.textContent = errorItem.textContent;
                newItem.style.padding = '10px';
                newItem.style.margin = '5px';
                newItem.style.background = '#fef3c7';
                newItem.style.borderRadius = '5px';
                newItem.setAttribute('data-error', selectedError);
                
                dropZone.appendChild(newItem);
                errorItem.classList.add('used');
                selectedError = null;
                
                addXP(5, `error-categorize-${selectedError}`);
            }
        }

        function checkErrorClassification() {
            const ideDetectable = ['missing-colon', 'undefined-var', 'import-error'];
            const runtimeOnly = ['div-zero', 'type-mismatch', 'index-error'];
            
            const ideZone = document.getElementById('ide-detectable');
            const runtimeZone = document.getElementById('runtime-only');
            
            let score = 0;
            
            ideZone.querySelectorAll('[data-error]').forEach(item => {
                const error = item.getAttribute('data-error');
                if (ideDetectable.includes(error)) {
                    item.style.background = '#d1fae5';
                    score++;
                } else {
                    item.style.background = '#fee2e2';
                }
            });
            
            runtimeZone.querySelectorAll('[data-error]').forEach(item => {
                const error = item.getAttribute('data-error');
                if (runtimeOnly.includes(error)) {
                    item.style.background = '#d1fae5';
                    score++;
                } else {
                    item.style.background = '#fee2e2';
                }
            });
            
            const feedback = document.getElementById('error-classification-feedback');
            feedback.innerHTML = `<p style="color: #059669; font-weight: bold;">Score: ${score}/6</p>`;
            
            if (score === 6) {
                showAchievement('Error Detective!', 20);
            } else {
                addXP(score * 3, 'error-classification');
            }
        }

        function resetErrorActivity() {
            document.getElementById('error-details').innerHTML = 'Click on the error indicators (‚ùå ‚ö†Ô∏è) to see error details';
            
            document.getElementById('ide-detectable').innerHTML = '';
            document.getElementById('runtime-only').innerHTML = '';
            document.querySelectorAll('#section-3 .drag-item').forEach(item => {
                item.classList.remove('used');
            });
            
            document.getElementById('error-classification-feedback').innerHTML = '';
        }

        // Presentation Features Functions
        function toggleCodeBlock(element, blockId) {
            element.classList.toggle('expanded');
            element.textContent = element.classList.contains('expanded') ? '‚ñº' : '‚ñ∂';
            
            const block = document.getElementById(blockId);
            block.style.display = block.style.display === 'block' ? 'none' : 'block';
            
            addXP(5, `fold-${blockId}`);
        }

        function prettyPrintCode() {
            const messyCode = document.getElementById('messy-code');
            const prettyCode = document.getElementById('pretty-code');
            
            if (messyCode.style.display !== 'none') {
                messyCode.style.display = 'none';
                prettyCode.style.display = 'block';
                showAchievement('Code Beautified!', 15);
            }
        }

        function collapseAll() {
            document.querySelectorAll('.collapsible').forEach(elem => {
                elem.classList.remove('expanded');
                elem.textContent = '‚ñ∂';
            });
            document.querySelectorAll('.collapsed-content').forEach(elem => {
                elem.style.display = 'none';
            });
            addXP(5, 'collapse-all');
        }

        function expandAll() {
            document.querySelectorAll('.collapsible').forEach(elem => {
                elem.classList.add('expanded');
                elem.textContent = '‚ñº';
            });
            document.querySelectorAll('.collapsed-content').forEach(elem => {
                elem.style.display = 'block';
            });
            addXP(5, 'expand-all');
        }

        function selectSequence(element) {
            if (currentSequence.length < 5) {
                currentSequence.push(element.getAttribute('data-order'));
                element.querySelector('.sequence-number').textContent = currentSequence.length;
                element.style.background = '#c7d2fe';
                element.style.pointerEvents = 'none';
            }
        }

        function checkSequence() {
            const correct = ['1', '2', '3', '4', '5'];
            let score = 0;
            
            for (let i = 0; i < currentSequence.length; i++) {
                if (currentSequence[i] === correct[i]) {
                    score++;
                }
            }
            
            const feedback = document.getElementById('sequence-feedback');
            if (score === 5) {
                feedback.innerHTML = '<p style="color: #059669; font-weight: bold;">Perfect sequence! You understand the pretty print process.</p>';
                showAchievement('Formatting Master!', 20);
            } else {
                feedback.innerHTML = `<p style="color: #ef4444;">Score: ${score}/5. The correct order is: Parse ‚Üí Analyze ‚Üí Apply spacing ‚Üí Add breaks ‚Üí Output</p>`;
                addXP(score * 3, 'sequence-attempt');
            }
        }

        function resetPresentationActivity() {
            // Reset folding demo
            document.querySelectorAll('.collapsible').forEach(elem => {
                elem.classList.remove('expanded');
                elem.textContent = '‚ñ∂';
            });
            document.querySelectorAll('.collapsed-content').forEach(elem => {
                elem.style.display = 'none';
            });
            
            // Reset pretty print
            document.getElementById('messy-code').style.display = 'block';
            document.getElementById('pretty-code').style.display = 'none';
            
            // Reset sequence
            currentSequence = [];
            document.querySelectorAll('.sequence-item').forEach(item => {
                item.querySelector('.sequence-number').textContent = '?';
                item.style.background = '#e0e7ff';
                item.style.pointerEvents = 'auto';
            });
            
            document.getElementById('sequence-feedback').innerHTML = '';
            
            // Reset multiple choice
            document.querySelectorAll('#section-4 .mc-option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            document.getElementById('folding-q1-feedback').innerHTML = '';
        }

        // Debugging Features Functions
        function toggleBreakpoint(line) {
            const bp = document.getElementById(`bp-${line}`);
            if (debugState.breakpoints.has(line)) {
                debugState.breakpoints.delete(line);
                bp.style.display = 'none';
            } else {
                debugState.breakpoints.add(line);
                bp.style.display = 'block';
            }
            addXP(3, `breakpoint-${line}`);
        }

        function startDebugging() {
            if (debugState.breakpoints.size === 0) {
                document.getElementById('debug-console').innerHTML = 'Please set at least one breakpoint by clicking on a line number!';
                return;
            }
            
            debugState.running = true;
            debugState.currentLine = 1;
            debugState.variables = {};
            debugState.callStack = ['main()'];
            
            document.getElementById('step-over').disabled = false;
            document.getElementById('step-into').disabled = false;
            document.getElementById('continue').disabled = false;
            document.getElementById('stop').disabled = false;
            
            updateDebugDisplay();
            addXP(10, 'start-debugging');
        }

        function stepOver() {
            if (!debugState.running) return;
            
            debugState.currentLine++;
            if (debugState.currentLine === 2) {
                debugState.variables.n = 5;
            } else if (debugState.currentLine === 5) {
                debugState.variables.result = 120;
            }
            
            updateDebugDisplay();
            addXP(5, `step-over-${debugState.currentLine}`);
        }

        function stepInto() {
            if (!debugState.running) return;
            
            if (debugState.currentLine === 7) {
                debugState.callStack.push('calculate_factorial(5)');
                debugState.currentLine = 1;
                debugState.variables.n = 5;
            }
            
            updateDebugDisplay();
            addXP(5, 'step-into');
        }

        function continueExecution() {
            if (!debugState.running) return;
            
            document.getElementById('debug-console').innerHTML = 'Continuing to next breakpoint...<br>Result: 120';
            stopDebugging();
            showAchievement('Debugging Complete!', 15);
        }

        function stopDebugging() {
            debugState.running = false;
            debugState.currentLine = 0;
            
            document.getElementById('step-over').disabled = true;
            document.getElementById('step-into').disabled = true;
            document.getElementById('continue').disabled = true;
            document.getElementById('stop').disabled = true;
            
            document.querySelectorAll('.code-line').forEach(line => {
                line.classList.remove('current-line');
            });
            
            updateDebugDisplay();
        }

        function updateDebugDisplay() {
            // Update current line highlight
            document.querySelectorAll('.code-line').forEach(line => {
                line.classList.remove('current-line');
            });
            
            if (debugState.running && debugState.currentLine > 0) {
                const lines = document.querySelectorAll('#section-5 .code-line');
                if (lines[debugState.currentLine - 1]) {
                    lines[debugState.currentLine - 1].classList.add('current-line');
                }
            }
            
            // Update variables
            const varList = document.getElementById('variable-list');
            varList.innerHTML = '';
            Object.entries(debugState.variables).forEach(([key, value]) => {
                const varDiv = document.createElement('div');
                varDiv.className = 'variable-watch';
                varDiv.textContent = `${key} = ${value}`;
                varList.appendChild(varDiv);
            });
            
            if (Object.keys(debugState.variables).length === 0) {
                varList.innerHTML = '<div class="variable-watch">No variables in scope</div>';
            }
            
            // Update call stack
            const stackList = document.getElementById('call-stack');
            stackList.innerHTML = '';
            debugState.callStack.forEach(call => {
                const stackDiv = document.createElement('div');
                stackDiv.className = 'variable-watch';
                stackDiv.textContent = call;
                stackList.appendChild(stackDiv);
            });
            
            // Update console
            if (debugState.running) {
                document.getElementById('debug-console').innerHTML = `Debugging... Current line: ${debugState.currentLine}`;
            }
        }

        function checkDebugScenario() {
            const answer = document.getElementById('debug-scenario').value.trim();
            const feedback = document.getElementById('debug-scenario-feedback');
            
            if (answer.length < 50) {
                feedback.innerHTML = '<p style="color: #ef4444;">Please provide a more detailed strategy.</p>';
                return;
            }
            
            const keywords = ['conditional', 'breakpoint', 'condition', '500', 'watch', 'expression', 'log'];
            const matches = keywords.filter(keyword => answer.toLowerCase().includes(keyword));
            
            const xpEarned = Math.min(matches.length * 5, 25);
            addXP(xpEarned, 'debug-scenario');
            
            feedback.innerHTML = `<p style="color: #059669; font-weight: bold;">Good strategy! Key concepts: ${matches.length}/7 (+${xpEarned} XP)</p>`;
            
            if (matches.includes('conditional') && matches.includes('breakpoint')) {
                showAchievement('Debug Strategist!', 10);
            }
        }

        function showHint(topic) {
            const hintBox = document.getElementById(`${topic}-hint`);
            hintBox.style.display = 'block';
            addXP(2, `hint-${topic}`);
        }

        function resetDebuggingActivity() {
            stopDebugging();
            debugState.breakpoints.clear();
            document.querySelectorAll('.breakpoint').forEach(bp => {
                bp.style.display = 'none';
            });
            
            document.getElementById('debug-console').innerHTML = 'Click on line numbers to set breakpoints (red dots), then start debugging!';
            document.getElementById('debug-scenario').value = '';
            document.getElementById('debug-scenario-feedback').innerHTML = '';
            document.getElementById('debug-scenario-hint').style.display = 'none';
            
            document.querySelectorAll('#section-5 .mc-option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            document.getElementById('debug-q1-feedback').innerHTML = '';
            
            clearCanvas();
        }

        // Multiple Choice Functions
        function selectMC(element, question, option) {
            const container = element.parentElement;
            container.querySelectorAll('.mc-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            element.setAttribute('data-answer', option);
        }

        function checkMC(question, correct) {
            const selected = document.querySelector(`.mc-option.selected[onclick*="${question}"]`);
            const feedback = document.getElementById(`${question}-feedback`);
            
            if (!selected) {
                feedback.innerHTML = '<p style="color: #ef4444;">Please select an answer!</p>';
                return;
            }
            
            const userAnswer = selected.getAttribute('data-answer');
            
            if (userAnswer === correct) {
                selected.classList.add('correct');
                feedback.innerHTML = '<p style="color: #059669; font-weight: bold;">Correct! ‚úì</p>';
                addXP(15, `mc-${question}`);
                
                if (question.startsWith('final-')) {
                    finalQuizAnswers[question] = true;
                }
            } else {
                selected.classList.add('incorrect');
                feedback.innerHTML = '<p style="color: #ef4444;">Incorrect. Try again!</p>';
                
                if (question.startsWith('final-')) {
                    finalQuizAnswers[question] = false;
                }
            }
        }

        // Exam Question Functions
        function showMarkScheme(question) {
            const textarea = document.getElementById(`exam-${question}`);
            const marksInput = document.getElementById(`${question}-marks`);
            const markScheme = document.getElementById(`${question}-markscheme`);
            
            if (textarea.value.trim().length < 100) {
                alert('Please write a more detailed answer before viewing the mark scheme.');
                return;
            }
            
            if (!marksInput.value) {
                alert('Please enter your predicted marks first.');
                return;
            }
            
            markScheme.style.display = 'block';
            addXP(20, `markscheme-${question}`);
        }

        // Extension Activity
        function submitExtension() {
            const textareas = document.querySelectorAll('#section-7 textarea');
            let filled = 0;
            
            textareas.forEach((textarea, index) => {
                if (textarea.value.trim().length > 50) {
                    filled++;
                    addXP(15, `extension-${index}`);
                }
            });
            
            if (filled === 4) {
                showAchievement('Extension Master!', 40);
            } else if (filled > 0) {
                showAchievement(`Extension Work Submitted!`, filled * 10);
            }
        }

        // Final Quiz Functions
        function calculateFinalScore() {
            const total = Object.keys(finalQuizAnswers).length;
            const correct = Object.values(finalQuizAnswers).filter(v => v).length;
            
            const scoreDiv = document.getElementById('final-score');
            scoreDiv.innerHTML = `
                <h3 style="color: #059669;">Final Score: ${correct}/${total}</h3>
                <p>${correct === total ? 'Perfect score! You\'ve mastered IDE features!' : 
                      correct >= total * 0.8 ? 'Excellent understanding of IDEs!' :
                      correct >= total * 0.6 ? 'Good effort! Review the features you missed.' :
                      'Keep studying! IDEs will make your coding much easier.'}</p>
            `;
            
            if (correct === total) {
                showAchievement('IDE Master!', 50);
            }
        }

        // Feedback System
        function openFeedback() {
            document.getElementById('feedbackModal').style.display = 'flex';
        }

        function closeFeedback() {
            document.getElementById('feedbackModal').style.display = 'none';
            document.getElementById('feedbackText').value = '';
        }

        function sendFeedback() {
            const feedbackText = document.getElementById('feedbackText').value.trim();
            if (!feedbackText) {
                alert('Please enter your feedback before sending.');
                return;
            }
            
            const currentPage = `Section ${currentSection + 1}: ${document.querySelector('.section.active h2').textContent}`;
            const emailBody = `Feedback from IDE Features Lesson\n\nPage: ${currentPage}\n\nFeedback:\n${feedbackText}`;
            
            console.log('Sending feedback:', emailBody);
            
            alert('Thank you for your feedback! It has been sent.');
            closeFeedback();
            addXP(5, 'feedback-sent');
        }

        // Anti-paste protection
        document.addEventListener('paste', function(e) {
            e.preventDefault();
            const pasteShame = document.getElementById('pasteShame');
            pasteShame.style.display = 'block';
            setTimeout(() => {
                pasteShame.style.display = 'none';
            }, 3000);
            return false;
        });

        document.addEventListener('contextmenu', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });

        // Initialize on load
        window.onload = function() {
            initCanvas();
            updateXPDisplay();
            updateProgress();
            
            const container = canvas.parentElement;
            canvas.width = Math.min(600, container.clientWidth - 40);
            canvas.height = 400;
        };

        // Handle window resize
        window.onresize = function() {
            const container = canvas.parentElement;
            const currentWidth = canvas.width;
            const newWidth = Math.min(600, container.clientWidth - 40);
            
            if (Math.abs(currentWidth - newWidth) > 50) {
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                canvas.width = newWidth;
                ctx.putImageData(imageData, 0, 0);
            }
        };
    </script>
</body>
</html>