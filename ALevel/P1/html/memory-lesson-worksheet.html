<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory (RAM & ROM) - Interactive Lesson</title>
    <style>
        :root {
            --primary-color: #3498db;
            --primary-dark: #2980b9;
            --secondary-color: #e74c3c;
            --secondary-dark: #c0392b;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --bg-color: #f8f9fa;
            --text-color: #2c3e50;
            --card-bg: #ffffff;
            --border-color: #dee2e6;
            --shadow: 0 2px 10px rgba(0,0,0,0.1);
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header with animated gradient */
        .header {
            background: var(--gradient-primary);
            color: white;
            padding: 2rem 1rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            background-size: 200% 200%;
            animation: gradientShift 10s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        /* XP System */
        .xp-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            backdrop-filter: blur(5px);
        }

        .xp-bar {
            width: 200px;
            height: 20px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, #f39c12, #e74c3c);
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .xp-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shine {
            to { left: 100%; }
        }

        .level-badge {
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Navigation */
        .nav-container {
            background: white;
            padding: 1rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 80px;
            z-index: 999;
        }

        .nav-pills {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding: 0.5rem;
            max-width: 1200px;
            margin: 0 auto;
            scrollbar-width: thin;
        }

        .nav-pill {
            padding: 0.5rem 1rem;
            background: var(--bg-color);
            border: 2px solid var(--border-color);
            border-radius: 20px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .nav-pill.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .nav-pill.completed::after {
            content: '✓';
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--success-color);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        /* Interactive Areas */
        .interactive-area {
            background: var(--bg-color);
            border: 2px dashed var(--primary-color);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            transition: all 0.3s ease;
        }

        .interactive-area.highlight {
            background: rgba(52, 152, 219, 0.1);
            border-style: solid;
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.3);
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:active::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background: var(--secondary-color);
            color: white;
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-warning {
            background: var(--warning-color);
            color: white;
        }

        /* Achievement Popup */
        .achievement-popup {
            position: fixed;
            top: 100px;
            right: 20px;
            background: white;
            border-radius: 15px;
            padding: 1.5rem 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 2000;
            max-width: 300px;
            border: 3px solid var(--gradient-primary);
        }

        .achievement-popup.show {
            transform: translateX(0);
        }

        .achievement-icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 0.5rem;
            animation: bounce 0.6s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Quiz Elements */
        .quiz-option {
            display: block;
            width: 100%;
            padding: 1rem;
            margin: 0.5rem 0;
            background: var(--bg-color);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: white;
            border-color: var(--primary-color);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .quiz-option.correct {
            background: var(--success-color);
            color: white;
            border-color: var(--success-color);
            animation: correctPulse 0.5s ease;
        }

        .quiz-option.incorrect {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
            animation: shake 0.5s ease;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Input Fields */
        .input-field {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        /* Drag and Drop Areas */
        .drag-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .drag-item {
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .drag-item:hover {
            background: var(--bg-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .drag-item.selected {
            background: var(--primary-color);
            color: white;
            transform: scale(1.05);
        }

        .drop-zone {
            min-height: 150px;
            padding: 1rem;
            background: var(--bg-color);
            border: 3px dashed var(--border-color);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .drop-zone.highlight {
            background: rgba(52, 152, 219, 0.1);
            border-color: var(--primary-color);
        }

        /* Simulation Container */
        .simulation-container {
            background: #2c3e50;
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 1rem 0;
            position: relative;
            overflow: hidden;
        }

        .simulation-step {
            display: none;
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.5s ease;
        }

        .simulation-step.active {
            display: block;
            opacity: 1;
            transform: translateX(0);
        }

        /* Canvas for Drawing */
        .drawing-canvas {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: white;
            touch-action: none;
            cursor: crosshair;
            margin: 1rem 0;
        }

        /* Shame Message */
        .shame-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: #e74c3c;
            color: white;
            padding: 2rem;
            border-radius: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            z-index: 3000;
            animation: shameAnimation 3s ease;
        }

        @keyframes shameAnimation {
            0% { transform: translate(-50%, -50%) scale(0); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(0); }
        }

        /* Feedback Button */
        .feedback-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .feedback-btn:hover {
            transform: scale(1.1);
            background: var(--primary-dark);
        }

        /* Feedback Modal */
        .feedback-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .feedback-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Accessibility Controls */
        .accessibility-controls {
            position: fixed;
            top: 150px;
            right: 20px;
            background: white;
            border-radius: 10px;
            padding: 1rem;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        .accessibility-controls button {
            display: block;
            width: 100%;
            margin: 0.5rem 0;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            background: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .accessibility-controls button:hover {
            background: var(--bg-color);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .xp-container {
                width: 100%;
                justify-content: center;
            }

            .drag-container {
                grid-template-columns: 1fr;
            }

            .nav-container {
                top: 140px;
            }

            .accessibility-controls {
                top: auto;
                bottom: 80px;
                right: 10px;
            }
        }

        /* High Contrast Mode */
        body.high-contrast {
            --bg-color: #000000;
            --text-color: #ffffff;
            --card-bg: #1a1a1a;
            --border-color: #ffffff;
            --primary-color: #00ff00;
            --secondary-color: #ff0000;
        }

        /* Dyslexia Font */
        body.dyslexia-font {
            font-family: 'Comic Sans MS', 'OpenDyslexic', sans-serif;
            letter-spacing: 0.1em;
            line-height: 1.8;
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 1rem;
        }

        /* Mark Scheme */
        .mark-scheme {
            background: rgba(46, 204, 113, 0.1);
            border: 2px solid var(--success-color);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
            display: none;
        }

        .mark-scheme.show {
            display: block;
        }

        /* Particle Container */
        #particle-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1500;
        }

        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--primary-color);
            border-radius: 50%;
            pointer-events: none;
            animation: particleFall 3s linear forwards;
        }

        @keyframes particleFall {
            to {
                transform: translateY(100vh);
                opacity: 0;
            }
        }

        /* Loading Spinner */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid transparent;
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Hint Container */
        .hint-container {
            background: rgba(243, 156, 18, 0.1);
            border-left: 4px solid var(--warning-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
            display: none;
        }

        .hint-container.show {
            display: block;
        }

        /* Table Styles */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--primary-color);
            color: white;
        }

        .comparison-table tr:nth-child(even) {
            background: var(--bg-color);
        }

        /* Memory Block Visualization */
        .memory-block {
            display: inline-block;
            width: 80px;
            height: 60px;
            background: var(--primary-color);
            color: white;
            text-align: center;
            line-height: 60px;
            margin: 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .memory-block:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .memory-block.empty {
            background: var(--border-color);
            color: var(--text-color);
        }

        .memory-block.active {
            background: var(--success-color);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Code Display */
        .code-display {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .code-display .keyword {
            color: #569cd6;
        }

        .code-display .string {
            color: #ce9178;
        }

        .code-display .comment {
            color: #6a9955;
        }

        /* Progress Indicators */
        .progress-indicator {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
            gap: 0.5rem;
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--border-color);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--primary-color);
            transform: scale(1.5);
        }

        /* Floating XP Indicator */
        .xp-float {
            position: fixed;
            color: var(--warning-color);
            font-weight: bold;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 3000;
            animation: floatUp 2s ease-out forwards;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>Memory: RAM & ROM</h1>
            <div class="xp-container" role="status" aria-live="polite">
                <span class="level-badge">Level <span id="current-level">1</span></span>
                <div class="xp-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                    <div class="xp-fill" id="xp-fill" style="width: 0%"></div>
                </div>
                <span id="xp-text">0 / 50 XP</span>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav-container" role="navigation">
        <div class="nav-pills">
            <button class="nav-pill active" onclick="navigateToSection('intro')">Introduction</button>
            <button class="nav-pill" onclick="navigateToSection('starter')">Starter</button>
            <button class="nav-pill" onclick="navigateToSection('ram-basics')">RAM Basics</button>
            <button class="nav-pill" onclick="navigateToSection('rom-basics')">ROM Basics</button>
            <button class="nav-pill" onclick="navigateToSection('rom-types')">ROM Types</button>
            <button class="nav-pill" onclick="navigateToSection('ram-types')">RAM Types</button>
            <button class="nav-pill" onclick="navigateToSection('simulation')">Simulation</button>
            <button class="nav-pill" onclick="navigateToSection('practice')">Practice</button>
            <button class="nav-pill" onclick="navigateToSection('exam')">Exam Questions</button>
            <button class="nav-pill" onclick="navigateToSection('extension')">Extension</button>
            <button class="nav-pill" onclick="navigateToSection('summary')">Summary</button>
            <button class="nav-pill" onclick="navigateToSection('videos')">Videos</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Introduction Section -->
        <section id="intro" class="section active">
            <div class="card">
                <h2>Welcome to Memory: RAM & ROM</h2>
                <h3>Learning Outcomes</h3>
                <ul>
                    <li>Understand the differences between RAM and ROM</li>
                    <li>Identify the uses and characteristics of different memory types</li>
                    <li>Compare Static RAM (SRAM) and Dynamic RAM (DRAM)</li>
                    <li>Explain the features of PROM, EPROM, and EEPROM</li>
                    <li>Apply knowledge to real-world scenarios</li>
                </ul>

                <div class="interactive-area highlight">
                    <h4>Pre-Assessment Quiz</h4>
                    <p>Test your current knowledge about computer memory:</p>
                    
                    <div id="pre-quiz">
                        <p><strong>What does RAM stand for?</strong></p>
                        <button class="quiz-option" onclick="checkPreQuiz('a')">Read Access Memory</button>
                        <button class="quiz-option" onclick="checkPreQuiz('b')">Random Access Memory</button>
                        <button class="quiz-option" onclick="checkPreQuiz('c')">Rapid Access Memory</button>
                        <button class="quiz-option" onclick="checkPreQuiz('d')">Run Access Memory</button>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-primary" onclick="navigateToSection('starter')">Start Learning →</button>
                </div>
            </div>
        </section>

        <!-- Starter Activity -->
        <section id="starter" class="section">
            <div class="card">
                <h2>Starter Activity: Memory Characteristics</h2>
                <p>Click on each characteristic, then click the correct memory type it belongs to!</p>
                
                <div class="drag-container">
                    <div>
                        <h3>Characteristics</h3>
                        <div class="drag-item" onclick="selectItem(this, 'volatile')">Volatile (loses data when powered off)</div>
                        <div class="drag-item" onclick="selectItem(this, 'non-volatile')">Non-volatile (keeps data when powered off)</div>
                        <div class="drag-item" onclick="selectItem(this, 'writable')">Can be written to and read from</div>
                        <div class="drag-item" onclick="selectItem(this, 'read-only')">Read-only during normal operation</div>
                        <div class="drag-item" onclick="selectItem(this, 'programs')">Stores currently running programs</div>
                        <div class="drag-item" onclick="selectItem(this, 'boot')">Stores boot-up instructions</div>
                    </div>
                    <div>
                        <h3>Memory Types</h3>
                        <div class="drop-zone" id="ram-zone" onclick="dropItem('ram')">
                            <h4>RAM</h4>
                            <div id="ram-items"></div>
                        </div>
                        <div class="drop-zone" id="rom-zone" onclick="dropItem('rom')">
                            <h4>ROM</h4>
                            <div id="rom-items"></div>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-secondary" onclick="resetStarter()">Reset Activity</button>
                <button class="btn btn-primary" onclick="checkStarter()">Check Answers</button>
                
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('intro')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('ram-basics')">Next →</button>
                </div>
            </div>
        </section>

        <!-- RAM Basics -->
        <section id="ram-basics" class="section">
            <div class="card">
                <h2>Random Access Memory (RAM)</h2>
                
                <div class="interactive-area">
                    <h3>What is RAM?</h3>
                    <p>RAM is the primary storage that your computer uses for temporary data storage while it's running.</p>
                    
                    <div class="memory-visualization">
                        <h4>Click each memory block to see what RAM stores:</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 1rem 0;">
                            <div class="memory-block" onclick="showRAMUse(this, 'os')">OS</div>
                            <div class="memory-block" onclick="showRAMUse(this, 'programs')">Programs</div>
                            <div class="memory-block" onclick="showRAMUse(this, 'data')">Data</div>
                            <div class="memory-block" onclick="showRAMUse(this, 'clipboard')">Clipboard</div>
                        </div>
                        <div id="ram-use-description" style="margin-top: 1rem; padding: 1rem; background: var(--bg-color); border-radius: 8px; min-height: 80px;">
                            <p style="color: #666;">Click a memory block to learn more...</p>
                        </div>
                    </div>
                </div>

                <div class="interactive-area">
                    <h3>RAM Characteristics Quiz</h3>
                    <p>Fill in the blanks with the correct terms:</p>
                    
                    <p>1. RAM is <select class="input-field" style="width: 150px;" id="ram-q1">
                        <option value="">Choose...</option>
                        <option value="permanent">permanent</option>
                        <option value="volatile">volatile</option>
                        <option value="read-only">read-only</option>
                        <option value="slow">slow</option>
                    </select> memory.</p>
                    
                    <p>2. Access to RAM is <select class="input-field" style="width: 150px;" id="ram-q2">
                        <option value="">Choose...</option>
                        <option value="very slow">very slow</option>
                        <option value="sequential">sequential</option>
                        <option value="very fast">very fast</option>
                        <option value="impossible">impossible</option>
                    </select> compared to secondary storage.</p>
                    
                    <p>3. When you power off your computer, data in RAM is <select class="input-field" style="width: 150px;" id="ram-q3">
                        <option value="">Choose...</option>
                        <option value="saved">saved</option>
                        <option value="backed up">backed up</option>
                        <option value="deleted">deleted</option>
                        <option value="compressed">compressed</option>
                    </select>.</p>
                    
                    <button class="btn btn-primary" onclick="checkRAMQuiz()">Check Answers</button>
                    <button class="btn btn-warning" onclick="showHint('ram')">Need a Hint?</button>
                </div>
                
                <div class="hint-container" id="ram-hint">
                    <p>💡 Hint: Think about what happens to your unsaved work when the power goes out!</p>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('starter')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('rom-basics')">Next →</button>
                </div>
            </div>
        </section>

        <!-- ROM Basics -->
        <section id="rom-basics" class="section">
            <div class="card">
                <h2>Read Only Memory (ROM)</h2>
                
                <div class="interactive-area">
                    <h3>Understanding ROM</h3>
                    <p>ROM contains permanent instructions that cannot be changed during normal operation.</p>
                    
                    <div class="code-display">
                        <span class="comment">// Example: BIOS Instructions in ROM</span><br>
                        <span class="keyword">function</span> bootSequence() {<br>
                        &nbsp;&nbsp;<span class="comment">// Check hardware components</span><br>
                        &nbsp;&nbsp;checkCPU();<br>
                        &nbsp;&nbsp;checkRAM();<br>
                        &nbsp;&nbsp;checkStorage();<br>
                        &nbsp;&nbsp;<br>
                        &nbsp;&nbsp;<span class="comment">// Load operating system</span><br>
                        &nbsp;&nbsp;loadOS();<br>
                        }
                    </div>
                </div>

                <div class="interactive-area highlight">
                    <h3>ROM vs RAM Comparison</h3>
                    <p>Select whether each statement describes RAM or ROM:</p>
                    
                    <div style="margin: 1rem 0;">
                        <p>1. Stores the BIOS: 
                            <button class="btn btn-secondary" onclick="checkROMRAM(1, 'ram')">RAM</button>
                            <button class="btn btn-secondary" onclick="checkROMRAM(1, 'rom')">ROM</button>
                            <span id="romram-result-1"></span>
                        </p>
                        
                        <p>2. Loses data when powered off: 
                            <button class="btn btn-secondary" onclick="checkROMRAM(2, 'ram')">RAM</button>
                            <button class="btn btn-secondary" onclick="checkROMRAM(2, 'rom')">ROM</button>
                            <span id="romram-result-2"></span>
                        </p>
                        
                        <p>3. Can be written to during normal use: 
                            <button class="btn btn-secondary" onclick="checkROMRAM(3, 'ram')">RAM</button>
                            <button class="btn btn-secondary" onclick="checkROMRAM(3, 'rom')">ROM</button>
                            <span id="romram-result-3"></span>
                        </p>
                        
                        <p>4. Contains boot-up instructions: 
                            <button class="btn btn-secondary" onclick="checkROMRAM(4, 'ram')">RAM</button>
                            <button class="btn btn-secondary" onclick="checkROMRAM(4, 'rom')">ROM</button>
                            <span id="romram-result-4"></span>
                        </p>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('ram-basics')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('rom-types')">Next →</button>
                </div>
            </div>
        </section>

        <!-- ROM Types -->
        <section id="rom-types" class="section">
            <div class="card">
                <h2>Types of ROM</h2>
                
                <div class="interactive-area">
                    <h3>PROM (Programmable ROM)</h3>
                    <ul>
                        <li>Can be programmed ONCE after manufacture</li>
                        <li>Uses a matrix of fuses</li>
                        <li>Programming "burns" specific fuses</li>
                        <li>Common in mobile phones and RFID tags</li>
                    </ul>
                </div>

                <div class="interactive-area">
                    <h3>EPROM (Erasable Programmable ROM)</h3>
                    <ul>
                        <li>Can be erased and reprogrammed multiple times</li>
                        <li>Uses UV light through a quartz window</li>
                        <li>Uses floating gate transistors and capacitors</li>
                        <li>Used in development applications</li>
                    </ul>
                </div>

                <div class="interactive-area">
                    <h3>EEPROM (Electrically Erasable Programmable ROM)</h3>
                    <ul>
                        <li>Can be erased electrically (no UV light needed)</li>
                        <li>Can be reprogrammed in place on the motherboard</li>
                        <li>User-modifiable</li>
                        <li>Used for firmware that needs updates</li>
                    </ul>
                </div>

                <div class="interactive-area highlight">
                    <h3>ROM Types Matching Activity</h3>
                    <p>Match each feature to the correct ROM type:</p>
                    
                    <div class="drag-container">
                        <div>
                            <h4>Features</h4>
                            <div class="drag-item" onclick="selectROMFeature(this, 'uv-light')">Erased using UV light</div>
                            <div class="drag-item" onclick="selectROMFeature(this, 'once-only')">Can only be written once</div>
                            <div class="drag-item" onclick="selectROMFeature(this, 'electrical')">Erased electrically</div>
                            <div class="drag-item" onclick="selectROMFeature(this, 'fuses')">Uses fuses that are burned</div>
                            <div class="drag-item" onclick="selectROMFeature(this, 'in-place')">Can be updated without removal</div>
                            <div class="drag-item" onclick="selectROMFeature(this, 'window')">Has a quartz window</div>
                        </div>
                        <div>
                            <h4>ROM Types</h4>
                            <div class="drop-zone" id="prom-zone" onclick="dropROMFeature('prom')">
                                <h5>PROM</h5>
                                <div id="prom-features"></div>
                            </div>
                            <div class="drop-zone" id="eprom-zone" onclick="dropROMFeature('eprom')">
                                <h5>EPROM</h5>
                                <div id="eprom-features"></div>
                            </div>
                            <div class="drop-zone" id="eeprom-zone" onclick="dropROMFeature('eeprom')">
                                <h5>EEPROM</h5>
                                <div id="eeprom-features"></div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-secondary" onclick="resetROMTypes()">Reset</button>
                    <button class="btn btn-primary" onclick="checkROMTypes()">Check Answers</button>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('rom-basics')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('ram-types')">Next →</button>
                </div>
            </div>
        </section>

        <!-- RAM Types -->
        <section id="ram-types" class="section">
            <div class="card">
                <h2>Static RAM vs Dynamic RAM</h2>
                
                <div class="interactive-area">
                    <h3>Comparison Table</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Static RAM (SRAM)</th>
                                <th>Dynamic RAM (DRAM)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Refresh Required?</td>
                                <td>No</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td>Speed</td>
                                <td>Faster</td>
                                <td>Slower</td>
                            </tr>
                            <tr>
                                <td>Power Usage</td>
                                <td>Lower (no refresh)</td>
                                <td>Higher (needs refresh)</td>
                            </tr>
                            <tr>
                                <td>Cost</td>
                                <td>More expensive</td>
                                <td>Less expensive</td>
                            </tr>
                            <tr>
                                <td>Storage Density</td>
                                <td>Lower</td>
                                <td>Higher</td>
                            </tr>
                            <tr>
                                <td>Common Use</td>
                                <td>Cache memory</td>
                                <td>Main memory</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="interactive-area highlight">
                    <h3>SRAM vs DRAM Quiz</h3>
                    <p>Answer these questions about Static and Dynamic RAM:</p>
                    
                    <div id="ram-types-quiz">
                        <p>1. Which type of RAM is used for cache memory?</p>
                        <button class="quiz-option" onclick="checkRAMType(1, 'sram')">Static RAM</button>
                        <button class="quiz-option" onclick="checkRAMType(1, 'dram')">Dynamic RAM</button>
                        
                        <p style="margin-top: 1rem;">2. Which type needs to be refreshed constantly?</p>
                        <button class="quiz-option" onclick="checkRAMType(2, 'sram')">Static RAM</button>
                        <button class="quiz-option" onclick="checkRAMType(2, 'dram')">Dynamic RAM</button>
                        
                        <p style="margin-top: 1rem;">3. Which is more expensive per bit?</p>
                        <button class="quiz-option" onclick="checkRAMType(3, 'sram')">Static RAM</button>
                        <button class="quiz-option" onclick="checkRAMType(3, 'dram')">Dynamic RAM</button>
                        
                        <p style="margin-top: 1rem;">4. Which uses capacitors to store data?</p>
                        <button class="quiz-option" onclick="checkRAMType(4, 'sram')">Static RAM</button>
                        <button class="quiz-option" onclick="checkRAMType(4, 'dram')">Dynamic RAM</button>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('rom-types')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('simulation')">Next →</button>
                </div>
            </div>
        </section>

        <!-- Memory Simulation -->
        <section id="simulation" class="section">
            <div class="card">
                <h2>Memory in Action: Interactive Simulation</h2>
                
                <div class="simulation-container">
                    <h3>Computer Boot Sequence Simulation</h3>
                    <p>Step through how ROM and RAM work together during computer startup:</p>
                    
                    <div class="progress-indicator">
                        <span class="progress-dot active" id="sim-dot-1"></span>
                        <span class="progress-dot" id="sim-dot-2"></span>
                        <span class="progress-dot" id="sim-dot-3"></span>
                        <span class="progress-dot" id="sim-dot-4"></span>
                        <span class="progress-dot" id="sim-dot-5"></span>
                    </div>
                    
                    <div class="simulation-step active" id="sim-step-1">
                        <h4>Step 1: Power On</h4>
                        <p>Computer receives power. ROM (containing BIOS) is accessed immediately.</p>
                        <div style="margin: 1rem 0;">
                            <div class="memory-block active">ROM/BIOS</div>
                            <div class="memory-block empty">RAM</div>
                        </div>
                    </div>
                    
                    <div class="simulation-step" id="sim-step-2">
                        <h4>Step 2: BIOS Executes</h4>
                        <p>BIOS from ROM checks hardware components and initializes them.</p>
                        <div style="margin: 1rem 0;">
                            <div class="memory-block active">ROM/BIOS</div>
                            <div class="memory-block empty">RAM</div>
                            <div class="memory-block" style="background: #f39c12;">CPU</div>
                            <div class="memory-block" style="background: #f39c12;">Storage</div>
                        </div>
                    </div>
                    
                    <div class="simulation-step" id="sim-step-3">
                        <h4>Step 3: OS Loading Begins</h4>
                        <p>BIOS locates the operating system on storage and begins loading it into RAM.</p>
                        <div style="margin: 1rem 0;">
                            <div class="memory-block">ROM/BIOS</div>
                            <div class="memory-block active">RAM</div>
                            <div class="memory-block" style="background: #27ae60;">OS Loading...</div>
                        </div>
                    </div>
                    
                    <div class="simulation-step" id="sim-step-4">
                        <h4>Step 4: OS in RAM</h4>
                        <p>Operating system is now loaded into RAM and takes control from BIOS.</p>
                        <div style="margin: 1rem 0;">
                            <div class="memory-block">ROM/BIOS</div>
                            <div class="memory-block active">RAM</div>
                            <div class="memory-block active">OS in RAM</div>
                        </div>
                    </div>
                    
                    <div class="simulation-step" id="sim-step-5">
                        <h4>Step 5: Ready for Use</h4>
                        <p>Computer is ready. Programs can now be loaded into RAM as needed.</p>
                        <div style="margin: 1rem 0;">
                            <div class="memory-block">ROM/BIOS</div>
                            <div class="memory-block active">RAM</div>
                            <div class="memory-block active">OS</div>
                            <div class="memory-block active">Programs</div>
                            <div class="memory-block active">User Data</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-secondary" onclick="simPrevious()">← Previous Step</button>
                        <button class="btn btn-primary" onclick="simNext()">Next Step →</button>
                        <button class="btn btn-warning" onclick="resetSimulation()">Reset</button>
                    </div>
                </div>
                
                <div class="interactive-area">
                    <h3>Simulation Reflection</h3>
                    <p>Based on the simulation, answer this question:</p>
                    <p>Why is ROM essential for computer startup?</p>
                    <textarea class="input-field" id="sim-reflection" rows="3" placeholder="Write your answer here..."></textarea>
                    <button class="btn btn-primary" onclick="checkSimReflection()">Submit Answer</button>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('ram-types')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('practice')">Next →</button>
                </div>
            </div>
        </section>

        <!-- Practice Questions -->
        <section id="practice" class="section">
            <div class="card">
                <h2>Practice Questions</h2>
                
                <div class="interactive-area">
                    <h3>Question 1: Multiple Choice</h3>
                    <p>Which of the following is NOT a characteristic of ROM?</p>
                    <button class="quiz-option" onclick="checkPractice(1, 'a')">Stores boot-up instructions</button>
                    <button class="quiz-option" onclick="checkPractice(1, 'b')">Non-volatile memory</button>
                    <button class="quiz-option" onclick="checkPractice(1, 'c')">Stores currently running programs</button>
                    <button class="quiz-option" onclick="checkPractice(1, 'd')">Cannot be easily modified</button>
                </div>
                
                <div class="interactive-area">
                    <h3>Question 2: True or False</h3>
                    <p>EEPROM can be erased and reprogrammed without removing it from the computer.</p>
                    <button class="btn btn-secondary" onclick="checkPractice(2, 'true')">True</button>
                    <button class="btn btn-secondary" onclick="checkPractice(2, 'false')">False</button>
                </div>
                
                <div class="interactive-area">
                    <h3>Question 3: Short Answer</h3>
                    <p>Explain why a computer needs both RAM and ROM to function properly.</p>
                    <textarea class="input-field" id="practice-short" rows="4" placeholder="Write your answer here..."></textarea>
                    <button class="btn btn-primary" onclick="checkShortAnswer()">Submit Answer</button>
                </div>
                
                <div class="interactive-area">
                    <h3>Question 4: Application</h3>
                    <p>A VR headset manufacturer is choosing between EPROM and EEPROM for storing firmware. Which would you recommend and why?</p>
                    <textarea class="input-field" id="practice-application" rows="4" placeholder="Write your recommendation here..."></textarea>
                    <button class="btn btn-primary" onclick="checkApplication()">Submit Answer</button>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('simulation')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('exam')">Next →</button>
                </div>
            </div>
        </section>

        <!-- Exam Practice -->
        <section id="exam" class="section">
            <div class="card">
                <h2>Exam Practice Questions</h2>
                
                <div class="interactive-area">
                    <h3>Question 1 (5 marks)</h3>
                    <p>Complete the description of computer memory:</p>
                    <p>Random Access Memory (RAM) and Read Only Memory (ROM) are both examples of _______ memory.</p>
                    <p>One item that is stored in RAM is _______.</p>
                    <p>One item that is stored in ROM is _______.</p>
                    <p>RAM can be either Static RAM (SRAM) or Dynamic RAM (DRAM).</p>
                    <p>SRAM uses transistors arranged as _______.</p>
                    <p>DRAM uses transistors and _______.</p>
                    
                    <textarea class="input-field" id="exam-q1" rows="6" placeholder="Write your answers here..."></textarea>
                    
                    <div style="margin-top: 1rem;">
                        <label>Predicted marks: 
                            <input type="number" id="marks-q1" min="0" max="5" style="width: 50px;" class="input-field">
                        </label>
                        <button class="btn btn-secondary" onclick="showMarkScheme('q1')">Show Mark Scheme</button>
                    </div>
                    
                    <div class="mark-scheme" id="mark-scheme-q1">
                        <h4>Mark Scheme:</h4>
                        <ul>
                            <li>primary (1 mark)</li>
                            <li>currently running software/data/part of OS (1 mark)</li>
                            <li>the start-up/boot-up instructions/BIOS (1 mark)</li>
                            <li>flip-flops/latches (1 mark)</li>
                            <li>capacitors (1 mark)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="interactive-area">
                    <h3>Question 2 (3 marks)</h3>
                    <p>Explain the difference between Programmable ROM (PROM), Erasable Programmable ROM (EPROM) and Electrically Erasable Programmable ROM (EEPROM).</p>
                    
                    <textarea class="input-field" id="exam-q2" rows="8" placeholder="Write your answer here..."></textarea>
                    
                    <div style="margin-top: 1rem;">
                        <label>Predicted marks: 
                            <input type="number" id="marks-q2" min="0" max="3" style="width: 50px;" class="input-field">
                        </label>
                        <button class="btn btn-secondary" onclick="showMarkScheme('q2')">Show Mark Scheme</button>
                    </div>
                    
                    <div class="mark-scheme" id="mark-scheme-q2">
                        <h4>Mark Scheme (1 mark per bullet point to max 3):</h4>
                        <ul>
                            <li>PROM can be set once, EPROM and EEPROM can be overwritten multiple times</li>
                            <li>EPROM needs to be removed from device, EEPROM can be erased in situ</li>
                            <li>EPROM can be erased using UV light, EEPROM can be erased using voltage/is flash storage</li>
                            <li>EPROM must be entirely erased before rewriting, EEPROM does not have to be entirely erased before rewriting</li>
                        </ul>
                    </div>
                </div>
                
                <div class="interactive-area">
                    <h3>Question 3 (2 marks)</h3>
                    <p>A laptop computer has Static RAM (SRAM). Explain why Static RAM is used in the laptop instead of Dynamic RAM.</p>
                    
                    <textarea class="input-field" id="exam-q3" rows="5" placeholder="Write your answer here..."></textarea>
                    
                    <div style="margin-top: 1rem;">
                        <label>Predicted marks: 
                            <input type="number" id="marks-q3" min="0" max="2" style="width: 50px;" class="input-field">
                        </label>
                        <button class="btn btn-secondary" onclick="showMarkScheme('q3')">Show Mark Scheme</button>
                    </div>
                    
                    <div class="mark-scheme" id="mark-scheme-q3">
                        <h4>Mark Scheme (1 mark per bullet point to max 2):</h4>
                        <ul>
                            <li>Static RAM has faster access time because it does not need to be refreshed</li>
                            <li>Used in the CPU for improvement of CPU cache speed</li>
                            <li>Static RAM has lower power usage</li>
                        </ul>
                    </div>
                </div>
                
                <h3>Drawing Canvas for Rough Work</h3>
                <canvas id="drawing-canvas" class="drawing-canvas" width="600" height="300"></canvas>
                <button class="btn btn-secondary" onclick="clearCanvas()">Clear Canvas</button>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('practice')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('extension')">Next →</button>
                </div>
            </div>
        </section>

        <!-- Extension Activities -->
        <section id="extension" class="section">
            <div class="card">
                <h2>Extension Activities</h2>
                
                <div class="interactive-area">
                    <h3>Research Task: Future Memory Technologies</h3>
                    <p>Research and explain ONE of the following emerging memory technologies:</p>
                    <ul>
                        <li>3D XPoint (Intel Optane)</li>
                        <li>MRAM (Magnetoresistive RAM)</li>
                        <li>ReRAM (Resistive RAM)</li>
                        <li>Phase-Change Memory (PCM)</li>
                    </ul>
                    <p>Include: How it works, advantages over current technology, and potential applications.</p>
                    <textarea class="input-field" rows="8" placeholder="Write your research findings here..."></textarea>
                </div>
                
                <div class="interactive-area">
                    <h3>Design Challenge</h3>
                    <p>Design a memory hierarchy for a gaming console. Consider:</p>
                    <ul>
                        <li>What types of memory would you use and where?</li>
                        <li>How would you balance cost vs performance?</li>
                        <li>What special considerations for gaming are needed?</li>
                    </ul>
                    <textarea class="input-field" rows="6" placeholder="Describe your design here..."></textarea>
                </div>
                
                <div class="interactive-area">
                    <h3>Critical Thinking</h3>
                    <p>Why do you think computers still use ROM for BIOS when we have rewritable storage like SSDs? What are the security implications?</p>
                    <textarea class="input-field" rows="4" placeholder="Share your thoughts..."></textarea>
                </div>
                
                <button class="btn btn-primary" onclick="submitExtension()">Submit Extension Work</button>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('exam')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('summary')">Next →</button>
                </div>
            </div>
        </section>

        <!-- Summary Section -->
        <section id="summary" class="section">
            <div class="card">
                <h2>Summary & Final Quiz</h2>
                
                <h3>Key Takeaways</h3>
                <ul>
                    <li><strong>RAM</strong> is volatile memory for temporary storage</li>
                    <li><strong>ROM</strong> is non-volatile memory for permanent instructions</li>
                    <li><strong>SRAM</strong> is fast but expensive, used for cache</li>
                    <li><strong>DRAM</strong> is slower but cheaper, used for main memory</li>
                    <li><strong>PROM</strong> can be written once, <strong>EPROM</strong> uses UV light, <strong>EEPROM</strong> is electrically erasable</li>
                </ul>
                
                <div class="interactive-area highlight">
                    <h3>Final Assessment Quiz</h3>
                    
                    <div id="final-quiz">
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>1. What type of memory loses its contents when power is removed?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(1, 'a')">ROM</button>
                            <button class="quiz-option" onclick="selectFinal(1, 'b')">RAM</button>
                            <button class="quiz-option" onclick="selectFinal(1, 'c')">EEPROM</button>
                            <button class="quiz-option" onclick="selectFinal(1, 'd')">BIOS</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>2. Which ROM type requires UV light for erasure?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(2, 'a')">PROM</button>
                            <button class="quiz-option" onclick="selectFinal(2, 'b')">EEPROM</button>
                            <button class="quiz-option" onclick="selectFinal(2, 'c')">EPROM</button>
                            <button class="quiz-option" onclick="selectFinal(2, 'd')">Flash ROM</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>3. What does SRAM use to store each bit?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(3, 'a')">Capacitors only</button>
                            <button class="quiz-option" onclick="selectFinal(3, 'b')">Flip-flops/latches</button>
                            <button class="quiz-option" onclick="selectFinal(3, 'c')">Magnetic fields</button>
                            <button class="quiz-option" onclick="selectFinal(3, 'd')">Optical storage</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>4. Which is NOT stored in RAM?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(4, 'a')">Running programs</button>
                            <button class="quiz-option" onclick="selectFinal(4, 'b')">BIOS instructions</button>
                            <button class="quiz-option" onclick="selectFinal(4, 'c')">Clipboard data</button>
                            <button class="quiz-option" onclick="selectFinal(4, 'd')">Operating system</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>5. Why is DRAM cheaper than SRAM?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(5, 'a')">It's faster</button>
                            <button class="quiz-option" onclick="selectFinal(5, 'b')">It uses fewer transistors</button>
                            <button class="quiz-option" onclick="selectFinal(5, 'c')">It doesn't need power</button>
                            <button class="quiz-option" onclick="selectFinal(5, 'd')">It's non-volatile</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>6. Which memory type can be updated without removing from the device?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(6, 'a')">PROM only</button>
                            <button class="quiz-option" onclick="selectFinal(6, 'b')">EPROM only</button>
                            <button class="quiz-option" onclick="selectFinal(6, 'c')">EEPROM only</button>
                            <button class="quiz-option" onclick="selectFinal(6, 'd')">All ROM types</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>7. What happens to RAM during a power outage?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(7, 'a')">Data is saved to ROM</button>
                            <button class="quiz-option" onclick="selectFinal(7, 'b')">Data is compressed</button>
                            <button class="quiz-option" onclick="selectFinal(7, 'c')">Data is lost</button>
                            <button class="quiz-option" onclick="selectFinal(7, 'd')">Data moves to cache</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <p><strong>8. Which RAM type needs constant refreshing?</strong></p>
                            <button class="quiz-option" onclick="selectFinal(8, 'a')">Static RAM</button>
                            <button class="quiz-option" onclick="selectFinal(8, 'b')">Dynamic RAM</button>
                            <button class="quiz-option" onclick="selectFinal(8, 'c')">Cache RAM</button>
                            <button class="quiz-option" onclick="selectFinal(8, 'd')">Virtual RAM</button>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="submitFinalQuiz()">Submit Quiz</button>
                    
                    <div id="quiz-results" style="margin-top: 1rem; display: none;">
                        <h4>Your Results:</h4>
                        <p id="quiz-score"></p>
                        <div id="quiz-feedback"></div>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('extension')">← Previous</button>
                    <button class="btn btn-primary" onclick="navigateToSection('videos')">Next →</button>
                </div>
            </div>
        </section>

        <!-- Videos Section -->
        <section id="videos" class="section">
            <div class="card">
                <h2>Video Resources</h2>
                
                <div class="interactive-area">
                    <h3>Supplementary Videos</h3>
                    <p>Your teacher will add video links here to support your learning:</p>
                    
                    <div style="background: var(--bg-color); padding: 3rem; border-radius: 10px; text-align: center; margin: 2rem 0;">
                        <p style="font-size: 3rem;">📹</p>
                        <p>Video content will be added here</p>
                    </div>
                </div>
                
                <h3>Additional Resources</h3>
                <ul>
                    <li>Cambridge 9618 Specification</li>
                    <li>Memory Technology Resources</li>
                    <li>Practice Questions Database</li>
                    <li>Past Paper Archive</li>
                </ul>
                
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="navigateToSection('summary')">← Previous</button>
                    <button class="btn btn-success" onclick="navigateToSection('intro')">Start Over</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievement-popup">
        <div class="achievement-icon">🏆</div>
        <h3 id="achievement-title">Achievement Unlocked!</h3>
        <p id="achievement-desc">You've earned a new achievement</p>
    </div>

    <!-- Shame Message -->
    <div class="shame-message" id="shame-message">
        🚫 No pasting allowed! Type it yourself! 🚫
    </div>

    <!-- Particle Container -->
    <div id="particle-container"></div>

    <!-- Feedback Button -->
    <button class="feedback-btn" onclick="openFeedback()">
        💬
    </button>

    <!-- Feedback Modal -->
    <div class="feedback-modal" id="feedback-modal">
        <div class="feedback-content">
            <h3>Send Feedback</h3>
            <p>Found a bug or have a suggestion? Let us know!</p>
            <p>Current page: <strong id="feedback-page"></strong></p>
            <textarea class="input-field" id="feedback-text" rows="5" placeholder="Describe the issue or suggestion..."></textarea>
            <div style="margin-top: 1rem;">
                <button class="btn btn-secondary" onclick="closeFeedback()">Cancel</button>
                <button class="btn btn-primary" onclick="sendFeedback()">Send</button>
            </div>
        </div>
    </div>

    <!-- Accessibility Controls -->
    <div class="accessibility-controls">
        <h4>Accessibility</h4>
        <button onclick="toggleHighContrast()">High Contrast</button>
        <button onclick="toggleDyslexiaFont()">Dyslexia Font</button>
        <button onclick="changeFontSize('small')">A-</button>
        <button onclick="changeFontSize('normal')">A</button>
        <button onclick="changeFontSize('large')">A+</button>
    </div>

    <script>
        // Cache DOM elements for performance
        const DOM = {
            xpFill: document.getElementById('xp-fill'),
            xpText: document.getElementById('xp-text'),
            currentLevel: document.getElementById('current-level'),
            sections: document.querySelectorAll('.section'),
            navPills: document.querySelectorAll('.nav-pill'),
            achievementPopup: document.getElementById('achievement-popup'),
            shameMessage: document.getElementById('shame-message'),
            feedbackModal: document.getElementById('feedback-modal'),
            feedbackPage: document.getElementById('feedback-page'),
            feedbackText: document.getElementById('feedback-text'),
            particleContainer: document.getElementById('particle-container')
        };

        // Game State
        let gameState = {
            xp: 0,
            level: 1,
            completedSections: new Set(),
            achievements: new Set(),
            currentSection: 'intro',
            selectedItem: null,
            selectedROMFeature: null,
            simStep: 1,
            finalAnswers: {},
            correctAnswers: 0,
            actionsPerformed: new Set()
        };

        // XP Requirements per level
        const XP_PER_LEVEL = 50;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateXPDisplay();
            initCanvas();
            
            // Prevent all paste methods
            document.addEventListener('paste', function(e) {
                e.preventDefault();
                showShameMessage();
                return false;
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') navigatePrevious();
                if (e.key === 'ArrowRight') navigateNext();
            });
        });

        // Navigation Functions
        function navigateToSection(sectionId) {
            // Hide all sections
            DOM.sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active from all pills
            DOM.navPills.forEach(pill => {
                pill.classList.remove('active');
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Update nav pill
            const targetPill = Array.from(DOM.navPills).find(pill => 
                pill.textContent.toLowerCase().includes(sectionId.split('-')[0])
            );
            if (targetPill) {
                targetPill.classList.add('active');
            }
            
            gameState.currentSection = sectionId;
            updateFeedbackPage();
            
            // Award XP for first visit
            if (!gameState.completedSections.has(sectionId)) {
                awardXP(2, `Visited ${sectionId}`);
            }
        }

        function navigatePrevious() {
            const sections = ['intro', 'starter', 'ram-basics', 'rom-basics', 'rom-types', 
                            'ram-types', 'simulation', 'practice', 'exam', 'extension', 'summary', 'videos'];
            const currentIndex = sections.indexOf(gameState.currentSection);
            if (currentIndex > 0) {
                navigateToSection(sections[currentIndex - 1]);
            }
        }

        function navigateNext() {
            const sections = ['intro', 'starter', 'ram-basics', 'rom-basics', 'rom-types', 
                            'ram-types', 'simulation', 'practice', 'exam', 'extension', 'summary', 'videos'];
            const currentIndex = sections.indexOf(gameState.currentSection);
            if (currentIndex < sections.length - 1) {
                navigateToSection(sections[currentIndex + 1]);
            }
        }

        // XP System
        function awardXP(amount, action) {
            // Only award XP once per action
            if (gameState.actionsPerformed.has(action)) return;
            gameState.actionsPerformed.add(action);
            
            gameState.xp += amount;
            updateXPDisplay();
            checkLevelUp();
            showFloatingXP(amount);
        }

        function updateXPDisplay() {
            const xpForNextLevel = gameState.level * XP_PER_LEVEL;
            const xpProgress = (gameState.xp % XP_PER_LEVEL) / XP_PER_LEVEL * 100;
            
            DOM.xpFill.style.width = xpProgress + '%';
            DOM.xpText.textContent = `${gameState.xp} / ${xpForNextLevel} XP`;
            DOM.currentLevel.textContent = gameState.level;
        }

        function checkLevelUp() {
            const newLevel = Math.floor(gameState.xp / XP_PER_LEVEL) + 1;
            if (newLevel > gameState.level && newLevel <= 5) {
                gameState.level = newLevel;
                showAchievement('Level Up!', `You reached Level ${gameState.level}!`, '⬆️');
                createParticleEffect();
            }
        }

        function showFloatingXP(amount) {
            const xpFloat = document.createElement('div');
            xpFloat.className = 'xp-float';
            xpFloat.textContent = `+${amount} XP`;
            xpFloat.style.left = Math.random() * window.innerWidth + 'px';
            xpFloat.style.top = '100px';
            document.body.appendChild(xpFloat);
            
            setTimeout(() => xpFloat.remove(), 2000);
        }

        // Achievements
        function showAchievement(title, desc, icon) {
            const popup = DOM.achievementPopup;
            document.getElementById('achievement-title').textContent = title;
            document.getElementById('achievement-desc').textContent = desc;
            popup.querySelector('.achievement-icon').textContent = icon;
            
            popup.classList.add('show');
            setTimeout(() => popup.classList.remove('show'), 3000);
            
            if (!gameState.achievements.has(title)) {
                gameState.achievements.add(title);
                awardXP(10, `Achievement: ${title}`);
            }
        }

        function createParticleEffect() {
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * window.innerWidth + 'px';
                    particle.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 50%)`;
                    DOM.particleContainer.appendChild(particle);
                    
                    setTimeout(() => particle.remove(), 3000);
                }, i * 50);
            }
        }

        // Pre-Quiz
        function checkPreQuiz(answer) {
            const options = document.querySelectorAll('#pre-quiz .quiz-option');
            options.forEach(opt => opt.classList.remove('correct', 'incorrect'));
            
            if (answer === 'b') {
                options[1].classList.add('correct');
                awardXP(5, 'Pre-quiz correct');
            } else {
                event.target.classList.add('incorrect');
                options[1].classList.add('correct');
            }
        }

        // Starter Activity
        let starterItems = {
            'volatile': 'ram',
            'non-volatile': 'rom',
            'writable': 'ram',
            'read-only': 'rom',
            'programs': 'ram',
            'boot': 'rom'
        };

        function selectItem(element, type) {
            // Clear previous selection
            document.querySelectorAll('.drag-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            element.classList.add('selected');
            gameState.selectedItem = { element, type };
        }

        function dropItem(zone) {
            if (!gameState.selectedItem) return;
            
            const { element, type } = gameState.selectedItem;
            
            if (starterItems[type] === zone) {
                const zoneElement = document.getElementById(`${zone}-items`);
                const clone = element.cloneNode(true);
                clone.classList.remove('selected');
                clone.onclick = null;
                zoneElement.appendChild(clone);
                element.style.display = 'none';
                
                document.getElementById(`${zone}-zone`).classList.add('highlight');
                setTimeout(() => {
                    document.getElementById(`${zone}-zone`).classList.remove('highlight');
                }, 500);
                
                awardXP(2, `Starter item ${type}`);
            }
            
            gameState.selectedItem = null;
        }

        function resetStarter() {
            document.querySelectorAll('.drag-item').forEach(item => {
                item.style.display = 'block';
                item.classList.remove('selected');
            });
            
            document.getElementById('ram-items').innerHTML = '';
            document.getElementById('rom-items').innerHTML = '';
            
            gameState.selectedItem = null;
        }

        function checkStarter() {
            const ramItems = document.getElementById('ram-items').children.length;
            const romItems = document.getElementById('rom-items').children.length;
            
            if (ramItems === 3 && romItems === 3) {
                awardXP(10, 'Starter activity complete');
                showAchievement('Memory Master', 'Correctly sorted all memory characteristics!', '🧠');
                markSectionComplete('starter');
            } else {
                alert('Not quite right! Try again.');
            }
        }

        // RAM Basics Functions
        function showRAMUse(element, type) {
            const descriptions = {
                'os': 'The Operating System (or parts currently in use) - Windows, macOS, Linux etc.',
                'programs': 'Software currently running - browsers, games, office applications',
                'data': 'Data being used by programs - documents, images, videos being edited',
                'clipboard': 'Anything you\'ve copied - text, images, files waiting to be pasted'
            };
            
            document.getElementById('ram-use-description').innerHTML = 
                `<p><strong>${element.textContent}:</strong> ${descriptions[type]}</p>`;
            
            // Highlight selected block
            document.querySelectorAll('.memory-block').forEach(block => {
                block.classList.remove('active');
            });
            element.classList.add('active');
            
            awardXP(1, `RAM use ${type}`);
        }

        function checkRAMQuiz() {
            const answers = {
                'ram-q1': 'volatile',
                'ram-q2': 'very fast',
                'ram-q3': 'deleted'
            };
            
            let correct = 0;
            Object.keys(answers).forEach(id => {
                const select = document.getElementById(id);
                if (select.value === answers[id]) {
                    correct++;
                    select.style.borderColor = 'var(--success-color)';
                } else {
                    select.style.borderColor = 'var(--secondary-color)';
                }
            });
            
            if (correct === 3) {
                awardXP(10, 'RAM quiz complete');
                markSectionComplete('ram-basics');
            }
        }

        function showHint(topic) {
            document.getElementById(`${topic}-hint`).classList.add('show');
            awardXP(-2, `Hint used ${topic}`); // Reduce XP for using hint
        }

        // ROM Basics Functions
        function checkROMRAM(question, answer) {
            const correct = {
                1: 'rom',
                2: 'ram',
                3: 'ram',
                4: 'rom'
            };
            
            const resultSpan = document.getElementById(`romram-result-${question}`);
            if (answer === correct[question]) {
                resultSpan.textContent = ' ✓';
                resultSpan.style.color = 'var(--success-color)';
                awardXP(2, `ROM/RAM Q${question}`);
            } else {
                resultSpan.textContent = ' ✗';
                resultSpan.style.color = 'var(--secondary-color)';
            }
            
            // Check if all answered correctly
            let allCorrect = true;
            for (let i = 1; i <= 4; i++) {
                const span = document.getElementById(`romram-result-${i}`);
                if (!span.textContent.includes('✓')) {
                    allCorrect = false;
                    break;
                }
            }
            
            if (allCorrect) {
                markSectionComplete('rom-basics');
            }
        }

        // ROM Types Functions
        let romFeatures = {
            'uv-light': 'eprom',
            'once-only': 'prom',
            'electrical': 'eeprom',
            'fuses': 'prom',
            'in-place': 'eeprom',
            'window': 'eprom'
        };

        function selectROMFeature(element, feature) {
            document.querySelectorAll('.drag-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            element.classList.add('selected');
            gameState.selectedROMFeature = { element, feature };
        }

        function dropROMFeature(type) {
            if (!gameState.selectedROMFeature) return;
            
            const { element, feature } = gameState.selectedROMFeature;
            
            if (romFeatures[feature] === type) {
                const zoneElement = document.getElementById(`${type}-features`);
                const clone = element.cloneNode(true);
                clone.classList.remove('selected');
                clone.onclick = null;
                zoneElement.appendChild(clone);
                element.style.display = 'none';
                
                document.getElementById(`${type}-zone`).classList.add('highlight');
                setTimeout(() => {
                    document.getElementById(`${type}-zone`).classList.remove('highlight');
                }, 500);
                
                awardXP(2, `ROM feature ${feature}`);
            }
            
            gameState.selectedROMFeature = null;
        }

        function resetROMTypes() {
            document.querySelectorAll('#rom-types .drag-item').forEach(item => {
                item.style.display = 'block';
                item.classList.remove('selected');
            });
            
            ['prom', 'eprom', 'eeprom'].forEach(type => {
                document.getElementById(`${type}-features`).innerHTML = '';
            });
            
            gameState.selectedROMFeature = null;
        }

        function checkROMTypes() {
            const promCount = document.getElementById('prom-features').children.length;
            const epromCount = document.getElementById('eprom-features').children.length;
            const eepromCount = document.getElementById('eeprom-features').children.length;
            
            if (promCount === 2 && epromCount === 2 && eepromCount === 2) {
                awardXP(15, 'ROM types complete');
                showAchievement('ROM Expert', 'Mastered all ROM types!', '💾');
                markSectionComplete('rom-types');
            } else {
                alert('Check your answers and try again!');
            }
        }

        // RAM Types Functions
        function checkRAMType(question, answer) {
            const correct = {
                1: 'sram',
                2: 'dram',
                3: 'sram',
                4: 'dram'
            };
            
            const options = event.target.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.classList.remove('correct', 'incorrect'));
            
            if (answer === correct[question]) {
                event.target.classList.add('correct');
                awardXP(3, `RAM type Q${question}`);
                
                // Check if all answered
                let allAnswered = true;
                for (let i = 1; i <= 4; i++) {
                    const hasCorrect = document.querySelector(`#ram-types-quiz .quiz-option.correct[onclick*="checkRAMType(${i},"]`);
                    if (!hasCorrect) {
                        allAnswered = false;
                        break;
                    }
                }
                
                if (allAnswered) {
                    markSectionComplete('ram-types');
                }
            } else {
                event.target.classList.add('incorrect');
            }
        }

        // Simulation Functions
        function simNext() {
            if (gameState.simStep < 5) {
                document.getElementById(`sim-step-${gameState.simStep}`).classList.remove('active');
                document.getElementById(`sim-dot-${gameState.simStep}`).classList.remove('active');
                
                gameState.simStep++;
                
                document.getElementById(`sim-step-${gameState.simStep}`).classList.add('active');
                document.getElementById(`sim-dot-${gameState.simStep}`).classList.add('active');
                
                awardXP(2, `Simulation step ${gameState.simStep}`);
            }
        }

        function simPrevious() {
            if (gameState.simStep > 1) {
                document.getElementById(`sim-step-${gameState.simStep}`).classList.remove('active');
                document.getElementById(`sim-dot-${gameState.simStep}`).classList.remove('active');
                
                gameState.simStep--;
                
                document.getElementById(`sim-step-${gameState.simStep}`).classList.add('active');
                document.getElementById(`sim-dot-${gameState.simStep}`).classList.add('active');
            }
        }

        function resetSimulation() {
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`sim-step-${i}`).classList.remove('active');
                document.getElementById(`sim-dot-${i}`).classList.remove('active');
            }
            
            gameState.simStep = 1;
            document.getElementById('sim-step-1').classList.add('active');
            document.getElementById('sim-dot-1').classList.add('active');
        }

        function checkSimReflection() {
            const answer = document.getElementById('sim-reflection').value.trim();
            const keywords = ['permanent', 'instructions', 'boot', 'bios', 'start', 'non-volatile'];
            
            let keywordCount = 0;
            keywords.forEach(keyword => {
                if (answer.toLowerCase().includes(keyword)) {
                    keywordCount++;
                }
            });
            
            if (answer.length > 50 && keywordCount >= 2) {
                awardXP(10, 'Simulation reflection');
                alert('Good explanation! ROM provides permanent boot instructions that don\'t need power to be retained.');
                markSectionComplete('simulation');
            } else {
                alert('Try to include more detail about why ROM is essential for startup.');
            }
        }

        // Practice Questions
        function checkPractice(question, answer) {
            if (question === 1 && answer === 'c') {
                event.target.classList.add('correct');
                awardXP(5, 'Practice Q1');
            } else if (question === 2 && answer === 'true') {
                event.target.style.backgroundColor = 'var(--success-color)';
                event.target.style.color = 'white';
                awardXP(5, 'Practice Q2');
            }
        }

        function checkShortAnswer() {
            const answer = document.getElementById('practice-short').value.trim();
            const keywords = ['ram', 'temporary', 'volatile', 'rom', 'permanent', 'boot', 'instructions'];
            
            let keywordCount = 0;
            keywords.forEach(keyword => {
                if (answer.toLowerCase().includes(keyword)) {
                    keywordCount++;
                }
            });
            
            if (answer.length > 100 && keywordCount >= 4) {
                awardXP(10, 'Practice short answer');
                alert('Excellent answer! You explained the complementary roles of RAM and ROM well.');
            } else {
                alert('Good start! Try to mention both RAM\'s role for temporary storage and ROM\'s role for permanent boot instructions.');
            }
        }

        function checkApplication() {
            const answer = document.getElementById('practice-application').value.trim();
            const hasEEPROM = answer.toLowerCase().includes('eeprom');
            const hasReason = answer.toLowerCase().includes('update') || answer.toLowerCase().includes('firmware');
            
            if (answer.length > 80 && hasEEPROM && hasReason) {
                awardXP(15, 'Practice application');
                alert('Excellent recommendation! EEPROM is ideal for VR headsets as firmware can be updated easily.');
                markSectionComplete('practice');
            } else {
                alert('Consider which ROM type allows easiest firmware updates for end users.');
            }
        }

        // Exam Questions
        function showMarkScheme(question) {
            const textarea = document.getElementById(`exam-${question}`);
            const marks = document.getElementById(`marks-${question}`);
            
            if (textarea.value.length < 50 || !marks.value) {
                alert('Please write a complete answer and enter your predicted marks first.');
                return;
            }
            
            document.getElementById(`mark-scheme-${question}`).classList.add('show');
            awardXP(5, `Exam ${question} attempted`);
        }

        // Canvas Functions
        function initCanvas() {
            const canvas = document.getElementById('drawing-canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            
            function getCoordinates(e) {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left;
                const y = (e.clientY || e.touches[0].clientY) - rect.top;
                return { x, y };
            }
            
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('touchstart', startDrawing);
            canvas.addEventListener('touchmove', draw);
            canvas.addEventListener('touchend', stopDrawing);
            
            function startDrawing(e) {
                isDrawing = true;
                const coords = getCoordinates(e);
                ctx.beginPath();
                ctx.moveTo(coords.x, coords.y);
                e.preventDefault();
            }
            
            function draw(e) {
                if (!isDrawing) return;
                const coords = getCoordinates(e);
                ctx.lineTo(coords.x, coords.y);
                ctx.stroke();
                e.preventDefault();
            }
            
            function stopDrawing(e) {
                isDrawing = false;
                e.preventDefault();
            }
        }

        function clearCanvas() {
            const canvas = document.getElementById('drawing-canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // Extension Activities
        function submitExtension() {
            const textareas = document.querySelectorAll('#extension textarea');
            let totalWords = 0;
            
            textareas.forEach(ta => {
                totalWords += ta.value.split(' ').filter(word => word.length > 0).length;
            });
            
            if (totalWords > 100) {
                awardXP(20, 'Extension complete');
                showAchievement('Going Beyond', 'Completed extension activities!', '🚀');
                markSectionComplete('extension');
                alert('Excellent extension work! Your teacher will review your responses.');
            } else {
                alert('Please provide more detailed responses to the extension activities.');
            }
        }

        // Final Quiz
        function selectFinal(question, answer) {
            gameState.finalAnswers[question] = answer;
            
            // Update button appearance
            const buttons = document.querySelectorAll(`#final-quiz button[onclick*="selectFinal(${question},"]`);
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        function submitFinalQuiz() {
            const correctAnswers = {
                1: 'b', // RAM
                2: 'c', // EPROM
                3: 'b', // Flip-flops
                4: 'b', // BIOS
                5: 'b', // Fewer transistors
                6: 'c', // EEPROM
                7: 'c', // Data is lost
                8: 'b'  // Dynamic RAM
            };
            
            let score = 0;
            const feedback = [];
            
            for (let i = 1; i <= 8; i++) {
                if (gameState.finalAnswers[i] === correctAnswers[i]) {
                    score++;
                } else {
                    const topics = {
                        1: 'RAM is volatile memory',
                        2: 'EPROM uses UV light for erasure',
                        3: 'SRAM uses flip-flops/latches',
                        4: 'BIOS is stored in ROM',
                        5: 'DRAM is cheaper due to simpler structure',
                        6: 'EEPROM can be updated in place',
                        7: 'RAM loses data without power',
                        8: 'DRAM needs constant refreshing'
                    };
                    feedback.push(`Question ${i}: ${topics[i]}`);
                }
            }
            
            document.getElementById('quiz-score').textContent = `You scored ${score}/8 (${Math.round(score/8*100)}%)`;
            
            if (feedback.length > 0) {
                document.getElementById('quiz-feedback').innerHTML = 
                    '<h4>Review these topics:</h4><ul>' + 
                    feedback.map(f => `<li>${f}</li>`).join('') + 
                    '</ul>';
            } else {
                document.getElementById('quiz-feedback').innerHTML = 
                    '<p style="color: var(--success-color);">Perfect score! Excellent work!</p>';
            }
            
            document.getElementById('quiz-results').style.display = 'block';
            
            awardXP(score * 5, 'Final quiz');
            
            if (score === 8) {
                showAchievement('Perfect Score!', 'Got 100% on the final quiz!', '💯');
            }
            
            markSectionComplete('summary');
        }

        // Utility Functions
        function markSectionComplete(section) {
            gameState.completedSections.add(section);
            
            // Find and mark nav pill
            const pill = Array.from(DOM.navPills).find(p => 
                p.textContent.toLowerCase().includes(section.split('-')[0])
            );
            if (pill) {
                pill.classList.add('completed');
            }
            
            // Check for completion achievement
            if (gameState.completedSections.size === 10) {
                showAchievement('Course Complete!', 'Completed all sections!', '🎓');
            }
        }

        function showShameMessage() {
            DOM.shameMessage.style.display = 'block';
            setTimeout(() => {
                DOM.shameMessage.style.display = 'none';
            }, 3000);
        }

        // Feedback System
        function openFeedback() {
            DOM.feedbackModal.style.display = 'flex';
            updateFeedbackPage();
        }

        function closeFeedback() {
            DOM.feedbackModal.style.display = 'none';
            DOM.feedbackText.value = '';
        }

        function updateFeedbackPage() {
            const sectionNames = {
                'intro': 'Introduction',
                'starter': 'Starter Activity',
                'ram-basics': 'RAM Basics',
                'rom-basics': 'ROM Basics',
                'rom-types': 'ROM Types',
                'ram-types': 'RAM Types',
                'simulation': 'Memory Simulation',
                'practice': 'Practice Questions',
                'exam': 'Exam Practice',
                'extension': 'Extension Activities',
                'summary': 'Summary & Quiz',
                'videos': 'Videos'
            };
            
            DOM.feedbackPage.textContent = sectionNames[gameState.currentSection] || 'Unknown';
        }

        function sendFeedback() {
            const text = DOM.feedbackText.value.trim();
            if (!text) {
                alert('Please enter your feedback');
                return;
            }
            
            const subject = encodeURIComponent('Memory Lesson Feedback');
            const body = encodeURIComponent(
                `Page: ${DOM.feedbackPage.textContent}\n\n` +
                `Feedback: ${text}\n\n` +
                `Section: ${gameState.currentSection}`
            );
            
            window.location.href = `mailto:millingtond@mgs.org?subject=${subject}&body=${body}`;
            closeFeedback();
        }

        // Accessibility Functions
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
        }

        function toggleDyslexiaFont() {
            document.body.classList.toggle('dyslexia-font');
        }

        function changeFontSize(size) {
            document.body.style.fontSize = size === 'small' ? '14px' : 
                                          size === 'large' ? '20px' : '16px';
        }

        // Event delegation for performance
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('quiz-option') && !e.target.onclick) {
                e.target.onclick = function() {
                    e.target.classList.add('selected');
                };
            }
        });

        // Prevent context menu
        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>