<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACM/IEEE Software Engineering Code of Ethics - Interactive Lesson</title>
    <style>
        /* CSS Variables for theming */
        :root {
            --primary-color: #2563eb;
            --secondary-color: #7c3aed;
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
            --bg-color: #ffffff;
            --text-color: #1f2937;
            --card-bg: #f3f4f6;
            --border-color: #e5e7eb;
            --hover-color: #eff6ff;
            --font-size: 16px;
        }

        /* High contrast mode */
        body.high-contrast {
            --bg-color: #000000;
            --text-color: #ffffff;
            --card-bg: #1a1a1a;
            --border-color: #ffffff;
            --hover-color: #333333;
        }

        /* Dyslexia-friendly font */
        @font-face {
            font-family: 'OpenDyslexic';
            src: url('https://cdn.jsdelivr.net/npm/opendyslexic@0.91.12/fonts/OpenDyslexic-Regular.woff') format('woff');
        }

        body.dyslexia-font {
            font-family: 'OpenDyslexic', sans-serif !important;
        }

        /* Base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: var(--font-size);
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            transition: all 0.3s ease;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.3; }
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        /* Navigation */
        .nav-bar {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 10px;
            z-index: 100;
        }

        .nav-button {
            padding: 8px 16px;
            border: none;
            background: var(--primary-color);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .nav-button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .nav-button.active {
            background: var(--secondary-color);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* Page sections */
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* XP and Achievement System */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--card-bg);
            z-index: 200;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), var(--primary-color));
            width: 0%;
            transition: width 0.5s ease;
        }

        .xp-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            padding: 10px 20px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 150;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .level-badge {
            background: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Cards and content */
        .card {
            background: var(--card-bg);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .card:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        /* Interactive elements */
        .interactive-card {
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .interactive-card::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(var(--primary-color), 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.4s, height 0.4s;
        }

        .interactive-card:active::after {
            width: 300px;
            height: 300px;
        }

        /* Form elements */
        input[type="text"], input[type="number"], textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 5px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--bg-color);
            color: var(--text-color);
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* Buttons */
        .button {
            padding: 12px 24px;
            border: none;
            background: var(--primary-color);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .button:active {
            transform: translateY(0);
        }

        /* Achievement popup */
        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            z-index: 1000;
            text-align: center;
            animation: achievementPop 0.5s ease forwards;
        }

        @keyframes achievementPop {
            0% { transform: translate(-50%, -50%) scale(0) rotate(-180deg); }
            50% { transform: translate(-50%, -50%) scale(1.1) rotate(10deg); }
            100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); }
        }

        .achievement-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        /* Feedback button */
        .feedback-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--secondary-color);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 90;
        }

        .feedback-button:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        /* Accessibility controls */
        .accessibility-controls {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 140;
        }

        .control-button {
            display: block;
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid var(--border-color);
            background: var(--bg-color);
            color: var(--text-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-button:hover {
            background: var(--hover-color);
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .nav-bar {
                position: relative;
                top: 0;
            }
            
            .xp-display {
                top: 10px;
                right: 10px;
                padding: 8px 15px;
            }
            
            .card {
                padding: 15px;
            }
        }

        /* Drag and drop zones (using click approach) */
        .drop-zone {
            border: 2px dashed var(--border-color);
            padding: 20px;
            margin: 10px 0;
            min-height: 60px;
            border-radius: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .drop-zone.highlight {
            border-color: var(--primary-color);
            background: var(--hover-color);
        }

        .draggable-item {
            background: var(--primary-color);
            color: white;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .draggable-item:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .draggable-item.selected {
            background: var(--secondary-color);
            transform: scale(1.05);
        }

        /* Quiz styles */
        .quiz-option {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--border-color);
            background: var(--bg-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .quiz-option:hover {
            border-color: var(--primary-color);
            background: var(--hover-color);
        }

        .quiz-option.selected {
            border-color: var(--primary-color);
            background: var(--hover-color);
        }

        .quiz-option.correct {
            border-color: var(--success-color);
            background: rgba(16, 185, 129, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--error-color);
            background: rgba(239, 68, 68, 0.1);
        }

        /* Navigation arrows */
        .nav-arrows {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 20px;
        }

        .nav-arrow {
            padding: 12px 24px;
            border: none;
            background: var(--primary-color);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-arrow:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .nav-arrow:disabled {
            background: var(--border-color);
            cursor: not-allowed;
            transform: none;
        }

        /* Shame message for paste attempts */
        .shame-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #dc2626;
            color: white;
            padding: 20px 40px;
            border-radius: 10px;
            font-size: 20px;
            font-weight: bold;
            z-index: 2000;
            animation: shameShake 0.5s ease;
            display: none;
        }

        @keyframes shameShake {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-48%, -50%) rotate(-5deg); }
            75% { transform: translate(-52%, -50%) rotate(5deg); }
        }

        /* Mark scheme styles */
        .mark-scheme {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
        }

        .mark-scheme.revealed {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Hint system */
        .hint-button {
            background: var(--warning-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 10px 0;
            transition: all 0.3s ease;
        }

        .hint-button:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .hint-text {
            background: #fef3c7;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
            border-left: 4px solid var(--warning-color);
        }

        /* Loading states */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Focus indicators for accessibility */
        *:focus {
            outline: 3px solid var(--primary-color);
            outline-offset: 2px;
        }

        /* Skip to content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 0 0 5px 0;
        }

        .skip-link:focus {
            top: 0;
        }

        /* Feedback modal */
        .feedback-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1500;
        }

        .feedback-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-color);
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        /* Particles for celebrations */
        .particle {
            position: fixed;
            pointer-events: none;
            opacity: 0;
            z-index: 1000;
        }

        @keyframes particleFall {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(300px) rotate(720deg);
            }
        }

        /* Reset button */
        .reset-button {
            background: var(--error-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 10px 0;
            transition: all 0.3s ease;
            float: right;
        }

        .reset-button:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        /* Scenario cards */
        .scenario-card {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-color);
        }

        /* Common mistakes section */
        .mistake-item {
            background: #fee2e2;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid var(--error-color);
        }

        /* Success message */
        .success-message {
            background: #d1fae5;
            color: #065f46;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
            border-left: 4px solid var(--success-color);
        }

        /* Exam question styles */
        .exam-question {
            background: #f9fafb;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border: 1px solid var(--border-color);
        }

        .marks-input {
            width: 80px;
            margin-left: 10px;
        }

        /* Ethics principle cards */
        .principle-card {
            background: var(--card-bg);
            padding: 20px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .principle-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .principle-number {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Fill in the blanks options */
        .word-bank {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .word-option {
            background: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .word-option:hover {
            transform: scale(1.05);
        }

        .word-option.used {
            background: var(--border-color);
            cursor: not-allowed;
        }

        .fill-blank {
            display: inline-block;
            min-width: 150px;
            border-bottom: 2px solid var(--primary-color);
            margin: 0 5px;
            padding: 2px 5px;
            cursor: pointer;
        }

        .fill-blank.filled {
            background: var(--hover-color);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Progress Bar -->
    <div class="progress-bar">
        <div class="xp-fill" id="xpFill"></div>
    </div>
    
    <!-- XP Display -->
    <div class="xp-display">
        <div class="level-badge" id="levelBadge">0</div>
        <div>
            <div style="font-weight: bold;">Level <span id="currentLevel">0</span></div>
            <div style="font-size: 14px;"><span id="currentXP">0</span> / <span id="requiredXP">100</span> XP</div>
        </div>
    </div>
    
    <!-- Accessibility Controls -->
    <div class="accessibility-controls">
        <button class="control-button" onclick="toggleHighContrast()">🌗 High Contrast</button>
        <button class="control-button" onclick="toggleDyslexiaFont()">📖 Dyslexia Font</button>
        <button class="control-button" onclick="changeFontSize(2)">🔍 Larger Text</button>
        <button class="control-button" onclick="changeFontSize(-2)">🔍 Smaller Text</button>
    </div>
    
    <div class="container" id="main-content">
        <!-- Header -->
        <div class="header">
            <h1>ACM/IEEE Software Engineering Code of Ethics</h1>
            <p>An interactive lesson on professional ethics in software engineering</p>
        </div>
        
        <!-- Navigation Bar -->
        <nav class="nav-bar" role="navigation" aria-label="Main navigation">
            <button class="nav-button active" onclick="showPage(0)" aria-label="Starter">Starter</button>
            <button class="nav-button" onclick="showPage(1)" aria-label="Introduction">Intro</button>
            <button class="nav-button" onclick="showPage(2)" aria-label="8 Principles">8 Principles</button>
            <button class="nav-button" onclick="showPage(3)" aria-label="Public">Public</button>
            <button class="nav-button" onclick="showPage(4)" aria-label="Client">Client</button>
            <button class="nav-button" onclick="showPage(5)" aria-label="Product">Product</button>
            <button class="nav-button" onclick="showPage(6)" aria-label="Judgement">Judgement</button>
            <button class="nav-button" onclick="showPage(7)" aria-label="Management">Management</button>
            <button class="nav-button" onclick="showPage(8)" aria-label="Profession">Profession</button>
            <button class="nav-button" onclick="showPage(9)" aria-label="Colleagues">Colleagues</button>
            <button class="nav-button" onclick="showPage(10)" aria-label="Self">Self</button>
            <button class="nav-button" onclick="showPage(11)" aria-label="Membership">Membership</button>
            <button class="nav-button" onclick="showPage(12)" aria-label="Manager Ethics">Manager</button>
            <button class="nav-button" onclick="showPage(13)" aria-label="Employee Ethics">Employee</button>
            <button class="nav-button" onclick="showPage(14)" aria-label="Why Ethics">Why Ethics</button>
            <button class="nav-button" onclick="showPage(15)" aria-label="Practice">Practice</button>
            <button class="nav-button" onclick="showPage(16)" aria-label="Summary">Summary</button>
            <button class="nav-button" onclick="showPage(17)" aria-label="Extension">Extension</button>
            <button class="nav-button" onclick="showPage(18)" aria-label="Resources">Resources</button>
        </nav>
        
        <!-- Page 0: Starter Activity -->
        <div class="page active" id="page0">
            <div class="card">
                <h2>🚀 Starter Activity: Ethical Dilemma</h2>
                <p>Welcome! Let's begin by testing your ethical decision-making skills.</p>
                
                <div class="scenario-card">
                    <h3>Scenario:</h3>
                    <p>You're a software engineer working on a banking application. Your manager asks you to implement a feature that collects users' browsing history without their explicit consent. The data would be used to offer personalized loan rates. Your manager says it's technically legal because it's mentioned in the 50-page terms of service that nobody reads.</p>
                    <p><strong>What would you do?</strong></p>
                </div>
                
                <div id="starterQuiz">
                    <button class="quiz-option" onclick="checkStarterAnswer(this, 'A')">
                        A) Implement the feature as requested - the manager knows best and it's technically legal
                    </button>
                    <button class="quiz-option" onclick="checkStarterAnswer(this, 'B')">
                        B) Refuse to implement it and report the manager to senior leadership
                    </button>
                    <button class="quiz-option" onclick="checkStarterAnswer(this, 'C')">
                        C) Suggest implementing an opt-in consent mechanism that clearly explains data collection
                    </button>
                    <button class="quiz-option" onclick="checkStarterAnswer(this, 'D')">
                        D) Implement it but add code comments expressing your disagreement
                    </button>
                </div>
                
                <div id="starterFeedback" style="margin-top: 20px; display: none;">
                    <div class="success-message" id="starterSuccess"></div>
                </div>
                
                <button class="reset-button" onclick="resetStarter()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" disabled>← Previous</button>
                <button class="nav-arrow" onclick="showPage(1)">Next →</button>
            </div>
        </div>
        
        <!-- Page 1: Introduction to Ethics -->
        <div class="page" id="page1">
            <div class="card">
                <h2>📚 Introduction to Ethics</h2>
                <p>Ethics is a system of moral principles that guide behavior and decision making. In software engineering, ethics are crucial because our work impacts millions of people's lives, privacy, and safety.</p>
                
                <h3>Key Definition:</h3>
                <div class="scenario-card">
                    <p><strong>Ethics:</strong> A system of moral principles that guide behaviour/decision making, based on philosophical/religious views, demonstrated through respectful and considerate behaviour.</p>
                </div>
                
                <h3>Activity: Match the Ethical Concepts</h3>
                <p>Click on a concept, then click on its matching description.</p>
                
                <div style="display: flex; gap: 20px; margin-top: 20px;">
                    <div style="flex: 1;">
                        <h4>Concepts:</h4>
                        <div class="draggable-item" onclick="selectForMatching(this, 'integrity')">Integrity</div>
                        <div class="draggable-item" onclick="selectForMatching(this, 'accountability')">Accountability</div>
                        <div class="draggable-item" onclick="selectForMatching(this, 'transparency')">Transparency</div>
                        <div class="draggable-item" onclick="selectForMatching(this, 'respect')">Respect</div>
                    </div>
                    <div style="flex: 1;">
                        <h4>Descriptions:</h4>
                        <div class="drop-zone" onclick="matchWithSelected(this, 'integrity')">Being honest and having strong moral principles</div>
                        <div class="drop-zone" onclick="matchWithSelected(this, 'accountability')">Taking responsibility for one's actions and decisions</div>
                        <div class="drop-zone" onclick="matchWithSelected(this, 'transparency')">Being open about processes and decision-making</div>
                        <div class="drop-zone" onclick="matchWithSelected(this, 'respect')">Treating others with dignity and consideration</div>
                    </div>
                </div>
                
                <button class="button" onclick="checkMatching()" style="margin-top: 20px;">Check Answers</button>
                <div id="matchingFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetMatching()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(0)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(2)">Next →</button>
            </div>
        </div>
        
        <!-- Page 2: The 8 Principles Overview -->
        <div class="page" id="page2">
            <div class="card">
                <h2>🎯 The 8 Principles of Software Engineering Ethics</h2>
                <p>The ACM/IEEE Code of Ethics consists of 8 fundamental principles. Click each card to reveal the principle:</p>
                
                <div id="principleCards" style="margin-top: 20px;">
                    <div class="principle-card" onclick="revealPrinciple(this, 1)">
                        <div class="principle-number">1</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">PUBLIC - Software engineers shall act consistently with the public interest.</p>
                    </div>
                    <div class="principle-card" onclick="revealPrinciple(this, 2)">
                        <div class="principle-number">2</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">CLIENT AND EMPLOYER - Act in the best interests of client and employer, consistent with public interest.</p>
                    </div>
                    <div class="principle-card" onclick="revealPrinciple(this, 3)">
                        <div class="principle-number">3</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">PRODUCT - Ensure products meet the highest professional standards possible.</p>
                    </div>
                    <div class="principle-card" onclick="revealPrinciple(this, 4)">
                        <div class="principle-number">4</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">JUDGEMENT - Maintain integrity and independence in professional judgment.</p>
                    </div>
                    <div class="principle-card" onclick="revealPrinciple(this, 5)">
                        <div class="principle-number">5</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">MANAGEMENT - Subscribe to and promote ethical approach to management.</p>
                    </div>
                    <div class="principle-card" onclick="revealPrinciple(this, 6)">
                        <div class="principle-number">6</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">PROFESSION - Advance the integrity and reputation of the profession.</p>
                    </div>
                    <div class="principle-card" onclick="revealPrinciple(this, 7)">
                        <div class="principle-number">7</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">COLLEAGUES - Be fair to and supportive of colleagues.</p>
                    </div>
                    <div class="principle-card" onclick="revealPrinciple(this, 8)">
                        <div class="principle-number">8</div>
                        <h3>Click to reveal...</h3>
                        <p class="principle-content" style="display: none;">SELF - Participate in lifelong learning and promote ethical approach.</p>
                    </div>
                </div>
                
                <h3 style="margin-top: 30px;">Activity: Sequence the Principles</h3>
                <p>Now that you've seen all 8 principles, can you remember their order? Drag and click to arrange them correctly:</p>
                
                <div id="sequenceActivity" style="margin-top: 20px;">
                    <div class="drop-zone" id="seq1" onclick="placeInSequence(this)">1. Click to place principle</div>
                    <div class="drop-zone" id="seq2" onclick="placeInSequence(this)">2. Click to place principle</div>
                    <div class="drop-zone" id="seq3" onclick="placeInSequence(this)">3. Click to place principle</div>
                    <div class="drop-zone" id="seq4" onclick="placeInSequence(this)">4. Click to place principle</div>
                    <div class="drop-zone" id="seq5" onclick="placeInSequence(this)">5. Click to place principle</div>
                    <div class="drop-zone" id="seq6" onclick="placeInSequence(this)">6. Click to place principle</div>
                    <div class="drop-zone" id="seq7" onclick="placeInSequence(this)">7. Click to place principle</div>
                    <div class="drop-zone" id="seq8" onclick="placeInSequence(this)">8. Click to place principle</div>
                </div>
                
                <div style="margin-top: 20px; display: flex; flex-wrap: wrap; gap: 10px;">
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'COLLEAGUES')">COLLEAGUES</div>
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'MANAGEMENT')">MANAGEMENT</div>
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'PUBLIC')">PUBLIC</div>
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'SELF')">SELF</div>
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'CLIENT AND EMPLOYER')">CLIENT AND EMPLOYER</div>
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'JUDGEMENT')">JUDGEMENT</div>
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'PRODUCT')">PRODUCT</div>
                    <div class="draggable-item" onclick="selectPrincipleForSequence(this, 'PROFESSION')">PROFESSION</div>
                </div>
                
                <button class="button" onclick="checkSequence()" style="margin-top: 20px;">Check Sequence</button>
                <div id="sequenceFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetSequence()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(1)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(3)">Next →</button>
            </div>
        </div>
        
        <!-- Page 3: PUBLIC Principle -->
        <div class="page" id="page3">
            <div class="card">
                <h2>1️⃣ PUBLIC - Acting in the Public Interest</h2>
                <p>Software engineers shall act consistently with the public interest. This means prioritizing the welfare and safety of the general public over personal or organizational gains.</p>
                
                <div class="scenario-card">
                    <h3>Real-World Example:</h3>
                    <p>A software engineer discovers that the autonomous vehicle software they're developing has a bug that could cause accidents in rare weather conditions. Following the PUBLIC principle, they should immediately report this to ensure public safety, even if it delays the product launch.</p>
                </div>
                
                <h3>Common Mistakes to Avoid:</h3>
                <div class="mistake-item">
                    <p>❌ Hiding security vulnerabilities to avoid bad publicity</p>
                </div>
                <div class="mistake-item">
                    <p>❌ Implementing features that invade privacy without clear benefit to users</p>
                </div>
                <div class="mistake-item">
                    <p>❌ Ignoring accessibility requirements because "most users don't need them"</p>
                </div>
                
                <h3>Scenario-Based Question:</h3>
                <div class="scenario-card">
                    <p>You're working on a social media algorithm and discover it tends to promote divisive content because it increases engagement. What should you do according to the PUBLIC principle?</p>
                </div>
                
                <div id="publicQuiz">
                    <button class="quiz-option" onclick="checkPublicAnswer(this, 'A')">
                        A) Keep quiet - engagement metrics are what the company values most
                    </button>
                    <button class="quiz-option" onclick="checkPublicAnswer(this, 'B')">
                        B) Document the issue and propose changes to promote healthier content, even if engagement drops
                    </button>
                    <button class="quiz-option" onclick="checkPublicAnswer(this, 'C')">
                        C) Secretly modify the algorithm without telling anyone
                    </button>
                    <button class="quiz-option" onclick="checkPublicAnswer(this, 'D')">
                        D) Wait for users to complain before taking action
                    </button>
                </div>
                
                <button class="hint-button" onclick="showHint('publicHint')">💡 Need a hint?</button>
                <div class="hint-text" id="publicHint">Think about what action best protects the general public's wellbeing and mental health.</div>
                
                <div id="publicFeedback" style="margin-top: 20px;"></div>
                
                <button class="reset-button" onclick="resetPublicQuiz()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(2)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(4)">Next →</button>
            </div>
        </div>
        
        <!-- Page 4: CLIENT AND EMPLOYER Principle -->
        <div class="page" id="page4">
            <div class="card">
                <h2>2️⃣ CLIENT AND EMPLOYER - Balancing Interests</h2>
                <p>Software engineers shall act in a manner that is in the best interests of their client and employer, consistent with the public interest. This principle requires balancing loyalty to your employer with ethical responsibilities.</p>
                
                <h3>Key Points:</h3>
                <ul>
                    <li>Honor contracts and agreements</li>
                    <li>Protect confidential information</li>
                    <li>Provide honest professional opinions</li>
                    <li>Public interest always takes precedence</li>
                </ul>
                
                <h3>Activity: Categorize the Actions</h3>
                <p>Categorize these actions as either "Ethical" or "Unethical" according to the CLIENT AND EMPLOYER principle:</p>
                
                <div style="display: flex; gap: 20px; margin-top: 20px;">
                    <div style="flex: 1;">
                        <h4>Ethical Actions</h4>
                        <div class="drop-zone" id="ethicalZone" style="min-height: 200px;"></div>
                    </div>
                    <div style="flex: 1;">
                        <h4>Unethical Actions</h4>
                        <div class="drop-zone" id="unethicalZone" style="min-height: 200px;"></div>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="draggable-item" onclick="categorizeAction(this, 'Reporting project delays honestly')">Reporting project delays honestly</div>
                    <div class="draggable-item" onclick="categorizeAction(this, 'Sharing company code with competitors')">Sharing company code with competitors</div>
                    <div class="draggable-item" onclick="categorizeAction(this, 'Suggesting cost-effective solutions')">Suggesting cost-effective solutions</div>
                    <div class="draggable-item" onclick="categorizeAction(this, 'Working on personal projects during work hours')">Working on personal projects during work hours</div>
                    <div class="draggable-item" onclick="categorizeAction(this, 'Refusing to implement illegal features')">Refusing to implement illegal features</div>
                    <div class="draggable-item" onclick="categorizeAction(this, 'Overstating your qualifications')">Overstating your qualifications</div>
                </div>
                
                <button class="button" onclick="checkCategorization()" style="margin-top: 20px;">Check Answers</button>
                <div id="categorizationFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetCategorization()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(3)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(5)">Next →</button>
            </div>
        </div>
        
        <!-- Page 5: PRODUCT Principle -->
        <div class="page" id="page5">
            <div class="card">
                <h2>3️⃣ PRODUCT - Highest Professional Standards</h2>
                <p>Software engineers shall ensure that their products and related modifications meet the highest professional standards possible.</p>
                
                <h3>This includes:</h3>
                <ul>
                    <li>Striving for high quality in all work</li>
                    <li>Following best practices and industry standards</li>
                    <li>Thorough testing and documentation</li>
                    <li>Considering maintainability and scalability</li>
                </ul>
                
                <h3>Fill in the Blanks Activity:</h3>
                <p>Complete the following statements about maintaining product quality. Click on a word from the word bank, then click on the blank to fill it.</p>
                
                <div class="word-bank">
                    <span class="word-option" onclick="selectWord(this, 'testing')">testing</span>
                    <span class="word-option" onclick="selectWord(this, 'documentation')">documentation</span>
                    <span class="word-option" onclick="selectWord(this, 'standards')">standards</span>
                    <span class="word-option" onclick="selectWord(this, 'quality')">quality</span>
                    <span class="word-option" onclick="selectWord(this, 'shortcuts')">shortcuts</span>
                    <span class="word-option" onclick="selectWord(this, 'deadlines')">deadlines</span>
                    <span class="word-option" onclick="selectWord(this, 'reviews')">reviews</span>
                    <span class="word-option" onclick="selectWord(this, 'bugs')">bugs</span>
                </div>
                
                <div style="margin-top: 20px; line-height: 2;">
                    <p>1. Software engineers should prioritize <span class="fill-blank" onclick="placeWord(this)" data-answer="quality"></span> over speed.</p>
                    <p>2. Comprehensive <span class="fill-blank" onclick="placeWord(this)" data-answer="testing"></span> helps identify and fix issues early.</p>
                    <p>3. Clear <span class="fill-blank" onclick="placeWord(this)" data-answer="documentation"></span> makes code maintainable for future developers.</p>
                    <p>4. Following industry <span class="fill-blank" onclick="placeWord(this)" data-answer="standards"></span> ensures consistency and reliability.</p>
                    <p>5. Code <span class="fill-blank" onclick="placeWord(this)" data-answer="reviews"></span> help maintain high quality through peer feedback.</p>
                </div>
                
                <button class="button" onclick="checkFillBlanks()" style="margin-top: 20px;">Check Answers</button>
                <div id="fillBlanksFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetFillBlanks()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(4)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(6)">Next →</button>
            </div>
        </div>
        
        <!-- Page 6: JUDGEMENT Principle -->
        <div class="page" id="page6">
            <div class="card">
                <h2>4️⃣ JUDGEMENT - Integrity and Independence</h2>
                <p>Software engineers shall maintain integrity and independence in their professional judgment. This means making decisions based on professional expertise rather than external pressures.</p>
                
                <h3>True or False Activity:</h3>
                <p>Determine whether each statement about professional judgment is true or false:</p>
                
                <div style="margin-top: 20px;">
                    <div class="quiz-option" onclick="checkTrueFalse(this, 1, true)">
                        <strong>Statement 1:</strong> Engineers should change their technical recommendations based on who's paying the most.
                    </div>
                    <div class="quiz-option" onclick="checkTrueFalse(this, 2, false)">
                        <strong>Statement 2:</strong> Professional judgment should be based on technical merit and ethical considerations.
                    </div>
                    <div class="quiz-option" onclick="checkTrueFalse(this, 3, false)">
                        <strong>Statement 3:</strong> It's acceptable to approve unsafe code if your manager insists.
                    </div>
                    <div class="quiz-option" onclick="checkTrueFalse(this, 4, true)">
                        <strong>Statement 4:</strong> Engineers should disclose any conflicts of interest that might affect their judgment.
                    </div>
                    <div class="quiz-option" onclick="checkTrueFalse(this, 5, false)">
                        <strong>Statement 5:</strong> Personal relationships should influence technical decisions.
                    </div>
                </div>
                
                <div id="trueFalseFeedback" style="margin-top: 20px;"></div>
                
                <button class="reset-button" onclick="resetTrueFalse()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(5)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(7)">Next →</button>
            </div>
        </div>
        
        <!-- Page 7: MANAGEMENT Principle -->
        <div class="page" id="page7">
            <div class="card">
                <h2>5️⃣ MANAGEMENT - Ethical Leadership</h2>
                <p>Software engineering managers and leaders shall subscribe to and promote an ethical approach to the management of software development and maintenance.</p>
                
                <h3>Ranking Activity: Prioritize Management Actions</h3>
                <p>Rank these management actions from most important (1) to least important (5) for promoting ethical practices:</p>
                
                <div id="rankingItems" style="margin-top: 20px;">
                    <div class="drop-zone" data-rank="1">1. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="2">2. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="3">3. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="4">4. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="5">5. <span class="rank-content"></span></div>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="draggable-item" onclick="selectForRanking(this, 'Create clear ethical guidelines')">Create clear ethical guidelines</div>
                    <div class="draggable-item" onclick="selectForRanking(this, 'Organize team social events')">Organize team social events</div>
                    <div class="draggable-item" onclick="selectForRanking(this, 'Ensure fair workload distribution')">Ensure fair workload distribution</div>
                    <div class="draggable-item" onclick="selectForRanking(this, 'Provide regular training')">Provide regular training</div>
                    <div class="draggable-item" onclick="selectForRanking(this, 'Lead by example')">Lead by example</div>
                </div>
                
                <button class="hint-button" onclick="showHint('rankingHint')">💡 Need a hint?</button>
                <div class="hint-text" id="rankingHint">Consider which actions have the most direct impact on establishing and maintaining ethical standards in the team.</div>
                
                <button class="button" onclick="checkRanking()" style="margin-top: 20px;">Check Ranking</button>
                <div id="rankingFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetRanking()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(6)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(8)">Next →</button>
            </div>
        </div>
        
        <!-- Page 8: PROFESSION Principle -->
        <div class="page" id="page8">
            <div class="card">
                <h2>6️⃣ PROFESSION - Advancing the Field</h2>
                <p>Software engineers shall advance the integrity and reputation of the profession consistent with the public interest.</p>
                
                <h3>Odd One Out Activity:</h3>
                <p>In each group, identify which action does NOT help advance the profession:</p>
                
                <div style="margin-top: 20px;">
                    <h4>Group 1:</h4>
                    <div id="oddGroup1">
                        <button class="quiz-option" onclick="checkOddOne(this, 1, false)">Contributing to open source projects</button>
                        <button class="quiz-option" onclick="checkOddOne(this, 1, false)">Mentoring junior developers</button>
                        <button class="quiz-option" onclick="checkOddOne(this, 1, true)">Exaggerating the capabilities of AI to impress clients</button>
                        <button class="quiz-option" onclick="checkOddOne(this, 1, false)">Publishing research findings</button>
                    </div>
                    
                    <h4 style="margin-top: 20px;">Group 2:</h4>
                    <div id="oddGroup2">
                        <button class="quiz-option" onclick="checkOddOne(this, 2, false)">Attending professional conferences</button>
                        <button class="quiz-option" onclick="checkOddOne(this, 2, true)">Spreading rumors about competing companies</button>
                        <button class="quiz-option" onclick="checkOddOne(this, 2, false)">Sharing knowledge through blogs</button>
                        <button class="quiz-option" onclick="checkOddOne(this, 2, false)">Participating in code reviews</button>
                    </div>
                </div>
                
                <div id="oddOneFeedback" style="margin-top: 20px;"></div>
                
                <button class="reset-button" onclick="resetOddOne()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(7)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(9)">Next →</button>
            </div>
        </div>
        
        <!-- Page 9: COLLEAGUES Principle -->
        <div class="page" id="page9">
            <div class="card">
                <h2>7️⃣ COLLEAGUES - Supporting Each Other</h2>
                <p>Software engineers shall be fair to and supportive of their colleagues. This creates a positive work environment and promotes professional growth.</p>
                
                <h3>Case Study Analysis:</h3>
                <div class="scenario-card">
                    <h4>The Code Review Dilemma</h4>
                    <p>Sarah, a senior developer, is reviewing code from Tom, a junior developer. The code works but doesn't follow best practices and could be more efficient. Sarah knows Tom has been struggling with confidence lately after some harsh criticism from another team member.</p>
                    
                    <p><strong>Questions:</strong></p>
                </div>
                
                <div style="margin-top: 20px;">
                    <h4>1. What should Sarah prioritize in her code review?</h4>
                    <button class="quiz-option" onclick="checkColleagueAnswer(this, 1, 'A')">
                        A) Point out every single issue to ensure perfect code
                    </button>
                    <button class="quiz-option" onclick="checkColleagueAnswer(this, 1, 'B')">
                        B) Approve it without comments to avoid hurting feelings
                    </button>
                    <button class="quiz-option" onclick="checkColleagueAnswer(this, 1, 'C')">
                        C) Provide constructive feedback with suggestions and positive reinforcement
                    </button>
                    <button class="quiz-option" onclick="checkColleagueAnswer(this, 1, 'D')">
                        D) Rewrite the code herself to save time
                    </button>
                    
                    <h4 style="margin-top: 20px;">2. How can Sarah best support Tom's professional development?</h4>
                    <textarea id="colleagueResponse" rows="4" placeholder="Write your answer here..." style="margin-top: 10px;"></textarea>
                    
                    <button class="button" onclick="checkColleagueResponse()" style="margin-top: 10px;">Submit Answer</button>
                </div>
                
                <div id="colleagueFeedback" style="margin-top: 20px;"></div>
                
                <button class="reset-button" onclick="resetColleague()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(8)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(10)">Next →</button>
            </div>
        </div>
        
        <!-- Page 10: SELF Principle -->
        <div class="page" id="page10">
            <div class="card">
                <h2>8️⃣ SELF - Lifelong Learning</h2>
                <p>Software engineers shall participate in lifelong learning regarding the practice of their profession and shall promote an ethical approach to the practice of the profession.</p>
                
                <h3>Compare and Contrast Activity:</h3>
                <p>Compare these two approaches to professional development:</p>
                
                <div style="display: flex; gap: 20px; margin-top: 20px;">
                    <div class="scenario-card" style="flex: 1;">
                        <h4>Developer A</h4>
                        <ul>
                            <li>Relies only on knowledge from university</li>
                            <li>Avoids new technologies</li>
                            <li>Doesn't attend training sessions</li>
                            <li>Works in isolation</li>
                        </ul>
                    </div>
                    <div class="scenario-card" style="flex: 1;">
                        <h4>Developer B</h4>
                        <ul>
                            <li>Regularly takes online courses</li>
                            <li>Experiments with new frameworks</li>
                            <li>Attends conferences and workshops</li>
                            <li>Participates in communities</li>
                        </ul>
                    </div>
                </div>
                
                <h4 style="margin-top: 20px;">Analysis Questions:</h4>
                <p>1. What are the key differences between these approaches?</p>
                <textarea id="selfAnalysis1" rows="3" placeholder="Identify at least 3 key differences..." style="margin-top: 10px;"></textarea>
                
                <p style="margin-top: 15px;">2. What are the long-term career implications of each approach?</p>
                <textarea id="selfAnalysis2" rows="3" placeholder="Consider employability, job satisfaction, and contribution to the field..." style="margin-top: 10px;"></textarea>
                
                <button class="button" onclick="checkSelfAnalysis()" style="margin-top: 20px;">Submit Analysis</button>
                <div id="selfFeedback" style="margin-top: 20px;"></div>
                
                <button class="reset-button" onclick="resetSelf()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(9)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(11)">Next →</button>
            </div>
        </div>
        
        <!-- Page 11: Professional Body Membership -->
        <div class="page" id="page11">
            <div class="card">
                <h2>🏛️ Professional Ethical Body Membership Benefits</h2>
                <p>Joining a professional body like ACM or IEEE provides numerous benefits for software engineers:</p>
                
                <h3>Key Benefits:</h3>
                <ul>
                    <li><strong>Ethical Guidelines:</strong> Clear standards to follow</li>
                    <li><strong>Professional Recognition:</strong> Credibility and reputation</li>
                    <li><strong>Support Services:</strong> Legal advice and professional help</li>
                    <li><strong>Continuous Learning:</strong> Training courses and resources</li>
                    <li><strong>Networking:</strong> Connect with other professionals</li>
                </ul>
                
                <h3>Matching Activity: Benefits in Action</h3>
                <p>Match each scenario to the membership benefit it demonstrates:</p>
                
                <div style="display: flex; gap: 20px; margin-top: 20px;">
                    <div style="flex: 1;">
                        <h4>Scenarios:</h4>
                        <div class="draggable-item" onclick="selectForBenefits(this, 'scenario1')">
                            A developer unsure about data privacy laws gets expert advice
                        </div>
                        <div class="draggable-item" onclick="selectForBenefits(this, 'scenario2')">
                            A client chooses a certified professional over others
                        </div>
                        <div class="draggable-item" onclick="selectForBenefits(this, 'scenario3')">
                            An engineer attends a workshop on new AI ethics
                        </div>
                        <div class="draggable-item" onclick="selectForBenefits(this, 'scenario4')">
                            Team members follow documented ethical standards
                        </div>
                    </div>
                    <div style="flex: 1;">
                        <h4>Benefits:</h4>
                        <div class="drop-zone" onclick="matchBenefit(this, 'guidelines')">Ethical Guidelines</div>
                        <div class="drop-zone" onclick="matchBenefit(this, 'recognition')">Professional Recognition</div>
                        <div class="drop-zone" onclick="matchBenefit(this, 'support')">Support Services</div>
                        <div class="drop-zone" onclick="matchBenefit(this, 'learning')">Continuous Learning</div>
                    </div>
                </div>
                
                <button class="button" onclick="checkBenefitsMatching()" style="margin-top: 20px;">Check Answers</button>
                <div id="benefitsFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetBenefits()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(10)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(12)">Next →</button>
            </div>
        </div>
        
        <!-- Page 12: Manager Ethics -->
        <div class="page" id="page12">
            <div class="card">
                <h2>👔 Ethical Actions by Managers</h2>
                <p>Managers play a crucial role in establishing and maintaining ethical standards within their teams.</p>
                
                <h3>Examples of Ethical Management Actions:</h3>
                <ul>
                    <li>Prepare comprehensive inductions for new staff</li>
                    <li>Hold regular meetings to ensure clear objectives</li>
                    <li>Redistribute work based on team members' strengths</li>
                    <li>Assign mentors to support struggling staff</li>
                    <li>Organize team building activities</li>
                    <li>Provide training opportunities</li>
                </ul>
                
                <h3>Scenario-Based Exercise:</h3>
                <div class="scenario-card">
                    <h4>The Overworked Team</h4>
                    <p>You're a manager and notice that your team has been working overtime for weeks to meet a deadline. Team morale is low, mistakes are increasing, and one developer has called in sick three times this week. The client is pressuring for faster delivery.</p>
                </div>
                
                <h4>What ethical actions should you take? (Select all that apply)</h4>
                <div id="managerActions" style="margin-top: 20px;">
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" value="meeting"> Call a team meeting to discuss workload and concerns
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" value="client"> Negotiate with the client for a more realistic deadline
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" value="overtime"> Mandate more overtime to meet the deadline
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" value="redistribute"> Review and redistribute tasks based on capacity
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" value="ignore"> Ignore the issues - deadlines are paramount
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" value="support"> Arrange additional support or resources
                    </label>
                </div>
                
                <button class="button" onclick="checkManagerActions()" style="margin-top: 20px;">Check Answers</button>
                <div id="managerFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetManager()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(11)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(13)">Next →</button>
            </div>
        </div>
        
        <!-- Page 13: Employee Ethics -->
        <div class="page" id="page13">
            <div class="card">
                <h2>💼 Ethical Actions by Employees</h2>
                <p>Employees also have important ethical responsibilities in maintaining professional standards.</p>
                
                <h3>Key Ethical Actions for Employees:</h3>
                <ul>
                    <li><strong>Communication:</strong> Keep team and manager informed</li>
                    <li><strong>Research:</strong> Stay updated with best practices</li>
                    <li><strong>Training:</strong> Pursue professional development</li>
                    <li><strong>Collaboration:</strong> Support team members</li>
                    <li><strong>Honesty:</strong> Report issues and mistakes promptly</li>
                </ul>
                
                <h3>Problem-Solving Exercise:</h3>
                <div class="scenario-card">
                    <h4>The Technical Dilemma</h4>
                    <p>You're working on a critical feature and realize the approach your team has been using for months has a fundamental flaw. Fixing it properly would take two weeks, but there's a quick workaround that would take two days but might cause issues later.</p>
                </div>
                
                <h4>Rank these actions from most ethical (1) to least ethical (5):</h4>
                <div id="employeeRanking" style="margin-top: 20px;">
                    <div class="drop-zone" data-rank="1">1. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="2">2. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="3">3. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="4">4. <span class="rank-content"></span></div>
                    <div class="drop-zone" data-rank="5">5. <span class="rank-content"></span></div>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="draggable-item" onclick="selectEmployeeAction(this, 'Document the issue and propose both solutions to the team')">
                        Document the issue and propose both solutions to the team
                    </div>
                    <div class="draggable-item" onclick="selectEmployeeAction(this, 'Implement the quick fix without telling anyone')">
                        Implement the quick fix without telling anyone
                    </div>
                    <div class="draggable-item" onclick="selectEmployeeAction(this, 'Research best practices before making a recommendation')">
                        Research best practices before making a recommendation
                    </div>
                    <div class="draggable-item" onclick="selectEmployeeAction(this, 'Ignore the flaw - it hasn\'t caused problems yet')">
                        Ignore the flaw - it hasn't caused problems yet
                    </div>
                    <div class="draggable-item" onclick="selectEmployeeAction(this, 'Ask for mentor guidance on the best approach')">
                        Ask for mentor guidance on the best approach
                    </div>
                </div>
                
                <button class="button" onclick="checkEmployeeRanking()" style="margin-top: 20px;">Check Ranking</button>
                <div id="employeeFeedback" style="margin-top: 10px;"></div>
                
                <button class="reset-button" onclick="resetEmployee()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(12)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(14)">Next →</button>
            </div>
        </div>
        
        <!-- Page 14: Why Ethics Matter -->
        <div class="page" id="page14">
            <div class="card">
                <h2>❓ Why Should Managers Act Ethically?</h2>
                <p>Ethical management is crucial for creating successful teams and products. Let's explore the key reasons:</p>
                
                <div class="scenario-card">
                    <h3>Key Reasons:</h3>
                    <ol>
                        <li><strong>Team members feel valued</strong> - Leading to higher job satisfaction</li>
                        <li><strong>Get the best work from the team</strong> - Motivated employees are more productive</li>
                        <li><strong>Enable effective collaboration</strong> - Trust facilitates teamwork</li>
                        <li><strong>Create the best product for clients</strong> - Ethical practices lead to quality outcomes</li>
                    </ol>
                </div>
                
                <h3>Synthesis Activity: Create Your Ethical Framework</h3>
                <p>Based on everything you've learned, create a personal ethical framework for software engineering. Consider the following aspects:</p>
                
                <div style="margin-top: 20px;">
                    <h4>1. Your Core Values (list 3-5):</h4>
                    <textarea id="coreValues" rows="3" placeholder="e.g., Integrity, Transparency, User Privacy..." style="margin-top: 10px;"></textarea>
                    
                    <h4 style="margin-top: 15px;">2. Your Ethical Red Lines (things you would never do):</h4>
                    <textarea id="redLines" rows="3" placeholder="e.g., Compromise user safety, hide security vulnerabilities..." style="margin-top: 10px;"></textarea>
                    
                    <h4 style="margin-top: 15px;">3. Your Commitment to Growth:</h4>
                    <textarea id="growthCommitment" rows="3" placeholder="How will you continue developing ethically? e.g., Regular training, seeking feedback..." style="margin-top: 10px;"></textarea>
                </div>
                
                <button class="button" onclick="checkEthicalFramework()" style="margin-top: 20px;">Submit Framework</button>
                <div id="frameworkFeedback" style="margin-top: 20px;"></div>
                
                <h3 style="margin-top: 30px;">General Ethical Action Points:</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 15px;">
                    <div class="card" style="text-align: center; padding: 15px;">⚖️ Fairness</div>
                    <div class="card" style="text-align: center; padding: 15px;">🤝 Honesty</div>
                    <div class="card" style="text-align: center; padding: 15px;">🛡️ Safety</div>
                    <div class="card" style="text-align: center; padding: 15px;">🔒 Security</div>
                    <div class="card" style="text-align: center; padding: 15px;">👥 Teamwork</div>
                    <div class="card" style="text-align: center; padding: 15px;">💭 Critique</div>
                    <div class="card" style="text-align: center; padding: 15px;">📚 Training</div>
                    <div class="card" style="text-align: center; padding: 15px;">💬 Communication</div>
                </div>
                
                <button class="reset-button" onclick="resetFramework()">Reset Activity</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(13)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(15)">Next →</button>
            </div>
        </div>
        
        <!-- Page 15: Practice Exam Questions -->
        <div class="page" id="page15">
            <div class="card">
                <h2>📝 Practice Exam Questions</h2>
                <p>Test your understanding with these exam-style questions. Enter your predicted marks after attempting each question.</p>
                
                <div class="exam-question">
                    <h3>Question 1 (6 marks)</h3>
                    <p>Explain three benefits of joining a professional ethical body for software engineers.</p>
                    <textarea id="exam1" rows="6" placeholder="Write your answer here..." style="margin-top: 10px;"></textarea>
                    <div style="margin-top: 10px;">
                        <label>Predicted marks: <input type="number" id="marks1" class="marks-input" min="0" max="6"></label>
                        <button class="button" onclick="revealMarkScheme(1)" style="margin-left: 10px;">Show Mark Scheme</button>
                    </div>
                    <div class="mark-scheme" id="markScheme1">
                        <h4>Mark Scheme:</h4>
                        <ul>
                            <li><strong>1 mark each for identifying a benefit (max 3):</strong>
                                <ul>
                                    <li>Ethical guidelines to follow</li>
                                    <li>Professional recognition/credibility</li>
                                    <li>Legal advice and support</li>
                                    <li>Training courses and resources</li>
                                    <li>Networking opportunities</li>
                                </ul>
                            </li>
                            <li><strong>1 mark each for explanation (max 3):</strong>
                                <ul>
                                    <li>How the benefit helps in practice</li>
                                    <li>Impact on career or work quality</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="exam-question">
                    <h3>Question 2 (8 marks)</h3>
                    <p>A software engineer discovers that their company's app is collecting location data even when users have disabled location permissions. Using the ACM/IEEE Code of Ethics principles, discuss what actions the engineer should take and why.</p>
                    <textarea id="exam2" rows="8" placeholder="Write your answer here..." style="margin-top: 10px;"></textarea>
                    <div style="margin-top: 10px;">
                        <label>Predicted marks: <input type="number" id="marks2" class="marks-input" min="0" max="8"></label>
                        <button class="button" onclick="revealMarkScheme(2)" style="margin-left: 10px;">Show Mark Scheme</button>
                    </div>
                    <div class="mark-scheme" id="markScheme2">
                        <h4>Mark Scheme:</h4>
                        <ul>
                            <li><strong>2 marks - Identifying relevant principles:</strong>
                                <ul>
                                    <li>PUBLIC (protecting public interest)</li>
                                    <li>CLIENT AND EMPLOYER (balancing interests)</li>
                                    <li>JUDGEMENT (maintaining integrity)</li>
                                </ul>
                            </li>
                            <li><strong>3 marks - Actions to take:</strong>
                                <ul>
                                    <li>Report issue to management immediately</li>
                                    <li>Document the privacy violation</li>
                                    <li>Suggest fixes to respect user permissions</li>
                                    <li>If ignored, consider whistleblowing</li>
                                </ul>
                            </li>
                            <li><strong>3 marks - Justification:</strong>
                                <ul>
                                    <li>User privacy is fundamental right</li>
                                    <li>Violates user trust and consent</li>
                                    <li>Could have legal ramifications</li>
                                    <li>Damages profession's reputation</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="exam-question">
                    <h3>Question 3 (4 marks)</h3>
                    <p>Compare and contrast the ethical responsibilities of software engineering managers versus individual developers.</p>
                    <textarea id="exam3" rows="6" placeholder="Write your answer here..." style="margin-top: 10px;"></textarea>
                    <div style="margin-top: 10px;">
                        <label>Predicted marks: <input type="number" id="marks3" class="marks-input" min="0" max="4"></label>
                        <button class="button" onclick="revealMarkScheme(3)" style="margin-left: 10px;">Show Mark Scheme</button>
                    </div>
                    <div class="mark-scheme" id="markScheme3">
                        <h4>Mark Scheme:</h4>
                        <ul>
                            <li><strong>2 marks - Manager responsibilities:</strong>
                                <ul>
                                    <li>Set ethical tone and culture</li>
                                    <li>Ensure fair workload distribution</li>
                                    <li>Provide training and mentorship</li>
                                    <li>Make strategic ethical decisions</li>
                                </ul>
                            </li>
                            <li><strong>2 marks - Developer responsibilities:</strong>
                                <ul>
                                    <li>Write quality, secure code</li>
                                    <li>Communicate issues honestly</li>
                                    <li>Support colleagues</li>
                                    <li>Continuous self-improvement</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <button class="reset-button" onclick="resetExam()">Reset Answers</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(14)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(16)">Next →</button>
            </div>
        </div>
        
        <!-- Page 16: Summary and Final Quiz -->
        <div class="page" id="page16">
            <div class="card">
                <h2>🎯 Summary and Final Assessment</h2>
                <p>Let's review what you've learned about the ACM/IEEE Software Engineering Code of Ethics!</p>
                
                <h3>Key Takeaways:</h3>
                <ul>
                    <li>✅ The 8 principles provide a comprehensive ethical framework</li>
                    <li>✅ Ethics protect the public, clients, colleagues, and the profession</li>
                    <li>✅ Both managers and developers have ethical responsibilities</li>
                    <li>✅ Professional body membership provides support and guidance</li>
                    <li>✅ Continuous learning and ethical reflection are essential</li>
                </ul>
                
                <h3>Final Quiz: Test Your Knowledge</h3>
                
                <!-- Question 1: Multiple Choice -->
                <div class="exam-question">
                    <h4>1. Which principle should take precedence when there's a conflict?</h4>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 1, 'A')">
                        A) MANAGEMENT - What the boss says goes
                    </button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 1, 'B')">
                        B) PUBLIC - The public interest comes first
                    </button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 1, 'C')">
                        C) CLIENT - The client is always right
                    </button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 1, 'D')">
                        D) SELF - Your own career advancement
                    </button>
                </div>
                
                <!-- Question 2: True/False -->
                <div class="exam-question">
                    <h4>2. True or False: It's acceptable to skip code testing if the deadline is tight.</h4>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 2, false)">True</button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 2, true)">False</button>
                </div>
                
                <!-- Question 3: Sequencing -->
                <div class="exam-question">
                    <h4>3. Arrange these ethical priorities in the correct order:</h4>
                    <div id="finalSequence" style="margin-top: 10px;">
                        <div class="draggable-item" onclick="selectFinalSequence(this, 'Public safety')">Public safety</div>
                        <div class="draggable-item" onclick="selectFinalSequence(this, 'Company profits')">Company profits</div>
                        <div class="draggable-item" onclick="selectFinalSequence(this, 'User privacy')">User privacy</div>
                        <div class="draggable-item" onclick="selectFinalSequence(this, 'Meeting deadlines')">Meeting deadlines</div>
                    </div>
                    <div id="finalSequenceAnswer" style="margin-top: 10px;">
                        <div class="drop-zone">1st Priority: <span></span></div>
                        <div class="drop-zone">2nd Priority: <span></span></div>
                        <div class="drop-zone">3rd Priority: <span></span></div>
                        <div class="drop-zone">4th Priority: <span></span></div>
                    </div>
                </div>
                
                <!-- Question 4: Short Answer -->
                <div class="exam-question">
                    <h4>4. Name three ways a software engineer can support their colleagues:</h4>
                    <textarea id="finalShortAnswer" rows="3" placeholder="List three specific actions..." style="margin-top: 10px;"></textarea>
                </div>
                
                <!-- Question 5: Scenario -->
                <div class="exam-question">
                    <h4>5. Your company wants to use AI to screen job applicants, but you notice it discriminates against certain groups. What should you do?</h4>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 5, 'A')">
                        A) Nothing - AI decisions are objective
                    </button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 5, 'B')">
                        B) Quietly adjust the algorithm without telling anyone
                    </button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 5, 'C')">
                        C) Document the bias and propose solutions to management
                    </button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 5, 'D')">
                        D) Immediately post about it on social media
                    </button>
                </div>
                
                <!-- Question 6: Fill in the Blanks -->
                <div class="exam-question">
                    <h4>6. Complete the statement:</h4>
                    <p>The <input type="text" id="blank1" style="width: 150px;" placeholder="principle name"> principle requires engineers to maintain <input type="text" id="blank2" style="width: 150px;" placeholder="quality"> and independence in their professional <input type="text" id="blank3" style="width: 150px;" placeholder="decision-making">.</p>
                </div>
                
                <!-- Question 7: Categorization -->
                <div class="exam-question">
                    <h4>7. Which principle does this action relate to: "Attending a conference on new security practices"?</h4>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 7, 'A')">PUBLIC</button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 7, 'B')">CLIENT AND EMPLOYER</button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 7, 'C')">SELF</button>
                    <button class="quiz-option" onclick="checkFinalAnswer(this, 7, 'D')">MANAGEMENT</button>
                </div>
                
                <!-- Question 8: Analysis -->
                <div class="exam-question">
                    <h4>8. Why is the COLLEAGUES principle important for team productivity?</h4>
                    <textarea id="finalAnalysis" rows="3" placeholder="Explain the connection between colleague support and productivity..." style="margin-top: 10px;"></textarea>
                </div>
                
                <button class="button" onclick="checkFinalQuiz()" style="margin-top: 20px;">Submit Final Quiz</button>
                <div id="finalQuizFeedback" style="margin-top: 20px;"></div>
                
                <button class="reset-button" onclick="resetFinalQuiz()">Reset Quiz</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(15)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(17)">Next →</button>
            </div>
        </div>
        
        <!-- Page 17: Extension Activities -->
        <div class="page" id="page17">
            <div class="card">
                <h2>🚀 Extension Activities</h2>
                <p>Ready to go beyond the specification? These activities will deepen your understanding of software engineering ethics.</p>
                
                <h3>Research Project:</h3>
                <div class="scenario-card">
                    <h4>Ethical AI Development</h4>
                    <p>Research a recent case where AI systems have raised ethical concerns (e.g., facial recognition, algorithmic bias, deepfakes). Create a presentation that:</p>
                    <ul>
                        <li>Explains the technology and its intended use</li>
                        <li>Identifies the ethical issues using the 8 principles</li>
                        <li>Proposes solutions or safeguards</li>
                        <li>Discusses the role of software engineers in preventing such issues</li>
                    </ul>
                    <textarea rows="6" placeholder="Outline your research findings here..." style="margin-top: 15px;"></textarea>
                </div>
                
                <h3>Creative Challenge:</h3>
                <div class="scenario-card">
                    <h4>Design an Ethical Decision Framework</h4>
                    <p>Create a flowchart or decision tree that software engineers can use when facing ethical dilemmas. Your framework should:</p>
                    <ul>
                        <li>Include key questions to ask</li>
                        <li>Reference the 8 principles</li>
                        <li>Provide clear action paths</li>
                        <li>Consider various stakeholders</li>
                    </ul>
                    <textarea rows="6" placeholder="Describe your framework design..." style="margin-top: 15px;"></textarea>
                </div>
                
                <h3>Case Study Development:</h3>
                <div class="scenario-card">
                    <h4>Write Your Own Ethical Scenario</h4>
                    <p>Create an original ethical dilemma that software engineers might face. Include:</p>
                    <ul>
                        <li>Background context</li>
                        <li>The ethical conflict</li>
                        <li>Multiple stakeholder perspectives</li>
                        <li>Possible solutions with pros/cons</li>
                        <li>Your recommended approach using the 8 principles</li>
                    </ul>
                    <textarea rows="8" placeholder="Write your scenario here..." style="margin-top: 15px;"></textarea>
                </div>
                
                <h3>Practical Application:</h3>
                <div class="scenario-card">
                    <h4>Ethics Audit</h4>
                    <p>Choose a popular app or software service. Conduct an "ethics audit" evaluating how well it adheres to each of the 8 principles. Present your findings in a report format.</p>
                    <textarea rows="6" placeholder="Document your audit findings..." style="margin-top: 15px;"></textarea>
                </div>
                
                <button class="button" onclick="submitExtension()">Submit Extension Work</button>
                <div id="extensionFeedback" style="margin-top: 20px;"></div>
                
                <button class="reset-button" onclick="resetExtension()">Reset Activities</button>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(16)">← Previous</button>
                <button class="nav-arrow" onclick="showPage(18)">Next →</button>
            </div>
        </div>
        
        <!-- Page 18: Videos and Resources -->
        <div class="page" id="page18">
            <div class="card">
                <h2>🎥 Videos and Additional Resources</h2>
                <p>Enhance your learning with these supplementary materials.</p>
                
                <h3>Video Placeholders:</h3>
                <div class="scenario-card">
                    <h4>📹 Video 1: Introduction to Software Engineering Ethics</h4>
                    <p>[Video placeholder - Duration: 10 minutes]</p>
                    <p>This video covers the basics of why ethics matter in software engineering and introduces the ACM/IEEE Code.</p>
                </div>
                
                <div class="scenario-card">
                    <h4>📹 Video 2: Real-World Ethical Dilemmas</h4>
                    <p>[Video placeholder - Duration: 15 minutes]</p>
                    <p>Case studies of actual ethical challenges faced by software engineers and how they were resolved.</p>
                </div>
                
                <div class="scenario-card">
                    <h4>📹 Video 3: Interview with Ethics Committee Member</h4>
                    <p>[Video placeholder - Duration: 12 minutes]</p>
                    <p>An ACM Ethics Committee member discusses the development and importance of the code of ethics.</p>
                </div>
                
                <h3>Additional Reading:</h3>
                <ul>
                    <li>📖 ACM Code of Ethics and Professional Conduct (Full Document)</li>
                    <li>📖 IEEE Code of Ethics</li>
                    <li>📖 "Ethics in Computing" - Chapter on Professional Responsibilities</li>
                    <li>📖 Case Studies in Engineering Ethics</li>
                </ul>
                
                <h3>Useful Links:</h3>
                <ul>
                    <li>🔗 ACM Ethics Website</li>
                    <li>🔗 IEEE Computer Society</li>
                    <li>🔗 Software Engineering Ethics Course (MOOC)</li>
                    <li>🔗 Ethics in AI Research Group</li>
                </ul>
                
                <h3>Your Learning Journey:</h3>
                <div class="scenario-card" style="background: linear-gradient(135deg, #10b981, #3b82f6); color: white;">
                    <h4>🎉 Congratulations!</h4>
                    <p>You've completed the ACM/IEEE Software Engineering Code of Ethics lesson!</p>
                    <p><strong>Your Progress:</strong></p>
                    <ul>
                        <li>✅ Learned all 8 ethical principles</li>
                        <li>✅ Practiced applying ethics to real scenarios</li>
                        <li>✅ Understood manager and employee responsibilities</li>
                        <li>✅ Created your own ethical framework</li>
                    </ul>
                    <p><strong>Next Steps:</strong></p>
                    <ol>
                        <li>Review any sections you found challenging</li>
                        <li>Complete the extension activities</li>
                        <li>Discuss ethical scenarios with classmates</li>
                        <li>Apply these principles in your projects</li>
                    </ol>
                </div>
                
                <button class="button" onclick="generateCertificate()" style="margin-top: 20px;">🏆 Generate Completion Certificate</button>
                <div id="certificateArea" style="margin-top: 20px;"></div>
            </div>
            
            <div class="nav-arrows">
                <button class="nav-arrow" onclick="showPage(17)">← Previous</button>
                <button class="nav-arrow" disabled>Next →</button>
            </div>
        </div>
    </div>
    
    <!-- Feedback Button -->
    <button class="feedback-button" onclick="openFeedback()">💬</button>
    
    <!-- Feedback Modal -->
    <div class="feedback-modal" id="feedbackModal">
        <div class="feedback-content">
            <h3>Send Feedback</h3>
            <p>Found a bug or have a suggestion? Let us know!</p>
            <p><strong>Current Page:</strong> <span id="currentPageFeedback"></span></p>
            <textarea id="feedbackText" rows="6" placeholder="Describe the issue or suggestion..." style="margin-top: 10px;"></textarea>
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button class="button" onclick="sendFeedback()">Send Feedback</button>
                <button class="button" style="background: var(--error-color);" onclick="closeFeedback()">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup" style="display: none;">
        <div class="achievement-icon">🏆</div>
        <h3 id="achievementTitle">Achievement Unlocked!</h3>
        <p id="achievementDesc">Description</p>
    </div>
    
    <!-- Shame Message -->
    <div class="shame-message" id="shameMessage">
        🚫 No pasting allowed! Type your own answers!
    </div>
    
    <script>
        // Global variables
        let currentPage = 0;
        let userXP = 0;
        let userLevel = 0;
        let completedActions = new Set();
        let selectedItem = null;
        let selectedWord = null;
        let achievements = {
            firstAnswer: false,
            allPrinciples: false,
            perfectQuiz: false,
            ethicalFramework: false,
            extensionComplete: false,
            level5: false
        };
        
        // XP requirements per level
        const xpPerLevel = [0, 100, 250, 450, 700, 1000];
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateXPDisplay();
            preventPaste();
            setupKeyboardNavigation();
        });
        
        // Page navigation
        function showPage(pageNum) {
            const pages = document.querySelectorAll('.page');
            const navButtons = document.querySelectorAll('.nav-button');
            
            pages.forEach(page => page.classList.remove('active'));
            navButtons.forEach(btn => btn.classList.remove('active'));
            
            pages[pageNum].classList.add('active');
            navButtons[pageNum].classList.add('active');
            currentPage = pageNum;
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // XP System
        function addXP(amount, actionId) {
            if (completedActions.has(actionId)) {
                return; // Action already completed
            }
            
            completedActions.add(actionId);
            userXP += amount;
            
            // Check for level up
            for (let i = userLevel + 1; i < xpPerLevel.length; i++) {
                if (userXP >= xpPerLevel[i]) {
                    userLevel = i;
                    showAchievement('Level Up!', `You reached Level ${userLevel}!`);
                    if (userLevel === 5 && !achievements.level5) {
                        achievements.level5 = true;
                        showAchievement('Master Ethicist', 'You reached the maximum level!');
                    }
                }
            }
            
            updateXPDisplay();
            
            // Particle effect
            createParticles();
        }
        
        function updateXPDisplay() {
            const xpFill = document.getElementById('xpFill');
            const currentXPSpan = document.getElementById('currentXP');
            const requiredXPSpan = document.getElementById('requiredXP');
            const levelBadge = document.getElementById('levelBadge');
            const currentLevelSpan = document.getElementById('currentLevel');
            
            currentXPSpan.textContent = userXP;
            currentLevelSpan.textContent = userLevel;
            levelBadge.textContent = userLevel;
            
            const nextLevelXP = userLevel < 5 ? xpPerLevel[userLevel + 1] : xpPerLevel[5];
            requiredXPSpan.textContent = nextLevelXP;
            
            const currentLevelXP = xpPerLevel[userLevel];
            const progress = ((userXP - currentLevelXP) / (nextLevelXP - currentLevelXP)) * 100;
            xpFill.style.width = Math.min(progress, 100) + '%';
        }
        
        // Achievement System
        function showAchievement(title, description) {
            const popup = document.getElementById('achievementPopup');
            const titleEl = document.getElementById('achievementTitle');
            const descEl = document.getElementById('achievementDesc');
            
            titleEl.textContent = title;
            descEl.textContent = description;
            
            popup.style.display = 'block';
            popup.style.animation = 'achievementPop 0.5s ease forwards';
            
            setTimeout(() => {
                popup.style.display = 'none';
            }, 3000);
        }
        
        // Particle Effects
        function createParticles() {
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * window.innerWidth + 'px';
                particle.style.top = '50%';
                particle.innerHTML = ['⭐', '✨', '🌟', '💫'][Math.floor(Math.random() * 4)];
                particle.style.fontSize = Math.random() * 20 + 20 + 'px';
                particle.style.animation = 'particleFall 1s ease-out forwards';
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1000);
            }
        }
        
        // Prevent paste
        function preventPaste() {
            document.addEventListener('paste', function(e) {
                e.preventDefault();
                const shameMsg = document.getElementById('shameMessage');
                shameMsg.style.display = 'block';
                setTimeout(() => {
                    shameMsg.style.display = 'none';
                }, 2000);
                return false;
            });
        }
        
        // Keyboard navigation
        function setupKeyboardNavigation() {
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft' && currentPage > 0) {
                    showPage(currentPage - 1);
                } else if (e.key === 'ArrowRight' && currentPage < 18) {
                    showPage(currentPage + 1);
                }
            });
        }
        
        // Accessibility functions
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
        }
        
        function toggleDyslexiaFont() {
            document.body.classList.toggle('dyslexia-font');
        }
        
        function changeFontSize(delta) {
            const root = document.documentElement;
            const currentSize = parseInt(getComputedStyle(root).getPropertyValue('--font-size'));
            const newSize = Math.max(12, Math.min(24, currentSize + delta));
            root.style.setProperty('--font-size', newSize + 'px');
        }
        
        // Feedback system
        function openFeedback() {
            const modal = document.getElementById('feedbackModal');
            const pageSpan = document.getElementById('currentPageFeedback');
            pageSpan.textContent = `Page ${currentPage + 1} - ${document.querySelector('.page.active h2').textContent}`;
            modal.style.display = 'block';
        }
        
        function closeFeedback() {
            document.getElementById('feedbackModal').style.display = 'none';
            document.getElementById('feedbackText').value = '';
        }
        
        function sendFeedback() {
            const feedbackText = document.getElementById('feedbackText').value;
            if (feedbackText.trim()) {
                // In a real implementation, this would send an email
                // For now, we'll just show a success message
                alert('Thank you for your feedback! It has been sent to the instructor.');
                closeFeedback();
                addXP(10, 'feedback-sent');
            }
        }
        
        // Page 0: Starter Activity
        function checkStarterAnswer(button, answer) {
            const options = button.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = true;
            });
            
            button.classList.add('selected');
            
            const feedback = document.getElementById('starterSuccess');
            const feedbackDiv = document.getElementById('starterFeedback');
            
            if (answer === 'C') {
                button.classList.add('correct');
                feedback.textContent = 'Excellent! You demonstrated ethical thinking by prioritizing user consent and transparency. This aligns with the PUBLIC principle.';
                addXP(20, 'starter-correct');
                
                if (!achievements.firstAnswer) {
                    achievements.firstAnswer = true;
                    showAchievement('First Steps', 'Completed your first ethical decision!');
                }
            } else {
                button.classList.add('incorrect');
                options[2].classList.add('correct'); // Highlight correct answer
                feedback.textContent = 'Not quite. The best approach is to suggest an opt-in consent mechanism. This respects user privacy while meeting business needs.';
                addXP(5, 'starter-attempt');
            }
            
            feedbackDiv.style.display = 'block';
        }
        
        function resetStarter() {
            const options = document.querySelectorAll('#starterQuiz .quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = false;
            });
            document.getElementById('starterFeedback').style.display = 'none';
        }
        
        // Page 1: Matching Activity
        let matchingSelections = {};
        
        function selectForMatching(item, concept) {
            if (selectedItem) {
                selectedItem.classList.remove('selected');
            }
            selectedItem = { element: item, concept: concept };
            item.classList.add('selected');
        }
        
        function matchWithSelected(zone, expectedConcept) {
            if (!selectedItem) return;
            
            if (selectedItem.concept === expectedConcept) {
                zone.classList.add('highlight');
                zone.textContent = selectedItem.element.textContent + ' - ' + zone.textContent;
                matchingSelections[expectedConcept] = true;
                selectedItem.element.style.display = 'none';
                selectedItem = null;
                
                // Check if all matched
                if (Object.keys(matchingSelections).length === 4) {
                    document.getElementById('matchingFeedback').innerHTML = '<div class="success-message" style="display: block;">Perfect! You understand the key ethical concepts.</div>';
                    addXP(25, 'matching-complete');
                }
            } else {
                zone.style.backgroundColor = '#fee2e2';
                setTimeout(() => {
                    zone.style.backgroundColor = '';
                }, 1000);
            }
        }
        
        function checkMatching() {
            if (Object.keys(matchingSelections).length === 4) {
                document.getElementById('matchingFeedback').innerHTML = '<div class="success-message" style="display: block;">All correct! You have a good understanding of ethical concepts.</div>';
                addXP(25, 'matching-checked');
            } else {
                document.getElementById('matchingFeedback').innerHTML = '<div class="mistake-item">Not all concepts are matched correctly. Keep trying!</div>';
            }
        }
        
        function resetMatching() {
            matchingSelections = {};
            selectedItem = null;
            const items = document.querySelectorAll('.page#page1 .draggable-item');
            const zones = document.querySelectorAll('.page#page1 .drop-zone');
            
            items.forEach(item => {
                item.style.display = 'inline-block';
                item.classList.remove('selected');
            });
            
            zones.forEach((zone, index) => {
                zone.classList.remove('highlight');
                const descriptions = [
                    'Being honest and having strong moral principles',
                    'Taking responsibility for one\'s actions and decisions',
                    'Being open about processes and decision-making',
                    'Treating others with dignity and consideration'
                ];
                zone.textContent = descriptions[index];
            });
            
            document.getElementById('matchingFeedback').innerHTML = '';
        }
        
        // Page 2: Principles Overview
        let revealedPrinciples = 0;
        
        function revealPrinciple(card, num) {
            const content = card.querySelector('.principle-content');
            const title = card.querySelector('h3');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                title.style.display = 'none';
                revealedPrinciples++;
                addXP(5, `reveal-principle-${num}`);
                
                if (revealedPrinciples === 8 && !achievements.allPrinciples) {
                    achievements.allPrinciples = true;
                    showAchievement('Principle Explorer', 'Discovered all 8 ethical principles!');
                    addXP(50, 'all-principles-revealed');
                }
            }
        }
        
        // Sequencing activity
        let sequenceSelection = null;
        
        function selectPrincipleForSequence(item, principle) {
            if (sequenceSelection) {
                sequenceSelection.classList.remove('selected');
            }
            sequenceSelection = item;
            item.classList.add('selected');
            item.dataset.principle = principle;
        }
        
        function placeInSequence(zone) {
            if (!sequenceSelection) return;
            
            zone.textContent = zone.textContent.split('.')[0] + '. ' + sequenceSelection.textContent;
            zone.dataset.principle = sequenceSelection.dataset.principle;
            sequenceSelection.style.display = 'none';
            sequenceSelection = null;
        }
        
        function checkSequence() {
            const correctOrder = [
                'PUBLIC',
                'CLIENT AND EMPLOYER',
                'PRODUCT',
                'JUDGEMENT',
                'MANAGEMENT',
                'PROFESSION',
                'COLLEAGUES',
                'SELF'
            ];
            
            let correct = 0;
            for (let i = 1; i <= 8; i++) {
                const zone = document.getElementById(`seq${i}`);
                if (zone.dataset.principle === correctOrder[i - 1]) {
                    correct++;
                    zone.style.backgroundColor = '#d1fae5';
                } else {
                    zone.style.backgroundColor = '#fee2e2';
                }
            }
            
            const feedback = document.getElementById('sequenceFeedback');
            if (correct === 8) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Perfect sequence! You know the order of all 8 principles.</div>';
                addXP(40, 'sequence-perfect');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You got ${correct}/8 correct. Remember: PUBLIC comes first!</div>`;
                addXP(correct * 5, 'sequence-attempt');
            }
        }
        
        function resetSequence() {
            sequenceSelection = null;
            const items = document.querySelectorAll('.page#page2 .draggable-item');
            const zones = document.querySelectorAll('#sequenceActivity .drop-zone');
            
            items.forEach(item => {
                item.style.display = 'inline-block';
                item.classList.remove('selected');
            });
            
            zones.forEach((zone, index) => {
                zone.textContent = `${index + 1}. Click to place principle`;
                zone.style.backgroundColor = '';
                zone.dataset.principle = '';
            });
            
            document.getElementById('sequenceFeedback').innerHTML = '';
        }
        
        // Page 3: PUBLIC Principle
        function checkPublicAnswer(button, answer) {
            const options = button.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = true;
            });
            
            button.classList.add('selected');
            
            const feedback = document.getElementById('publicFeedback');
            
            if (answer === 'B') {
                button.classList.add('correct');
                feedback.innerHTML = '<div class="success-message" style="display: block;">Correct! This demonstrates the PUBLIC principle by prioritizing societal wellbeing over engagement metrics.</div>';
                addXP(30, 'public-correct');
            } else {
                button.classList.add('incorrect');
                options[1].classList.add('correct');
                feedback.innerHTML = '<div class="mistake-item">Not quite. The PUBLIC principle requires us to act in the public interest, even if it affects business metrics.</div>';
                addXP(10, 'public-attempt');
            }
        }
        
        function showHint(hintId) {
            const hint = document.getElementById(hintId);
            hint.style.display = 'block';
            addXP(5, `hint-${hintId}`); // Less XP for using hints
        }
        
        function resetPublicQuiz() {
            const options = document.querySelectorAll('#publicQuiz .quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = false;
            });
            document.getElementById('publicFeedback').innerHTML = '';
            document.getElementById('publicHint').style.display = 'none';
        }
        
        // Page 4: Categorization
        let categorizations = { ethical: [], unethical: [] };
        
        function categorizeAction(item, action) {
            if (selectedItem) {
                selectedItem.classList.remove('selected');
            }
            selectedItem = { element: item, action: action };
            item.classList.add('selected');
        }
        
        function checkCategorization() {
            const ethicalActions = [
                'Reporting project delays honestly',
                'Suggesting cost-effective solutions',
                'Refusing to implement illegal features'
            ];
            
            const ethicalZone = document.getElementById('ethicalZone');
            const unethicalZone = document.getElementById('unethicalZone');
            
            const ethicalItems = ethicalZone.textContent;
            const unethicalItems = unethicalZone.textContent;
            
            let correct = 0;
            ethicalActions.forEach(action => {
                if (ethicalItems.includes(action)) correct++;
            });
            
            if (unethicalItems.includes('Sharing company code') && 
                unethicalItems.includes('personal projects') && 
                unethicalItems.includes('Overstating')) {
                correct += 3;
            }
            
            const feedback = document.getElementById('categorizationFeedback');
            if (correct === 6) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Excellent categorization! You understand ethical vs unethical actions.</div>';
                addXP(35, 'categorization-perfect');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You correctly categorized ${correct}/6 actions. Review the CLIENT AND EMPLOYER principle.</div>`;
                addXP(correct * 5, 'categorization-attempt');
            }
        }
        
        function resetCategorization() {
            document.getElementById('ethicalZone').innerHTML = '';
            document.getElementById('unethicalZone').innerHTML = '';
            selectedItem = null;
            
            const items = document.querySelectorAll('.page#page4 .draggable-item');
            items.forEach(item => {
                item.style.display = 'inline-block';
                item.classList.remove('selected');
            });
            
            document.getElementById('categorizationFeedback').innerHTML = '';
        }
        
        // Helper function for drop zones on page 4
        document.addEventListener('click', function(e) {
            if (e.target.id === 'ethicalZone' || e.target.id === 'unethicalZone') {
                if (selectedItem && selectedItem.element.parentElement.id !== 'managerActions') {
                    e.target.innerHTML += `<div style="margin: 5px; padding: 10px; background: var(--primary-color); color: white; border-radius: 5px;">${selectedItem.action}</div>`;
                    selectedItem.element.style.display = 'none';
                    selectedItem = null;
                }
            }
        });
        
        // Page 5: Fill in the Blanks
        function selectWord(wordElement, word) {
            if (selectedWord) {
                selectedWord.classList.remove('selected');
            }
            selectedWord = { element: wordElement, word: word };
            wordElement.classList.add('selected');
        }
        
        function placeWord(blank) {
            if (!selectedWord || selectedWord.element.classList.contains('used')) return;
            
            blank.textContent = selectedWord.word;
            blank.classList.add('filled');
            selectedWord.element.classList.add('used');
            selectedWord = null;
        }
        
        function checkFillBlanks() {
            const blanks = document.querySelectorAll('.page#page5 .fill-blank');
            let correct = 0;
            
            blanks.forEach(blank => {
                if (blank.textContent === blank.dataset.answer) {
                    correct++;
                    blank.style.backgroundColor = '#d1fae5';
                } else {
                    blank.style.backgroundColor = '#fee2e2';
                }
            });
            
            const feedback = document.getElementById('fillBlanksFeedback');
            if (correct === 5) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Perfect! You understand the key elements of maintaining product quality.</div>';
                addXP(30, 'fillblanks-perfect');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You got ${correct}/5 correct. Review the PRODUCT principle.</div>`;
                addXP(correct * 5, 'fillblanks-attempt');
            }
        }
        
        function resetFillBlanks() {
            selectedWord = null;
            const words = document.querySelectorAll('.page#page5 .word-option');
            const blanks = document.querySelectorAll('.page#page5 .fill-blank');
            
            words.forEach(word => {
                word.classList.remove('selected', 'used');
            });
            
            blanks.forEach(blank => {
                blank.textContent = '';
                blank.classList.remove('filled');
                blank.style.backgroundColor = '';
            });
            
            document.getElementById('fillBlanksFeedback').innerHTML = '';
        }
        
        // Page 6: True/False
        let trueFalseAnswers = {};
        
        function checkTrueFalse(button, statementNum, isTrue) {
            button.classList.add('selected');
            
            const correctAnswers = {
                1: false, // Should not change based on payment
                2: true,  // Should be based on merit
                3: false, // Should not approve unsafe code
                4: true,  // Should disclose conflicts
                5: false  // Personal relationships shouldn't influence
            };
            
            if ((statementNum === 2 || statementNum === 4) === isTrue) {
                button.classList.add('correct');
                trueFalseAnswers[statementNum] = true;
            } else {
                button.classList.add('incorrect');
                trueFalseAnswers[statementNum] = false;
            }
            
            button.disabled = true;
            
            if (Object.keys(trueFalseAnswers).length === 5) {
                const correct = Object.values(trueFalseAnswers).filter(v => v).length;
                const feedback = document.getElementById('trueFalseFeedback');
                
                if (correct === 5) {
                    feedback.innerHTML = '<div class="success-message" style="display: block;">Excellent! You understand the importance of maintaining professional judgment.</div>';
                    addXP(35, 'truefalse-perfect');
                } else {
                    feedback.innerHTML = `<div class="mistake-item">You got ${correct}/5 correct. Remember: professional judgment must be independent and based on merit.</div>`;
                    addXP(correct * 6, 'truefalse-attempt');
                }
            }
        }
        
        function resetTrueFalse() {
            trueFalseAnswers = {};
            const options = document.querySelectorAll('.page#page6 .quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = false;
            });
            document.getElementById('trueFalseFeedback').innerHTML = '';
        }
        
        // Page 7: Ranking
        let rankingSelection = null;
        let rankingPlacements = {};
        
        function selectForRanking(item, action) {
            if (rankingSelection) {
                rankingSelection.classList.remove('selected');
            }
            rankingSelection = { element: item, action: action };
            item.classList.add('selected');
        }
        
        function checkRanking() {
            const zones = document.querySelectorAll('#rankingItems .drop-zone');
            const expectedOrder = [
                'Lead by example',
                'Create clear ethical guidelines',
                'Ensure fair workload distribution',
                'Provide regular training',
                'Organize team social events'
            ];
            
            let correct = 0;
            zones.forEach((zone, index) => {
                const content = zone.querySelector('.rank-content').textContent;
                if (content === expectedOrder[index]) {
                    correct++;
                    zone.style.backgroundColor = '#d1fae5';
                } else {
                    zone.style.backgroundColor = '#fee2e2';
                }
            });
            
            const feedback = document.getElementById('rankingFeedback');
            if (correct === 5) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Perfect ranking! Leading by example is indeed the most important.</div>';
                addXP(40, 'ranking-perfect');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You ranked ${correct}/5 correctly. Consider which actions have the most direct impact on ethical culture.</div>`;
                addXP(correct * 7, 'ranking-attempt');
            }
        }
        
        function resetRanking() {
            rankingSelection = null;
            rankingPlacements = {};
            
            const items = document.querySelectorAll('.page#page7 .draggable-item');
            const zones = document.querySelectorAll('#rankingItems .drop-zone');
            
            items.forEach(item => {
                item.style.display = 'inline-block';
                item.classList.remove('selected');
            });
            
            zones.forEach(zone => {
                zone.querySelector('.rank-content').textContent = '';
                zone.style.backgroundColor = '';
            });
            
            document.getElementById('rankingFeedback').innerHTML = '';
            document.getElementById('rankingHint').style.display = 'none';
        }
        
        // Click handler for ranking zones
        document.addEventListener('click', function(e) {
            if (e.target.dataset && e.target.dataset.rank && rankingSelection) {
                const content = e.target.querySelector('.rank-content');
                if (content) {
                    content.textContent = rankingSelection.action;
                    rankingSelection.element.style.display = 'none';
                    rankingSelection = null;
                }
            }
        });
        
        // Page 8: Odd One Out
        let oddOneAnswers = {};
        
        function checkOddOne(button, group, isOdd) {
            const groupDiv = button.parentElement;
            const options = groupDiv.querySelectorAll('.quiz-option');
            
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = true;
            });
            
            button.classList.add('selected');
            
            if (isOdd) {
                button.classList.add('correct');
                oddOneAnswers[group] = true;
            } else {
                button.classList.add('incorrect');
                // Find and highlight the correct odd one
                options.forEach(opt => {
                    if (opt.onclick.toString().includes('true')) {
                        opt.classList.add('correct');
                    }
                });
                oddOneAnswers[group] = false;
            }
            
            if (Object.keys(oddOneAnswers).length === 2) {
                const correct = Object.values(oddOneAnswers).filter(v => v).length;
                const feedback = document.getElementById('oddOneFeedback');
                
                if (correct === 2) {
                    feedback.innerHTML = '<div class="success-message" style="display: block;">Excellent! You can identify actions that harm the profession.</div>';
                    addXP(30, 'oddone-perfect');
                } else {
                    feedback.innerHTML = `<div class="mistake-item">You got ${correct}/2 correct. Look for actions that damage trust or reputation.</div>`;
                    addXP(correct * 15, 'oddone-attempt');
                }
            }
        }
        
        function resetOddOne() {
            oddOneAnswers = {};
            const options = document.querySelectorAll('.page#page8 .quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = false;
            });
            document.getElementById('oddOneFeedback').innerHTML = '';
        }
        
        // Page 9: Colleague Case Study
        let colleagueAnswers = {};
        
        function checkColleagueAnswer(button, question, answer) {
            const options = button.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = true;
            });
            
            button.classList.add('selected');
            
            if (answer === 'C') {
                button.classList.add('correct');
                colleagueAnswers[question] = true;
                addXP(25, `colleague-q${question}-correct`);
            } else {
                button.classList.add('incorrect');
                options[2].classList.add('correct');
                colleagueAnswers[question] = false;
                addXP(10, `colleague-q${question}-attempt`);
            }
        }
        
        function checkColleagueResponse() {
            const response = document.getElementById('colleagueResponse').value.toLowerCase();
            const keywords = ['mentor', 'pair programming', 'constructive', 'positive', 'learning', 'growth', 'support', 'guidance', 'encourage', 'feedback'];
            
            let keywordCount = 0;
            keywords.forEach(keyword => {
                if (response.includes(keyword)) keywordCount++;
            });
            
            const feedback = document.getElementById('colleagueFeedback');
            
            if (response.length > 50 && keywordCount >= 3) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Excellent response! You understand the importance of supporting colleagues\' growth.</div>';
                addXP(40, 'colleague-response-good');
            } else if (response.length > 30 && keywordCount >= 2) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Good response! Consider mentioning pair programming or mentorship opportunities.</div>';
                addXP(25, 'colleague-response-ok');
            } else {
                feedback.innerHTML = '<div class="mistake-item">Please provide a more detailed response about supporting professional development.</div>';
                addXP(10, 'colleague-response-attempt');
            }
        }
        
        function resetColleague() {
            colleagueAnswers = {};
            const options = document.querySelectorAll('.page#page9 .quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = false;
            });
            document.getElementById('colleagueResponse').value = '';
            document.getElementById('colleagueFeedback').innerHTML = '';
        }
        
        // Page 10: Self Analysis
        function checkSelfAnalysis() {
            const analysis1 = document.getElementById('selfAnalysis1').value.toLowerCase();
            const analysis2 = document.getElementById('selfAnalysis2').value.toLowerCase();
            
            const keywords1 = ['static', 'dynamic', 'learning', 'growth', 'isolated', 'community', 'outdated', 'current'];
            const keywords2 = ['employability', 'satisfaction', 'contribution', 'obsolete', 'relevant', 'career', 'opportunities'];
            
            let score1 = 0;
            let score2 = 0;
            
            keywords1.forEach(keyword => {
                if (analysis1.includes(keyword)) score1++;
            });
            
            keywords2.forEach(keyword => {
                if (analysis2.includes(keyword)) score2++;
            });
            
            const feedback = document.getElementById('selfFeedback');
            const totalScore = score1 + score2;
            
            if (analysis1.length > 50 && analysis2.length > 50 && totalScore >= 4) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Excellent analysis! You clearly understand the importance of lifelong learning.</div>';
                addXP(45, 'self-analysis-excellent');
            } else if (analysis1.length > 30 && analysis2.length > 30 && totalScore >= 2) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Good analysis! Consider the long-term career implications more deeply.</div>';
                addXP(25, 'self-analysis-good');
            } else {
                feedback.innerHTML = '<div class="mistake-item">Please provide more detailed analysis of the differences and implications.</div>';
                addXP(10, 'self-analysis-attempt');
            }
        }
        
        function resetSelf() {
            document.getElementById('selfAnalysis1').value = '';
            document.getElementById('selfAnalysis2').value = '';
            document.getElementById('selfFeedback').innerHTML = '';
        }
        
        // Page 11: Benefits Matching
        let benefitsSelection = null;
        let benefitsMatches = {};
        
        function selectForBenefits(item, scenario) {
            if (benefitsSelection) {
                benefitsSelection.classList.remove('selected');
            }
            benefitsSelection = { element: item, scenario: scenario };
            item.classList.add('selected');
        }
        
        function matchBenefit(zone, benefit) {
            if (!benefitsSelection) return;
            
            const correctMatches = {
                'scenario1': 'support',
                'scenario2': 'recognition',
                'scenario3': 'learning',
                'scenario4': 'guidelines'
            };
            
            if (correctMatches[benefitsSelection.scenario] === benefit) {
                zone.classList.add('highlight');
                zone.innerHTML += '<br>' + benefitsSelection.element.textContent;
                benefitsMatches[benefitsSelection.scenario] = true;
                benefitsSelection.element.style.display = 'none';
                benefitsSelection = null;
                
                if (Object.keys(benefitsMatches).length === 4) {
                    document.getElementById('benefitsFeedback').innerHTML = '<div class="success-message" style="display: block;">Perfect matching! You understand the benefits of professional membership.</div>';
                    addXP(35, 'benefits-complete');
                }
            } else {
                zone.style.backgroundColor = '#fee2e2';
                setTimeout(() => {
                    zone.style.backgroundColor = '';
                }, 1000);
            }
        }
        
        function checkBenefitsMatching() {
            const correct = Object.keys(benefitsMatches).length;
            const feedback = document.getElementById('benefitsFeedback');
            
            if (correct === 4) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">All correct! Professional body membership offers comprehensive benefits.</div>';
                addXP(35, 'benefits-checked');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You matched ${correct}/4 correctly. Think about which benefit helps in each scenario.</div>`;
                addXP(correct * 8, 'benefits-partial');
            }
        }
        
        function resetBenefits() {
            benefitsSelection = null;
            benefitsMatches = {};
            
            const items = document.querySelectorAll('.page#page11 .draggable-item');
            const zones = document.querySelectorAll('.page#page11 .drop-zone');
            
            items.forEach(item => {
                item.style.display = 'inline-block';
                item.classList.remove('selected');
            });
            
            zones.forEach((zone, index) => {
                zone.classList.remove('highlight');
                const labels = ['Ethical Guidelines', 'Professional Recognition', 'Support Services', 'Continuous Learning'];
                zone.innerHTML = labels[index];
            });
            
            document.getElementById('benefitsFeedback').innerHTML = '';
        }
        
        // Page 12: Manager Actions
        function checkManagerActions() {
            const checkboxes = document.querySelectorAll('#managerActions input[type="checkbox"]');
            const selected = [];
            checkboxes.forEach(cb => {
                if (cb.checked) selected.push(cb.value);
            });
            
            const correct = ['meeting', 'client', 'redistribute', 'support'];
            const incorrect = ['overtime', 'ignore'];
            
            let score = 0;
            correct.forEach(action => {
                if (selected.includes(action)) score++;
            });
            incorrect.forEach(action => {
                if (!selected.includes(action)) score++;
            });
            
            const feedback = document.getElementById('managerFeedback');
            
            if (score === 6) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Perfect! You selected all the ethical management actions.</div>';
                addXP(40, 'manager-perfect');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You got ${score}/6 correct. Ethical managers prioritize team wellbeing and sustainable practices.</div>`;
                addXP(score * 6, 'manager-attempt');
            }
        }
        
        function resetManager() {
            const checkboxes = document.querySelectorAll('#managerActions input[type="checkbox"]');
            checkboxes.forEach(cb => {
                cb.checked = false;
            });
            document.getElementById('managerFeedback').innerHTML = '';
        }
        
        // Page 13: Employee Ranking
        let employeeSelection = null;
        
        function selectEmployeeAction(item, action) {
            if (employeeSelection) {
                employeeSelection.classList.remove('selected');
            }
            employeeSelection = { element: item, action: action };
            item.classList.add('selected');
        }
        
        function checkEmployeeRanking() {
            const zones = document.querySelectorAll('#employeeRanking .drop-zone');
            const expectedOrder = [
                'Document the issue and propose both solutions to the team',
                'Research best practices before making a recommendation',
                'Ask for mentor guidance on the best approach',
                'Implement the quick fix without telling anyone',
                'Ignore the flaw - it hasn\'t caused problems yet'
            ];
            
            let correct = 0;
            zones.forEach((zone, index) => {
                const content = zone.querySelector('.rank-content').textContent;
                if (content === expectedOrder[index]) {
                    correct++;
                    zone.style.backgroundColor = '#d1fae5';
                } else {
                    zone.style.backgroundColor = '#fee2e2';
                }
            });
            
            const feedback = document.getElementById('employeeFeedback');
            if (correct === 5) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Excellent ranking! Transparency and collaboration are key ethical behaviors.</div>';
                addXP(45, 'employee-ranking-perfect');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You ranked ${correct}/5 correctly. Open communication is the most ethical approach.</div>`;
                addXP(correct * 8, 'employee-ranking-attempt');
            }
        }
        
        function resetEmployee() {
            employeeSelection = null;
            
            const items = document.querySelectorAll('.page#page13 .draggable-item');
            const zones = document.querySelectorAll('#employeeRanking .drop-zone');
            
            items.forEach(item => {
                item.style.display = 'inline-block';
                item.classList.remove('selected');
            });
            
            zones.forEach(zone => {
                zone.querySelector('.rank-content').textContent = '';
                zone.style.backgroundColor = '';
            });
            
            document.getElementById('employeeFeedback').innerHTML = '';
        }
        
        // Handler for employee ranking zones
        document.addEventListener('click', function(e) {
            if (e.target.parentElement && e.target.parentElement.id === 'employeeRanking' && employeeSelection) {
                const zone = e.target.classList.contains('drop-zone') ? e.target : e.target.parentElement;
                if (zone && zone.classList.contains('drop-zone')) {
                    const content = zone.querySelector('.rank-content');
                    if (content) {
                        content.textContent = employeeSelection.action;
                        employeeSelection.element.style.display = 'none';
                        employeeSelection = null;
                    }
                }
            }
        });
        
        // Page 14: Ethical Framework
        function checkEthicalFramework() {
            const values = document.getElementById('coreValues').value;
            const redLines = document.getElementById('redLines').value;
            const growth = document.getElementById('growthCommitment').value;
            
            let score = 0;
            if (values.length > 50) score += 1;
            if (redLines.length > 50) score += 1;
            if (growth.length > 50) score += 1;
            
            // Check for key concepts
            const valueKeywords = ['integrity', 'honesty', 'transparency', 'safety', 'privacy', 'quality', 'respect'];
            const redLineKeywords = ['harm', 'safety', 'security', 'privacy', 'illegal', 'discriminate'];
            const growthKeywords = ['learning', 'training', 'feedback', 'improvement', 'development', 'courses'];
            
            valueKeywords.forEach(keyword => {
                if (values.toLowerCase().includes(keyword)) score += 0.5;
            });
            redLineKeywords.forEach(keyword => {
                if (redLines.toLowerCase().includes(keyword)) score += 0.5;
            });
            growthKeywords.forEach(keyword => {
                if (growth.toLowerCase().includes(keyword)) score += 0.5;
            });
            
            const feedback = document.getElementById('frameworkFeedback');
            
            if (score >= 6) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Outstanding ethical framework! You\'ve demonstrated deep understanding of professional ethics.</div>';
                addXP(60, 'framework-excellent');
                
                if (!achievements.ethicalFramework) {
                    achievements.ethicalFramework = true;
                    showAchievement('Ethical Leader', 'Created a comprehensive personal ethical framework!');
                }
            } else if (score >= 4) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Good framework! Consider adding more specific examples or commitments.</div>';
                addXP(35, 'framework-good');
            } else {
                feedback.innerHTML = '<div class="mistake-item">Please provide more detailed responses for each section of your ethical framework.</div>';
                addXP(15, 'framework-attempt');
            }
        }
        
        function resetFramework() {
            document.getElementById('coreValues').value = '';
            document.getElementById('redLines').value = '';
            document.getElementById('growthCommitment').value = '';
            document.getElementById('frameworkFeedback').innerHTML = '';
        }
        
        // Page 15: Practice Exam Questions
        function revealMarkScheme(questionNum) {
            const answer = document.getElementById(`exam${questionNum}`).value;
            const marks = document.getElementById(`marks${questionNum}`).value;
            
            // Check if answer is sufficient length
            if (answer.length < 100) {
                alert('Please write a more detailed answer before viewing the mark scheme.');
                return;
            }
            
            if (!marks) {
                alert('Please enter your predicted marks first.');
                return;
            }
            
            const markScheme = document.getElementById(`markScheme${questionNum}`);
            markScheme.classList.add('revealed');
            
            addXP(20, `exam-q${questionNum}-attempted`);
        }
        
        function resetExam() {
            for (let i = 1; i <= 3; i++) {
                document.getElementById(`exam${i}`).value = '';
                document.getElementById(`marks${i}`).value = '';
                document.getElementById(`markScheme${i}`).classList.remove('revealed');
            }
        }
        
        // Page 16: Final Quiz
        let finalAnswers = {};
        let finalSequenceItems = [];
        
        function checkFinalAnswer(button, question, answer) {
            const options = button.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = true;
            });
            
            button.classList.add('selected');
            
            const correctAnswers = {
                1: 'B',
                2: true,
                5: 'C',
                7: 'C'
            };
            
            if (answer === correctAnswers[question]) {
                button.classList.add('correct');
                finalAnswers[question] = true;
            } else {
                button.classList.add('incorrect');
                finalAnswers[question] = false;
                
                // Highlight correct answer
                if (question === 1) {
                    options[1].classList.add('correct');
                } else if (question === 2) {
                    options[1].classList.add('correct');
                } else if (question === 5) {
                    options[2].classList.add('correct');
                } else if (question === 7) {
                    options[2].classList.add('correct');
                }
            }
        }
        
        function selectFinalSequence(item, priority) {
            if (finalSequenceItems.length >= 4) return;
            
            item.style.display = 'none';
            finalSequenceItems.push(priority);
            
            const zones = document.querySelectorAll('#finalSequenceAnswer .drop-zone');
            zones[finalSequenceItems.length - 1].querySelector('span').textContent = priority;
        }
        
        function checkFinalQuiz() {
            let totalScore = 0;
            
            // Check multiple choice and true/false (already scored)
            totalScore += Object.values(finalAnswers).filter(v => v).length;
            
            // Check sequence
            const expectedSequence = ['Public safety', 'User privacy', 'Company profits', 'Meeting deadlines'];
            let sequenceCorrect = 0;
            for (let i = 0; i < finalSequenceItems.length; i++) {
                if (finalSequenceItems[i] === expectedSequence[i]) sequenceCorrect++;
            }
            if (sequenceCorrect === 4) totalScore += 1;
            
            // Check short answer
            const shortAnswer = document.getElementById('finalShortAnswer').value.toLowerCase();
            const supportKeywords = ['code review', 'mentor', 'pair programming', 'knowledge sharing', 'feedback', 'training', 'documentation'];
            let keywordCount = 0;
            supportKeywords.forEach(keyword => {
                if (shortAnswer.includes(keyword)) keywordCount++;
            });
            if (keywordCount >= 3 && shortAnswer.length > 40) totalScore += 1;
            
            // Check fill in blanks
            const blank1 = document.getElementById('blank1').value.toLowerCase();
            const blank2 = document.getElementById('blank2').value.toLowerCase();
            const blank3 = document.getElementById('blank3').value.toLowerCase();
            
            if (blank1.includes('judgement') || blank1.includes('judgment')) totalScore += 1;
            if (blank2.includes('integrity')) totalScore += 1;
            if (blank3.includes('judgment') || blank3.includes('judgement')) totalScore += 1;
            
            // Check analysis
            const analysis = document.getElementById('finalAnalysis').value;
            if (analysis.length > 50) totalScore += 1;
            
            const feedback = document.getElementById('finalQuizFeedback');
            const percentage = (totalScore / 8) * 100;
            
            if (percentage >= 80) {
                feedback.innerHTML = `<div class="success-message" style="display: block;">Excellent! You scored ${totalScore}/8 (${percentage}%). You have mastered the ACM/IEEE Code of Ethics!</div>`;
                addXP(100, 'final-quiz-excellent');
                
                if (!achievements.perfectQuiz && percentage === 100) {
                    achievements.perfectQuiz = true;
                    showAchievement('Ethics Master', 'Achieved a perfect score on the final quiz!');
                }
            } else if (percentage >= 60) {
                feedback.innerHTML = `<div class="success-message" style="display: block;">Good work! You scored ${totalScore}/8 (${percentage}%). Review the principles you found challenging.</div>`;
                addXP(60, 'final-quiz-good');
            } else {
                feedback.innerHTML = `<div class="mistake-item">You scored ${totalScore}/8 (${percentage}%). Please review the lesson content and try again.</div>`;
                addXP(30, 'final-quiz-attempt');
            }
        }
        
        function resetFinalQuiz() {
            finalAnswers = {};
            finalSequenceItems = [];
            
            // Reset all quiz elements
            const options = document.querySelectorAll('.page#page16 .quiz-option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.disabled = false;
            });
            
            // Reset sequence
            const sequenceItems = document.querySelectorAll('#finalSequence .draggable-item');
            sequenceItems.forEach(item => {
                item.style.display = 'inline-block';
            });
            
            const sequenceZones = document.querySelectorAll('#finalSequenceAnswer .drop-zone span');
            sequenceZones.forEach(span => {
                span.textContent = '';
            });
            
            // Reset text inputs
            document.getElementById('finalShortAnswer').value = '';
            document.getElementById('blank1').value = '';
            document.getElementById('blank2').value = '';
            document.getElementById('blank3').value = '';
            document.getElementById('finalAnalysis').value = '';
            
            document.getElementById('finalQuizFeedback').innerHTML = '';
        }
        
        // Page 17: Extension Activities
        function submitExtension() {
            const textareas = document.querySelectorAll('.page#page17 textarea');
            let filledCount = 0;
            let totalLength = 0;
            
            textareas.forEach(textarea => {
                if (textarea.value.length > 50) {
                    filledCount++;
                    totalLength += textarea.value.length;
                }
            });
            
            const feedback = document.getElementById('extensionFeedback');
            
            if (filledCount >= 2 && totalLength > 400) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Excellent extension work! You\'ve gone above and beyond the specification.</div>';
                addXP(80, 'extension-excellent');
                
                if (!achievements.extensionComplete) {
                    achievements.extensionComplete = true;
                    showAchievement('Going Beyond', 'Completed challenging extension activities!');
                }
            } else if (filledCount >= 1 && totalLength > 200) {
                feedback.innerHTML = '<div class="success-message" style="display: block;">Good effort on the extension activities! Try completing more challenges.</div>';
                addXP(40, 'extension-good');
            } else {
                feedback.innerHTML = '<div class="mistake-item">Please provide more detailed responses to the extension challenges.</div>';
                addXP(10, 'extension-attempt');
            }
        }
        
        function resetExtension() {
            const textareas = document.querySelectorAll('.page#page17 textarea');
            textareas.forEach(textarea => {
                textarea.value = '';
            });
            document.getElementById('extensionFeedback').innerHTML = '';
        }
        
        // Page 18: Certificate Generation
        function generateCertificate() {
            const certificateArea = document.getElementById('certificateArea');
            const date = new Date().toLocaleDateString();
            
            certificateArea.innerHTML = `
                <div class="card" style="background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white; text-align: center; padding: 40px;">
                    <h2 style="font-size: 2rem; margin-bottom: 20px;">Certificate of Completion</h2>
                    <p style="font-size: 1.2rem;">This certifies that</p>
                    <h3 style="font-size: 1.8rem; margin: 20px 0;">A Level Computer Science Student</h3>
                    <p style="font-size: 1.1rem;">has successfully completed the</p>
                    <h3 style="font-size: 1.5rem; margin: 20px 0;">ACM/IEEE Software Engineering Code of Ethics</h3>
                    <p style="font-size: 1.1rem;">Interactive Lesson</p>
                    <p style="margin-top: 30px;">Level Achieved: ${userLevel} | Total XP: ${userXP}</p>
                    <p style="margin-top: 20px;">Date: ${date}</p>
                </div>
            `;
            
            addXP(50, 'certificate-generated');
        }
        
        // Touch event handlers for mobile
        if ('ontouchstart' in window) {
            document.addEventListener('touchstart', function(e) {
                if (e.target.classList.contains('draggable-item') || 
                    e.target.classList.contains('word-option')) {
                    e.preventDefault();
                    e.target.click();
                }
            });
        }
        
        // Prevent context menu on long press (mobile)
        document.addEventListener('contextmenu', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });
        
        // Auto-save progress (in a real implementation, this would use server storage)
        setInterval(function() {
            const progress = {
                currentPage: currentPage,
                userXP: userXP,
                userLevel: userLevel,
                completedActions: Array.from(completedActions),
                achievements: achievements
            };
            // In production, send to server
            console.log('Progress saved:', progress);
        }, 30000); // Save every 30 seconds
    </script>
</body>
</html>