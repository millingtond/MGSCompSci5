<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 9: Containment (Aggregation) - Objects Within Objects | 9618 OOP</title>
    <style>
        :root {
            --primary: #059669;
            --primary-dark: #047857;
            --primary-light: #10b981;
            --secondary: #0891b2;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --white: #ffffff;
            --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: var(--light);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 2rem 0;
            box-shadow: var(--shadow);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.25rem;
            opacity: 0.9;
        }

        /* Navigation Tabs */
        .tabs {
            background: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .tab-list {
            display: flex;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .tab {
            padding: 1rem 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: var(--gray);
            white-space: nowrap;
            position: relative;
            transition: all 0.3s ease;
        }

        .tab:hover {
            color: var(--primary);
        }

        .tab.active {
            color: var(--primary);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
        }

        .tab.completed {
            color: var(--success);
        }

        .tab.completed::before {
            content: '✓ ';
            color: var(--success);
        }

        /* Content */
        .content {
            padding: 2rem 0;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .card h2 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card h3 {
            color: var(--primary);
            margin: 1.5rem 0 1rem;
        }

        /* Interactive Elements */
        .interactive-box {
            background: var(--light);
            border: 2px solid var(--primary-light);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .code-block {
            background: var(--dark);
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
            margin: 1rem 0;
            white-space: pre;
            line-height: 1.5;
        }

        .code-block .keyword {
            color: #c084fc;
        }

        .code-block .string {
            color: #86efac;
        }

        .code-block .number {
            color: #fbbf24;
        }

        .code-block .comment {
            color: #64748b;
            font-style: italic;
        }

        .code-block .function {
            color: #60a5fa;
        }

        .code-block .class-name {
            color: #fbbf24;
        }

        .code-block .output {
            color: #94a3b8;
            font-style: italic;
        }

        /* Visual Diagrams */
        .diagram-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .object-box {
            background: white;
            border: 3px solid var(--primary);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            min-width: 200px;
            position: relative;
            box-shadow: var(--shadow);
        }

        .object-box.main {
            background: var(--primary-light);
            color: white;
        }

        .object-box h4 {
            margin-bottom: 0.5rem;
            font-size: 1.25rem;
        }

        .contains-arrow {
            position: absolute;
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 2px;
            background: var(--primary);
        }

        .contains-arrow::after {
            content: '►';
            position: absolute;
            right: -10px;
            top: -12px;
            color: var(--primary);
            font-size: 1.5rem;
        }

        /* Inventory Visual */
        .inventory-visual {
            background: #f3f4f6;
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .inventory-slot {
            background: white;
            border: 2px dashed var(--gray);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .inventory-slot.filled {
            border-style: solid;
            border-color: var(--primary);
            background: var(--primary-light);
            color: white;
        }

        .inventory-slot .item-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 1rem;
            text-align: left;
            border: 1px solid var(--gray);
        }

        .comparison-table th {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }

        .comparison-table tr:nth-child(even) {
            background: var(--light);
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--gray);
            color: white;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        /* Input fields */
        input[type="text"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Alert boxes */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: flex;
            align-items: start;
            gap: 0.75rem;
        }

        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #60a5fa;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #34d399;
        }

        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fbbf24;
        }

        .alert-danger {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #f87171;
        }

        /* Quiz styles */
        .quiz-option {
            display: block;
            width: 100%;
            padding: 1rem;
            margin: 0.5rem 0;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .quiz-option:hover {
            border-color: var(--primary-light);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        .quiz-option.incorrect {
            background: var(--danger);
            color: white;
            border-color: var(--danger);
        }

        /* Interactive Demo */
        .demo-container {
            background: var(--light);
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .demo-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .demo-output {
            background: var(--dark);
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 8px;
            font-family: monospace;
            min-height: 200px;
            white-space: pre-wrap;
        }

        /* Utility classes */
        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }

        .text-center { text-align: center; }
        .text-small { font-size: 0.875rem; }
        .text-muted { color: var(--gray); }

        .flex { display: flex; }
        .flex-center { display: flex; align-items: center; justify-content: center; }
        .gap-1 { gap: 0.5rem; }
        .gap-2 { gap: 1rem; }

        /* Animations */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .float {
            animation: float 3s ease-in-out infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .tab { padding: 0.75rem 1rem; font-size: 0.875rem; }
            .card { padding: 1.5rem; }
            .diagram-container { flex-direction: column; }
            .contains-arrow { display: none; }
            .comparison-table { font-size: 0.875rem; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1>Lesson 9: Objects Within Objects - Containment</h1>
            <p>Master the "has-a" relationship and build complex object structures</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="tabs">
        <div class="container">
            <div class="tab-list">
                <button class="tab active" data-section="intro">Introduction</button>
                <button class="tab" data-section="concept">Has-A vs Is-A</button>
                <button class="tab" data-section="containment">What is Containment?</button>
                <button class="tab" data-section="implementation">Implementation</button>
                <button class="tab" data-section="weapons">Weapons & Items</button>
                <button class="tab" data-section="inventory">Inventory System</button>
                <button class="tab" data-section="composition">Composition Patterns</button>
                <button class="tab" data-section="practice">Practice Exercises</button>
                <button class="tab" data-section="rpg-complete">Complete RPG</button>
                <button class="tab" data-section="summary">Summary & Quiz</button>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <main class="content">
        <div class="container">
            <!-- Introduction -->
            <section id="intro" class="section active">
                <div class="card">
                    <h2>🎯 Learning Objectives</h2>
                    <p>By the end of this lesson, you will be able to:</p>
                    <ul style="margin-left: 2rem; line-height: 2;">
                        <li>Distinguish between "has-a" and "is-a" relationships</li>
                        <li>Implement containment (aggregation) in your classes</li>
                        <li>Create objects that contain other objects</li>
                        <li>Build a weapon and inventory system for the RPG</li>
                        <li>Understand when to use containment vs inheritance</li>
                        <li>Apply composition patterns effectively</li>
                    </ul>
                </div>

                <div class="card">
                    <h2>🚀 Starter Activity: The Backpack Problem</h2>
                    <div class="interactive-box">
                        <h3>Think About This</h3>
                        <p>A player in our RPG needs to carry various items:</p>
                        
                        <div class="inventory-visual">
                            <h4>Player's Backpack</h4>
                            <div class="inventory-grid">
                                <div class="inventory-slot filled">
                                    <div class="item-icon">⚔️</div>
                                    <div>Sword</div>
                                </div>
                                <div class="inventory-slot filled">
                                    <div class="item-icon">🛡️</div>
                                    <div>Shield</div>
                                </div>
                                <div class="inventory-slot filled">
                                    <div class="item-icon">🧪</div>
                                    <div>Health Potion</div>
                                </div>
                                <div class="inventory-slot">
                                    <div class="text-muted">Empty</div>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-warning mt-2">
                            <span>🤔</span>
                            <div>
                                <strong>Question:</strong> Should we use inheritance here? Is a Player a type of Sword? Is a Sword a type of Player?
                                <p class="mt-2">Of course not! A Player <strong>HAS</strong> a Sword - this is containment!</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-3">
                    <button class="btn btn-primary" onclick="nextSection()">
                        Explore Containment →
                    </button>
                </div>
            </section>

            <!-- Has-A vs Is-A -->
            <section id="concept" class="section">
                <div class="card">
                    <h2>🔍 Has-A vs Is-A Relationships</h2>
                    
                    <div class="alert alert-info">
                        <span>💡</span>
                        <div>
                            <strong>Key Distinction:</strong>
                            <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                                <li><strong>Is-A (Inheritance):</strong> One thing is a type/kind of another</li>
                                <li><strong>Has-A (Containment):</strong> One thing contains/owns another</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Comparison Table</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Is-A (Inheritance)</th>
                                <th>Has-A (Containment)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Relationship</strong></td>
                                <td>Dog is-a Animal</td>
                                <td>Car has-a Engine</td>
                            </tr>
                            <tr>
                                <td><strong>Implementation</strong></td>
                                <td>class Dog(Animal):</td>
                                <td>self.engine = Engine()</td>
                            </tr>
                            <tr>
                                <td><strong>When to Use</strong></td>
                                <td>Shared behavior/properties</td>
                                <td>Component/part relationship</td>
                            </tr>
                            <tr>
                                <td><strong>Example</strong></td>
                                <td>Warrior is-a Character</td>
                                <td>Player has-a Weapon</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h2>🎮 RPG Examples</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="interactive-box">
                            <h4>✅ Good Is-A Relationships</h4>
                            <ul style="margin-left: 1rem;">
                                <li>Warrior is-a Character</li>
                                <li>Dragon is-a Enemy</li>
                                <li>HealthPotion is-a Item</li>
                                <li>Fireball is-a Spell</li>
                            </ul>
                        </div>
                        <div class="interactive-box">
                            <h4>✅ Good Has-A Relationships</h4>
                            <ul style="margin-left: 1rem;">
                                <li>Player has-a Inventory</li>
                                <li>Character has-a Weapon</li>
                                <li>Room has-a TreasureChest</li>
                                <li>Guild has-a Members</li>
                            </ul>
                        </div>
                    </div>

                    <div class="alert alert-danger mt-2">
                        <span>❌</span>
                        <div>
                            <strong>Common Mistake:</strong> Using inheritance when you should use containment
                            <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                                <li>❌ class Player(Weapon): # A player is not a weapon!</li>
                                <li>❌ class Car(Wheel): # A car is not a wheel!</li>
                                <li>✅ Use containment instead: player.weapon = Weapon()</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- What is Containment -->
            <section id="containment" class="section">
                <div class="card">
                    <h2>📦 What is Containment (Aggregation)?</h2>
                    
                    <div class="alert alert-info">
                        <span>💡</span>
                        <div>
                            <strong>Definition:</strong> Containment (also called aggregation or composition) is when one object contains references to other objects as instance variables.
                        </div>
                    </div>

                    <h3>Visual Representation</h3>
                    <div class="diagram-container">
                        <div class="object-box main">
                            <h4>Player</h4>
                            <p>name: "Hero"</p>
                            <p>health: 100</p>
                            <p>weapon: →</p>
                            <p>armor: →</p>
                            <div class="contains-arrow"></div>
                        </div>
                        <div>
                            <div class="object-box mb-2">
                                <h4>Weapon</h4>
                                <p>name: "Excalibur"</p>
                                <p>damage: 25</p>
                            </div>
                            <div class="object-box">
                                <h4>Armor</h4>
                                <p>name: "Steel Plate"</p>
                                <p>defense: 15</p>
                            </div>
                        </div>
                    </div>

                    <h3>Real-World Analogies</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div class="interactive-box text-center">
                            <div style="font-size: 3rem;">🚗</div>
                            <h4>Car</h4>
                            <p>Has engine, wheels, seats</p>
                        </div>
                        <div class="interactive-box text-center">
                            <div style="font-size: 3rem;">🏠</div>
                            <h4>House</h4>
                            <p>Has rooms, doors, windows</p>
                        </div>
                        <div class="interactive-box text-center">
                            <div style="font-size: 3rem;">💻</div>
                            <h4>Computer</h4>
                            <p>Has CPU, RAM, storage</p>
                        </div>
                        <div class="interactive-box text-center">
                            <div style="font-size: 3rem;">🎒</div>
                            <h4>Backpack</h4>
                            <p>Has books, pens, items</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>🔧 Types of Containment</h2>
                    <div class="interactive-box">
                        <h4>1. Aggregation (Shared Ownership)</h4>
                        <p>The contained object can exist independently</p>
                        <div class="code-block"><span class="comment"># A player can drop/pick up weapons</span>
<span class="comment"># The weapon exists even without the player</span>
sword = Weapon(<span class="string">"Iron Sword"</span>, <span class="number">10</span>)
player.weapon = sword  <span class="comment"># Player now has the sword</span>
player.weapon = <span class="keyword">None</span>  <span class="comment"># Player drops it, sword still exists</span></div>
                    </div>
                    
                    <div class="interactive-box">
                        <h4>2. Composition (Exclusive Ownership)</h4>
                        <p>The contained object cannot exist without the container</p>
                        <div class="code-block"><span class="comment"># A character's stats are part of the character</span>
<span class="comment"># They don't exist separately</span>
<span class="keyword">class</span> <span class="class-name">Character</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name):
        self.stats = Stats()  <span class="comment"># Created with the character</span>
        <span class="comment"># When character is deleted, stats are too</span></div>
                    </div>
                </div>
            </section>

            <!-- Implementation -->
            <section id="implementation" class="section">
                <div class="card">
                    <h2>🛠️ Implementing Containment</h2>
                    
                    <h3>Basic Implementation Pattern</h3>
                    <div class="code-block"><span class="comment"># Step 1: Create the contained class</span>
<span class="keyword">class</span> <span class="class-name">Engine</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, horsepower):
        self.__horsepower = horsepower
        self.__is_running = <span class="keyword">False</span>
    
    <span class="keyword">def</span> <span class="function">start</span>(self):
        self.__is_running = <span class="keyword">True</span>
        <span class="keyword">return</span> <span class="string">"Engine started!"</span>
    
    <span class="keyword">def</span> <span class="function">stop</span>(self):
        self.__is_running = <span class="keyword">False</span>
        <span class="keyword">return</span> <span class="string">"Engine stopped!"</span>

<span class="comment"># Step 2: Create the container class</span>
<span class="keyword">class</span> <span class="class-name">Car</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, make, model):
        self.__make = make
        self.__model = model
        self.__engine = Engine(<span class="number">200</span>)  <span class="comment"># Car HAS an engine</span>
    
    <span class="keyword">def</span> <span class="function">start_car</span>(self):
        <span class="comment"># Delegate to the contained object</span>
        <span class="keyword">return</span> self.__engine.start()
    
    <span class="keyword">def</span> <span class="function">stop_car</span>(self):
        <span class="keyword">return</span> self.__engine.stop()

<span class="comment"># Usage</span>
my_car = Car(<span class="string">"Toyota"</span>, <span class="string">"Camry"</span>)
print(my_car.start_car())  <span class="output"># Engine started!</span></div>

                    <h3>RPG Example: Player with Equipment</h3>
                    <div class="code-block"><span class="keyword">class</span> <span class="class-name">Weapon</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, damage, weapon_type):
        self.__name = name
        self.__damage = damage
        self.__type = weapon_type
        self.__durability = <span class="number">100</span>
    
    <span class="keyword">def</span> <span class="function">get_damage</span>(self):
        <span class="keyword">return</span> self.__damage <span class="keyword">if</span> self.__durability > <span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span>
    
    <span class="keyword">def</span> <span class="function">use</span>(self):
        self.__durability = max(<span class="number">0</span>, self.__durability - <span class="number">5</span>)
        <span class="keyword">if</span> self.__durability == <span class="number">0</span>:
            print(<span class="string">f"{self.__name} is broken!"</span>)
    
    <span class="keyword">def</span> <span class="function">get_info</span>(self):
        <span class="keyword">return</span> <span class="string">f"{self.__name} ({self.__type}): {self.__damage} damage"</span>

<span class="keyword">class</span> <span class="class-name">Armor</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, defense, armor_type):
        self.__name = name
        self.__defense = defense
        self.__type = armor_type
    
    <span class="keyword">def</span> <span class="function">get_defense</span>(self):
        <span class="keyword">return</span> self.__defense
    
    <span class="keyword">def</span> <span class="function">get_info</span>(self):
        <span class="keyword">return</span> <span class="string">f"{self.__name} ({self.__type}): {self.__defense} defense"</span>

<span class="keyword">class</span> <span class="class-name">Player</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name):
        self.__name = name
        self.__health = <span class="number">100</span>
        self.__weapon = <span class="keyword">None</span>  <span class="comment"># No weapon initially</span>
        self.__armor = <span class="keyword">None</span>   <span class="comment"># No armor initially</span>
    
    <span class="keyword">def</span> <span class="function">equip_weapon</span>(self, weapon):
        old_weapon = self.__weapon
        self.__weapon = weapon
        print(<span class="string">f"{self.__name} equipped {weapon.get_info()}"</span>)
        <span class="keyword">return</span> old_weapon  <span class="comment"># Return old weapon (if any)</span>
    
    <span class="keyword">def</span> <span class="function">equip_armor</span>(self, armor):
        self.__armor = armor
        print(<span class="string">f"{self.__name} equipped {armor.get_info()}"</span>)
    
    <span class="keyword">def</span> <span class="function">attack</span>(self, target):
        <span class="keyword">if</span> self.__weapon:
            damage = self.__weapon.get_damage()
            self.__weapon.use()  <span class="comment"># Weapon loses durability</span>
            print(<span class="string">f"{self.__name} attacks with {damage} damage!"</span>)
            target.take_damage(damage)
        <span class="keyword">else</span>:
            print(<span class="string">f"{self.__name} attacks with fists for 1 damage!"</span>)
            target.take_damage(<span class="number">1</span>)
    
    <span class="keyword">def</span> <span class="function">take_damage</span>(self, amount):
        <span class="keyword">if</span> self.__armor:
            reduced_damage = max(<span class="number">1</span>, amount - self.__armor.get_defense())
            print(<span class="string">f"Armor absorbed {amount - reduced_damage} damage!"</span>)
            amount = reduced_damage
        self.__health = max(<span class="number">0</span>, self.__health - amount)</div>
                </div>

                <div class="card">
                    <h2>🎯 Key Implementation Points</h2>
                    <div class="interactive-box">
                        <ol style="margin-left: 1.5rem; line-height: 2;">
                            <li><strong>Initialize to None:</strong> Start with no contained object</li>
                            <li><strong>Setter Methods:</strong> Provide methods to set/change contained objects</li>
                            <li><strong>Null Checks:</strong> Always check if object exists before using</li>
                            <li><strong>Delegation:</strong> Container delegates work to contained objects</li>
                            <li><strong>Encapsulation:</strong> Keep contained objects private</li>
                        </ol>
                    </div>
                </div>
            </section>

            <!-- Weapons & Items -->
            <section id="weapons" class="section">
                <div class="card">
                    <h2>⚔️ Creating a Weapon System</h2>
                    
                    <h3>Weapon Hierarchy</h3>
                    <div class="code-block"><span class="comment"># Base weapon class</span>
<span class="keyword">class</span> <span class="class-name">Weapon</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, damage, weapon_type, rarity=<span class="string">"common"</span>):
        self._name = name
        self._base_damage = damage
        self._type = weapon_type
        self._rarity = rarity
        self._level = <span class="number">1</span>
        self._enchantments = []
    
    <span class="keyword">def</span> <span class="function">get_damage</span>(self):
        <span class="comment"># Base damage + level bonus + enchantments</span>
        bonus = (self._level - <span class="number">1</span>) * <span class="number">2</span>
        enchant_bonus = sum(e.get_bonus() <span class="keyword">for</span> e <span class="keyword">in</span> self._enchantments)
        <span class="keyword">return</span> self._base_damage + bonus + enchant_bonus
    
    <span class="keyword">def</span> <span class="function">add_enchantment</span>(self, enchantment):
        self._enchantments.append(enchantment)
        print(<span class="string">f"{self._name} enchanted with {enchantment.get_name()}!"</span>)
    
    <span class="keyword">def</span> <span class="function">upgrade</span>(self):
        self._level += <span class="number">1</span>
        print(<span class="string">f"{self._name} upgraded to level {self._level}!"</span>)

<span class="comment"># Specific weapon types</span>
<span class="keyword">class</span> <span class="class-name">Sword</span>(Weapon):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, damage, rarity=<span class="string">"common"</span>):
        super().__init__(name, damage, <span class="string">"sword"</span>, rarity)
        self._combo_counter = <span class="number">0</span>
    
    <span class="keyword">def</span> <span class="function">get_damage</span>(self):
        <span class="comment"># Swords get combo bonus</span>
        base = super().get_damage()
        combo_bonus = min(self._combo_counter * <span class="number">2</span>, <span class="number">10</span>)
        <span class="keyword">return</span> base + combo_bonus
    
    <span class="keyword">def</span> <span class="function">attack</span>(self):
        self._combo_counter += <span class="number">1</span>
        <span class="keyword">return</span> <span class="string">f"Slash! Combo x{self._combo_counter}"</span>

<span class="keyword">class</span> <span class="class-name">Bow</span>(Weapon):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, damage, rarity=<span class="string">"common"</span>):
        super().__init__(name, damage, <span class="string">"bow"</span>, rarity)
        self._arrows = <span class="number">50</span>
    
    <span class="keyword">def</span> <span class="function">get_damage</span>(self):
        <span class="keyword">if</span> self._arrows > <span class="number">0</span>:
            <span class="keyword">return</span> super().get_damage()
        <span class="keyword">return</span> <span class="number">1</span>  <span class="comment"># No arrows = minimal damage</span>
    
    <span class="keyword">def</span> <span class="function">attack</span>(self):
        <span class="keyword">if</span> self._arrows > <span class="number">0</span>:
            self._arrows -= <span class="number">1</span>
            <span class="keyword">return</span> <span class="string">f"Arrow shot! {self._arrows} arrows left"</span>
        <span class="keyword">return</span> <span class="string">"Out of arrows!"</span>

<span class="keyword">class</span> <span class="class-name">Staff</span>(Weapon):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, damage, element, rarity=<span class="string">"common"</span>):
        super().__init__(name, damage, <span class="string">"staff"</span>, rarity)
        self._element = element  <span class="comment"># fire, ice, lightning</span>
        self._mana_cost = <span class="number">10</span>
    
    <span class="keyword">def</span> <span class="function">get_damage</span>(self, target_weakness=<span class="keyword">None</span>):
        base = super().get_damage()
        <span class="comment"># Double damage if target is weak to element</span>
        <span class="keyword">if</span> target_weakness == self._element:
            <span class="keyword">return</span> base * <span class="number">2</span>
        <span class="keyword">return</span> base</div>

                    <h3>Enchantment System</h3>
                    <div class="code-block"><span class="keyword">class</span> <span class="class-name">Enchantment</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, bonus_type, bonus_value):
        self._name = name
        self._bonus_type = bonus_type  <span class="comment"># damage, crit, lifesteal</span>
        self._bonus_value = bonus_value
    
    <span class="keyword">def</span> <span class="function">get_name</span>(self):
        <span class="keyword">return</span> self._name
    
    <span class="keyword">def</span> <span class="function">get_bonus</span>(self):
        <span class="keyword">if</span> self._bonus_type == <span class="string">"damage"</span>:
            <span class="keyword">return</span> self._bonus_value
        <span class="keyword">return</span> <span class="number">0</span>

<span class="comment"># Example usage</span>
excalibur = Sword(<span class="string">"Excalibur"</span>, <span class="number">30</span>, <span class="string">"legendary"</span>)
fire_enchant = Enchantment(<span class="string">"Flame"</span>, <span class="string">"damage"</span>, <span class="number">10</span>)
excalibur.add_enchantment(fire_enchant)
excalibur.upgrade()  <span class="comment"># Level 2</span>

print(<span class="string">f"Damage: {excalibur.get_damage()}"</span>)  <span class="output"># Base 30 + level 2 + enchant 10 = 42</span></div>
                </div>

                <div class="card">
                    <h2>🧪 Item System</h2>
                    <div class="demo-container">
                        <h3>Interactive Item Creator</h3>
                        <div class="demo-controls">
                            <select id="item-type">
                                <option value="potion">Health Potion</option>
                                <option value="mana">Mana Potion</option>
                                <option value="boost">Strength Boost</option>
                            </select>
                            <input type="text" id="item-name" placeholder="Item name" style="width: 200px;">
                            <button class="btn btn-primary" onclick="createItem()">Create Item</button>
                            <button class="btn btn-secondary" onclick="clearItems()">Clear</button>
                        </div>
                        
                        <div class="demo-output" id="item-demo-output">
<span class="comment"># Created items will appear here...</span></div>
                    </div>
                </div>
            </section>

            <!-- Inventory System -->
            <section id="inventory" class="section">
                <div class="card">
                    <h2>🎒 Building an Inventory System</h2>
                    
                    <h3>Complete Inventory Implementation</h3>
                    <div class="code-block"><span class="keyword">class</span> <span class="class-name">Inventory</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, capacity=<span class="number">20</span>):
        self.__items = []
        self.__capacity = capacity
        self.__gold = <span class="number">0</span>
    
    <span class="keyword">def</span> <span class="function">add_item</span>(self, item):
        <span class="keyword">if</span> len(self.__items) < self.__capacity:
            self.__items.append(item)
            print(<span class="string">f"Added {item.get_name()} to inventory"</span>)
            <span class="keyword">return True</span>
        <span class="keyword">else</span>:
            print(<span class="string">"Inventory full!"</span>)
            <span class="keyword">return False</span>
    
    <span class="keyword">def</span> <span class="function">remove_item</span>(self, item):
        <span class="keyword">if</span> item <span class="keyword">in</span> self.__items:
            self.__items.remove(item)
            <span class="keyword">return True</span>
        <span class="keyword">return False</span>
    
    <span class="keyword">def</span> <span class="function">find_item</span>(self, item_name):
        <span class="keyword">for</span> item <span class="keyword">in</span> self.__items:
            <span class="keyword">if</span> item.get_name() == item_name:
                <span class="keyword">return</span> item
        <span class="keyword">return None</span>
    
    <span class="keyword">def</span> <span class="function">get_items_by_type</span>(self, item_type):
        <span class="keyword">return</span> [item <span class="keyword">for</span> item <span class="keyword">in</span> self.__items 
                <span class="keyword">if</span> isinstance(item, item_type)]
    
    <span class="keyword">def</span> <span class="function">add_gold</span>(self, amount):
        self.__gold += amount
        print(<span class="string">f"Added {amount} gold. Total: {self.__gold}"</span>)
    
    <span class="keyword">def</span> <span class="function">spend_gold</span>(self, amount):
        <span class="keyword">if</span> self.__gold >= amount:
            self.__gold -= amount
            <span class="keyword">return True</span>
        <span class="keyword">return False</span>
    
    <span class="keyword">def</span> <span class="function">display</span>(self):
        print(<span class="string">f"\n=== Inventory ({len(self.__items)}/{self.__capacity}) ==="</span>)
        print(<span class="string">f"Gold: {self.__gold}"</span>)
        <span class="keyword">if</span> self.__items:
            <span class="keyword">for</span> i, item <span class="keyword">in</span> enumerate(self.__items, <span class="number">1</span>):
                print(<span class="string">f"{i}. {item.get_info()}"</span>)
        <span class="keyword">else</span>:
            print(<span class="string">"Empty"</span>)

<span class="comment"># Updated Player class with inventory</span>
<span class="keyword">class</span> <span class="class-name">Player</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name):
        self.__name = name
        self.__health = <span class="number">100</span>
        self.__max_health = <span class="number">100</span>
        self.__weapon = <span class="keyword">None</span>
        self.__armor = <span class="keyword">None</span>
        self.__inventory = Inventory(<span class="number">30</span>)  <span class="comment"># Player HAS inventory!</span>
    
    <span class="keyword">def</span> <span class="function">pick_up</span>(self, item):
        <span class="keyword">return</span> self.__inventory.add_item(item)
    
    <span class="keyword">def</span> <span class="function">use_item</span>(self, item_name):
        item = self.__inventory.find_item(item_name)
        <span class="keyword">if</span> item <span class="keyword">and</span> hasattr(item, <span class="string">'use'</span>):
            item.use(self)  <span class="comment"># Item affects player</span>
            self.__inventory.remove_item(item)
            <span class="keyword">return True</span>
        <span class="keyword">return False</span>
    
    <span class="keyword">def</span> <span class="function">show_inventory</span>(self):
        self.__inventory.display()
    
    <span class="keyword">def</span> <span class="function">loot_gold</span>(self, amount):
        self.__inventory.add_gold(amount)</div>

                    <h3>Stackable Items</h3>
                    <div class="code-block"><span class="keyword">class</span> <span class="class-name">StackableItem</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, stack_size=<span class="number">1</span>, max_stack=<span class="number">99</span>):
        self._name = name
        self._stack_size = stack_size
        self._max_stack = max_stack
    
    <span class="keyword">def</span> <span class="function">add_to_stack</span>(self, amount):
        old_size = self._stack_size
        self._stack_size = min(self._stack_size + amount, self._max_stack)
        <span class="keyword">return</span> self._stack_size - old_size  <span class="comment"># Amount actually added</span>
    
    <span class="keyword">def</span> <span class="function">remove_from_stack</span>(self, amount):
        <span class="keyword">if</span> amount >= self._stack_size:
            self._stack_size = <span class="number">0</span>
            <span class="keyword">return True</span>  <span class="comment"># Item depleted</span>
        self._stack_size -= amount
        <span class="keyword">return False</span>  <span class="comment"># Still has items</span>
    
    <span class="keyword">def</span> <span class="function">get_info</span>(self):
        <span class="keyword">return</span> <span class="string">f"{self._name} x{self._stack_size}"</span>

<span class="keyword">class</span> <span class="class-name">HealthPotion</span>(StackableItem):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, size=<span class="string">"small"</span>, stack_size=<span class="number">1</span>):
        super().__init__(<span class="string">f"{size} health potion"</span>, stack_size)
        self._heal_amount = {<span class="string">"small"</span>: <span class="number">25</span>, <span class="string">"medium"</span>: <span class="number">50</span>, <span class="string">"large"</span>: <span class="number">100</span>}[size]
    
    <span class="keyword">def</span> <span class="function">use</span>(self, character):
        old_health = character._health
        character._health = min(character._max_health, character._health + self._heal_amount)
        healed = character._health - old_health
        print(<span class="string">f"{character._name} healed for {healed} HP!"</span>)
        self.remove_from_stack(<span class="number">1</span>)</div>
                </div>

                <div class="card">
                    <h2>✏️ Exercise: Inventory Management</h2>
                    <div class="interactive-box">
                        <p>Complete the shop system that interacts with player inventory:</p>
                        
                        <textarea id="shop-code" rows="20" style="font-family: monospace;">class Shop:
    def __init__(self, name):
        self._name = name
        self._items_for_sale = []
    
    def add_item_for_sale(self, item, price):
        # TODO: Add item with price to shop
        pass
    
    def buy_item(self, player, item_index):
        # TODO: Check if player has enough gold
        # TODO: Check if item exists
        # TODO: Transfer item to player inventory
        # TODO: Deduct gold
        pass
    
    def sell_item(self, player, item):
        # TODO: Player sells item to shop
        # TODO: Give player gold (50% of item value)
        pass</textarea>
                        
                        <button class="btn btn-primary mt-2" onclick="checkShopCode()">
                            Check Implementation
                        </button>
                        <div id="shop-feedback" class="mt-2"></div>
                    </div>
                </div>
            </section>

            <!-- Composition Patterns -->
            <section id="composition" class="section">
                <div class="card">
                    <h2>🎨 Advanced Composition Patterns</h2>
                    
                    <h3>1. Delegation Pattern</h3>
                    <div class="interactive-box">
                        <p>The container delegates method calls to contained objects:</p>
                        <div class="code-block"><span class="keyword">class</span> <span class="class-name">Character</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name):
        self._name = name
        self._combat_system = CombatSystem()  <span class="comment"># Delegate combat</span>
        self._movement_system = MovementSystem()  <span class="comment"># Delegate movement</span>
    
    <span class="comment"># Delegation methods</span>
    <span class="keyword">def</span> <span class="function">attack</span>(self, target):
        <span class="keyword">return</span> self._combat_system.perform_attack(self, target)
    
    <span class="keyword">def</span> <span class="function">move</span>(self, direction):
        <span class="keyword">return</span> self._movement_system.move(self, direction)</div>
                    </div>

                    <h3>2. Component Pattern</h3>
                    <div class="interactive-box">
                        <p>Build complex objects from reusable components:</p>
                        <div class="code-block"><span class="keyword">class</span> <span class="class-name">GameObject</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name):
        self._name = name
        self._components = {}
    
    <span class="keyword">def</span> <span class="function">add_component</span>(self, component_type, component):
        self._components[component_type] = component
        component.owner = self  <span class="comment"># Component knows its owner</span>
    
    <span class="keyword">def</span> <span class="function">get_component</span>(self, component_type):
        <span class="keyword">return</span> self._components.get(component_type)

<span class="comment"># Example components</span>
<span class="keyword">class</span> <span class="class-name">HealthComponent</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, max_health):
        self.max_health = max_health
        self.current_health = max_health
        self.owner = <span class="keyword">None</span>

<span class="keyword">class</span> <span class="class-name">AttackComponent</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, damage):
        self.damage = damage
        self.owner = <span class="keyword">None</span>
    
    <span class="keyword">def</span> <span class="function">attack</span>(self, target):
        health_comp = target.get_component(<span class="string">"health"</span>)
        <span class="keyword">if</span> health_comp:
            health_comp.current_health -= self.damage

<span class="comment"># Usage</span>
player = GameObject(<span class="string">"Player"</span>)
player.add_component(<span class="string">"health"</span>, HealthComponent(<span class="number">100</span>))
player.add_component(<span class="string">"attack"</span>, AttackComponent(<span class="number">25</span>))</div>
                    </div>

                    <h3>3. Composite Pattern</h3>
                    <div class="interactive-box">
                        <p>Treat individual objects and compositions uniformly:</p>
                        <div class="code-block"><span class="keyword">class</span> <span class="class-name">QuestObjective</span>:
    <span class="keyword">def</span> <span class="function">is_complete</span>(self):
        <span class="keyword">raise</span> NotImplementedError()

<span class="keyword">class</span> <span class="class-name">SimpleObjective</span>(QuestObjective):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, description):
        self._description = description
        self._completed = <span class="keyword">False</span>
    
    <span class="keyword">def</span> <span class="function">complete</span>(self):
        self._completed = <span class="keyword">True</span>
    
    <span class="keyword">def</span> <span class="function">is_complete</span>(self):
        <span class="keyword">return</span> self._completed

<span class="keyword">class</span> <span class="class-name">CompositeObjective</span>(QuestObjective):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, description):
        self._description = description
        self._objectives = []
    
    <span class="keyword">def</span> <span class="function">add_objective</span>(self, objective):
        self._objectives.append(objective)
    
    <span class="keyword">def</span> <span class="function">is_complete</span>(self):
        <span class="keyword">return</span> all(obj.is_complete() <span class="keyword">for</span> obj <span class="keyword">in</span> self._objectives)

<span class="comment"># Create a quest with sub-objectives</span>
main_quest = CompositeObjective(<span class="string">"Save the Kingdom"</span>)
main_quest.add_objective(SimpleObjective(<span class="string">"Defeat the Dragon"</span>))
main_quest.add_objective(SimpleObjective(<span class="string">"Rescue the Princess"</span>))
main_quest.add_objective(SimpleObjective(<span class="string">"Return the Crown"</span>))</div>
                    </div>
                </div>
            </section>

            <!-- Practice Exercises -->
            <section id="practice" class="section">
                <div class="card">
                    <h2>💪 Practice Exercises</h2>
                    
                    <h3>Exercise 1: Vehicle System</h3>
                    <div class="interactive-box">
                        <p>Create a vehicle system with containment:</p>
                        
                        <textarea id="vehicle-code" rows="20" style="font-family: monospace;">class Engine:
    # TODO: Create engine with horsepower and fuel_type
    pass

class Wheel:
    # TODO: Create wheel with size and type
    pass

class Car:
    # TODO: Car HAS engine and 4 wheels
    # TODO: Add methods to start, stop, drive
    pass

# Test your implementation:
# my_car = Car("Toyota", "Camry")
# my_car.start()
# my_car.drive()</textarea>
                        
                        <button class="btn btn-primary mt-2" onclick="checkVehicleCode()">
                            Test Vehicle System
                        </button>
                        <div id="vehicle-feedback" class="mt-2"></div>
                    </div>
                </div>

                <div class="card">
                    <h3>Exercise 2: Party System</h3>
                    <div class="interactive-box">
                        <p>Create a party system for group adventures:</p>
                        
                        <textarea id="party-code" rows="25" style="font-family: monospace;">class Party:
    def __init__(self, name, max_members=4):
        self._name = name
        self._members = []  # List of Characters
        self._max_members = max_members
        self._shared_inventory = Inventory(50)
    
    def add_member(self, character):
        # TODO: Add character to party if space available
        pass
    
    def remove_member(self, character):
        # TODO: Remove character from party
        pass
    
    def distribute_loot(self, gold_amount):
        # TODO: Split gold equally among members
        pass
    
    def heal_all(self, amount):
        # TODO: Heal all party members
        pass
    
    def get_total_power(self):
        # TODO: Calculate combined attack power
        pass</textarea>
                        
                        <button class="btn btn-primary mt-2" onclick="checkPartyCode()">
                            Check Party System
                        </button>
                        <div id="party-feedback" class="mt-2"></div>
                    </div>
                </div>

                <div class="card">
                    <h3>Exercise 3: Crafting System</h3>
                    <div class="interactive-box">
                        <p>Create a crafting system that combines items:</p>
                        
                        <textarea id="crafting-code" rows="25" style="font-family: monospace;">class Recipe:
    def __init__(self, name, result_item):
        self._name = name
        self._result = result_item
        self._ingredients = []  # List of (item_type, quantity)
    
    def add_ingredient(self, item_type, quantity):
        # TODO: Add required ingredient to recipe
        pass
    
    def can_craft(self, inventory):
        # TODO: Check if inventory has all ingredients
        pass

class CraftingStation:
    def __init__(self):
        self._recipes = []
    
    def add_recipe(self, recipe):
        # TODO: Add recipe to station
        pass
    
    def craft(self, recipe_name, player_inventory):
        # TODO: Find recipe, check ingredients, craft item
        # TODO: Remove ingredients, add result to inventory
        pass

# Example:
# sword_recipe = Recipe("Iron Sword", IronSword())
# sword_recipe.add_ingredient(IronBar, 3)
# sword_recipe.add_ingredient(WoodHandle, 1)</textarea>
                        
                        <button class="btn btn-primary mt-2" onclick="checkCraftingCode()">
                            Test Crafting System
                        </button>
                        <div id="crafting-feedback" class="mt-2"></div>
                    </div>
                </div>
            </section>

            <!-- Complete RPG -->
            <section id="rpg-complete" class="section">
                <div class="card">
                    <h2>🎮 Complete RPG with All OOP Concepts</h2>
                    
                    <h3>Bringing It All Together</h3>
                    <div class="code-block"><span class="comment"># Complete RPG Game combining all OOP concepts</span>

<span class="comment"># 1. ENCAPSULATION - Protected attributes and methods</span>
<span class="keyword">class</span> <span class="class-name">Stats</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, strength=<span class="number">10</span>, dexterity=<span class="number">10</span>, intelligence=<span class="number">10</span>):
        self.__strength = strength
        self.__dexterity = dexterity
        self.__intelligence = intelligence
    
    <span class="keyword">def</span> <span class="function">get_strength</span>(self): <span class="keyword">return</span> self.__strength
    <span class="keyword">def</span> <span class="function">get_dexterity</span>(self): <span class="keyword">return</span> self.__dexterity
    <span class="keyword">def</span> <span class="function">get_intelligence</span>(self): <span class="keyword">return</span> self.__intelligence

<span class="comment"># 2. INHERITANCE - Base Character class and subclasses</span>
<span class="keyword">class</span> <span class="class-name">Character</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, health):
        self._name = name
        self._health = health
        self._max_health = health
        self._stats = Stats()  <span class="comment"># CONTAINMENT</span>
        self._position = Position(<span class="number">0</span>, <span class="number">0</span>)  <span class="comment"># CONTAINMENT</span>
    
    <span class="comment"># 3. POLYMORPHISM - To be overridden</span>
    <span class="keyword">def</span> <span class="function">attack</span>(self, target):
        <span class="keyword">pass</span>
    
    <span class="keyword">def</span> <span class="function">special_ability</span>(self):
        <span class="keyword">pass</span>

<span class="keyword">class</span> <span class="class-name">Player</span>(Character):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, player_class):
        super().__init__(name, <span class="number">100</span>)
        self.__player_class = player_class
        self.__level = <span class="number">1</span>
        self.__experience = <span class="number">0</span>
        
        <span class="comment"># 4. CONTAINMENT - Player HAS these objects</span>
        self.__weapon = <span class="keyword">None</span>
        self.__armor = <span class="keyword">None</span>
        self.__inventory = Inventory(<span class="number">30</span>)
        self.__quest_log = QuestLog()
        self.__skill_tree = SkillTree(player_class)
    
    <span class="comment"># POLYMORPHISM - Override attack</span>
    <span class="keyword">def</span> <span class="function">attack</span>(self, target):
        <span class="keyword">if</span> self.__weapon:
            damage = self.__weapon.get_damage() + self._stats.get_strength()
            print(<span class="string">f"{self._name} attacks with {self.__weapon._name}!"</span>)
        <span class="keyword">else</span>:
            damage = self._stats.get_strength()
            print(<span class="string">f"{self._name} attacks with bare hands!"</span>)
        target.take_damage(damage)
    
    <span class="keyword">def</span> <span class="function">special_ability</span>(self):
        <span class="keyword">if</span> self.__player_class == <span class="string">"Warrior"</span>:
            <span class="keyword">return</span> <span class="string">"Berserker Rage!"</span>
        <span class="keyword">elif</span> self.__player_class == <span class="string">"Mage"</span>:
            <span class="keyword">return</span> <span class="string">"Arcane Explosion!"</span>
        <span class="keyword">elif</span> self.__player_class == <span class="string">"Rogue"</span>:
            <span class="keyword">return</span> <span class="string">"Shadow Strike!"</span>

<span class="keyword">class</span> <span class="class-name">Enemy</span>(Character):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name, enemy_type, health, damage):
        super().__init__(name, health)
        self.__enemy_type = enemy_type
        self.__damage = damage
        self.__loot_table = LootTable(enemy_type)  <span class="comment"># CONTAINMENT</span>
    
    <span class="keyword">def</span> <span class="function">attack</span>(self, target):
        print(<span class="string">f"{self._name} attacks for {self.__damage} damage!"</span>)
        target.take_damage(self.__damage)
    
    <span class="keyword">def</span> <span class="function">drop_loot</span>(self):
        <span class="keyword">return</span> self.__loot_table.generate_loot()

<span class="comment"># Complete game world using all concepts</span>
<span class="keyword">class</span> <span class="class-name">GameWorld</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.__locations = {}  <span class="comment"># CONTAINMENT</span>
        self.__characters = []  <span class="comment"># POLYMORPHIC collection</span>
        self.__time_system = TimeSystem()
        self.__weather_system = WeatherSystem()
        self.__economy_system = EconomySystem()
    
    <span class="keyword">def</span> <span class="function">add_character</span>(self, character):
        self.__characters.append(character)
    
    <span class="keyword">def</span> <span class="function">update</span>(self):
        <span class="comment"># Update all systems</span>
        self.__time_system.tick()
        self.__weather_system.update()
        
        <span class="comment"># POLYMORPHISM - update all characters</span>
        <span class="keyword">for</span> character <span class="keyword">in</span> self.__characters:
            <span class="keyword">if</span> hasattr(character, <span class="string">'update'</span>):
                character.update()

<span class="comment"># Example game setup</span>
world = GameWorld()

<span class="comment"># Create player with full equipment</span>
hero = Player(<span class="string">"Aragorn"</span>, <span class="string">"Warrior"</span>)
hero.equip_weapon(Sword(<span class="string">"Anduril"</span>, <span class="number">50</span>, <span class="string">"legendary"</span>))
hero.equip_armor(Armor(<span class="string">"Mithril Mail"</span>, <span class="number">30</span>, <span class="string">"chest"</span>))

<span class="comment"># Add items to inventory</span>
hero.pick_up(HealthPotion(<span class="string">"large"</span>, <span class="number">5</span>))
hero.pick_up(ManaPotion(<span class="string">"medium"</span>, <span class="number">3</span>))

<span class="comment"># Create enemies</span>
goblin = Enemy(<span class="string">"Goblin Scout"</span>, <span class="string">"goblin"</span>, <span class="number">30</span>, <span class="number">5</span>)
orc = Enemy(<span class="string">"Orc Warrior"</span>, <span class="string">"orc"</span>, <span class="number">50</span>, <span class="number">12</span>)
dragon = Boss(<span class="string">"Ancient Dragon"</span>, <span class="string">"dragon"</span>, <span class="number">500</span>, <span class="number">50</span>)

<span class="comment"># Add all to world - POLYMORPHISM in action!</span>
world.add_character(hero)
world.add_character(goblin)
world.add_character(orc)
world.add_character(dragon)

<span class="comment"># Battle!</span>
hero.attack(goblin)  <span class="comment"># Polymorphic attack</span>
goblin.attack(hero)  <span class="comment"># Different implementation</span></div>
                </div>

                <div class="card">
                    <h2>🎯 Final Challenge: Your Complete RPG</h2>
                    <div class="demo-container">
                        <h3>RPG Battle Simulator</h3>
                        <div class="demo-controls">
                            <button class="btn btn-primary" onclick="createHero()">Create Hero</button>
                            <button class="btn btn-primary" onclick="spawnEnemy()">Spawn Enemy</button>
                            <button class="btn btn-success" onclick="startBattle()">Start Battle</button>
                            <button class="btn btn-danger" onclick="resetBattle()">Reset</button>
                        </div>
                        
                        <div class="demo-output" id="battle-output">
<span class="comment"># Battle log will appear here...</span>
<span class="comment"># Create your hero and spawn enemies!</span></div>
                    </div>
                </div>
            </section>

            <!-- Summary -->
            <section id="summary" class="section">
                <div class="card">
                    <h2>📚 Lesson Summary</h2>
                    
                    <h3>Key Concepts Mastered</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                        <div class="interactive-box">
                            <h4>📦 Containment</h4>
                            <p>Objects containing other objects (has-a relationship)</p>
                        </div>
                        
                        <div class="interactive-box">
                            <h4>🔍 Has-A vs Is-A</h4>
                            <p>Containment for components, inheritance for types</p>
                        </div>
                        
                        <div class="interactive-box">
                            <h4>🎒 Complex Structures</h4>
                            <p>Building inventory, equipment, and party systems</p>
                        </div>
                        
                        <div class="interactive-box">
                            <h4>🎨 Composition Patterns</h4>
                            <p>Delegation, components, and composite patterns</p>
                        </div>
                    </div>

                    <h3>When to Use Containment</h3>
                    <div class="alert alert-success">
                        <span>💡</span>
                        <div>
                            <strong>Use containment when:</strong>
                            <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                                <li>Objects have a "has-a" relationship</li>
                                <li>You need to compose complex objects from simpler ones</li>
                                <li>Objects should be able to exist independently</li>
                                <li>You want to build flexible, modular systems</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>🎯 Final Quiz</h2>
                    <div class="interactive-box">
                        <div class="mb-3">
                            <p><strong>1. What type of relationship does containment represent?</strong></p>
                            <button class="quiz-option" onclick="checkQuiz(1, 'a', this)">is-a</button>
                            <button class="quiz-option" onclick="checkQuiz(1, 'b', this)">has-a</button>
                            <button class="quiz-option" onclick="checkQuiz(1, 'c', this)">was-a</button>
                            <button class="quiz-option" onclick="checkQuiz(1, 'd', this)">like-a</button>
                        </div>
                        
                        <div class="mb-3">
                            <p><strong>2. Which is an example of containment?</strong></p>
                            <button class="quiz-option" onclick="checkQuiz(2, 'a', this)">Dog inherits from Animal</button>
                            <button class="quiz-option" onclick="checkQuiz(2, 'b', this)">Car has an Engine</button>
                            <button class="quiz-option" onclick="checkQuiz(2, 'c', this)">Student is a Person</button>
                            <button class="quiz-option" onclick="checkQuiz(2, 'd', this)">Circle extends Shape</button>
                        </div>
                        
                        <div class="mb-3">
                            <p><strong>3. In Python, how do you implement containment?</strong></p>
                            <button class="quiz-option" onclick="checkQuiz(3, 'a', this)">Using inheritance syntax</button>
                            <button class="quiz-option" onclick="checkQuiz(3, 'b', this)">Using global variables</button>
                            <button class="quiz-option" onclick="checkQuiz(3, 'c', this)">Storing object references as attributes</button>
                            <button class="quiz-option" onclick="checkQuiz(3, 'd', this)">Using the contains keyword</button>
                        </div>
                        
                        <div class="mb-3">
                            <p><strong>4. What's the main benefit of containment?</strong></p>
                            <button class="quiz-option" onclick="checkQuiz(4, 'a', this)">Faster code execution</button>
                            <button class="quiz-option" onclick="checkQuiz(4, 'b', this)">Building complex objects from simpler ones</button>
                            <button class="quiz-option" onclick="checkQuiz(4, 'c', this)">Automatic memory management</button>
                            <button class="quiz-option" onclick="checkQuiz(4, 'd', this)">Eliminating all bugs</button>
                        </div>

                        <div class="mb-3">
                            <p><strong>5. When should you use inheritance instead of containment?</strong></p>
                            <button class="quiz-option" onclick="checkQuiz(5, 'a', this)">When objects share the same type/kind</button>
                            <button class="quiz-option" onclick="checkQuiz(5, 'b', this)">When you need faster code</button>
                            <button class="quiz-option" onclick="checkQuiz(5, 'c', this)">When objects contain each other</button>
                            <button class="quiz-option" onclick="checkQuiz(5, 'd', this)">Always use inheritance</button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>🎯 What's Next?</h2>
                    <div class="alert alert-info">
                        <span>📚</span>
                        <div>
                            <strong>Coming Up:</strong> Lesson 10 - Putting It All Together
                            <p class="mt-2">Complete your RPG game using all OOP concepts and prepare for exam success!</p>
                        </div>
                    </div>
                    
                    <div class="text-center mt-3">
                        <button class="btn btn-success pulse" onclick="completeLesson()">
                            Complete Lesson 9 →
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Tab navigation
        const tabs = document.querySelectorAll('.tab');
        const sections = document.querySelectorAll('.section');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetSection = tab.dataset.section;
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active section
                sections.forEach(s => s.classList.remove('active'));
                document.getElementById(targetSection).classList.add('active');
                
                // Mark as completed
                tab.classList.add('completed');
                
                // Scroll to top
                window.scrollTo(0, 0);
            });
        });
        
        // Navigation
        function nextSection() {
            const activeTab = document.querySelector('.tab.active');
            const nextTab = activeTab.nextElementSibling;
            if (nextTab) {
                nextTab.click();
            }
        }

        // Item demo
        let createdItems = [];
        
        function createItem() {
            const type = document.getElementById('item-type').value;
            const name = document.getElementById('item-name').value || 'Unnamed Item';
            const output = document.getElementById('item-demo-output');
            
            let itemInfo = '';
            if (type === 'potion') {
                itemInfo = `HealthPotion("${name}", heal_amount=50)`;
            } else if (type === 'mana') {
                itemInfo = `ManaPotion("${name}", restore_amount=30)`;
            } else if (type === 'boost') {
                itemInfo = `StrengthBoost("${name}", boost_amount=10, duration=60)`;
            }
            
            createdItems.push(itemInfo);
            updateItemDisplay();
        }
        
        function updateItemDisplay() {
            const output = document.getElementById('item-demo-output');
            let html = '<span class="comment"># Created items:</span>\n';
            createdItems.forEach((item, index) => {
                html += `items[${index}] = ${item}\n`;
            });
            output.innerHTML = html;
        }
        
        function clearItems() {
            createdItems = [];
            updateItemDisplay();
            document.getElementById('item-name').value = '';
        }

        // Code checking functions
        function checkShopCode() {
            const code = document.getElementById('shop-code').value;
            const feedback = document.getElementById('shop-feedback');
            
            const requirements = {
                'Items for sale list': code.includes('_items_for_sale'),
                'Add item method': code.includes('append') && code.includes('price'),
                'Buy item - gold check': code.includes('gold') && code.includes('>='),
                'Sell item - give gold': code.includes('gold') && code.includes('*')
            };
            
            const passed = Object.values(requirements).filter(v => v).length;
            const total = Object.keys(requirements).length;
            
            if (passed === total) {
                feedback.innerHTML = '<div class="alert alert-success">✅ Excellent shop implementation!</div>';
            } else {
                feedback.innerHTML = `<div class="alert alert-info">Progress: ${passed}/${total} features implemented.</div>`;
            }
        }

        function checkVehicleCode() {
            const code = document.getElementById('vehicle-code').value;
            const feedback = document.getElementById('vehicle-feedback');
            
            const hasEngine = code.includes('class Engine') && code.includes('horsepower');
            const hasWheel = code.includes('class Wheel');
            const hasCar = code.includes('class Car');
            const hasContainment = code.includes('Engine(') && code.includes('Wheel(');
            
            if (hasEngine && hasWheel && hasCar && hasContainment) {
                feedback.innerHTML = '<div class="alert alert-success">🚗 Perfect vehicle system with proper containment!</div>';
            } else {
                feedback.innerHTML = '<div class="alert alert-warning">Keep working on your vehicle system. Make sure Car contains Engine and Wheels.</div>';
            }
        }

        function checkPartyCode() {
            const code = document.getElementById('party-code').value;
            const feedback = document.getElementById('party-feedback');
            
            const requirements = {
                'Add member': code.includes('append') && code.includes('_members'),
                'Max check': code.includes('len(') && code.includes('_max_members'),
                'Distribute loot': code.includes('/') && code.includes('len('),
                'Heal all': code.includes('for') && code.includes('_members')
            };
            
            const passed = Object.values(requirements).filter(v => v).length;
            
            if (passed === 4) {
                feedback.innerHTML = '<div class="alert alert-success">⚔️ Excellent party system! Ready for group adventures!</div>';
            } else {
                feedback.innerHTML = `<div class="alert alert-info">Progress: ${passed}/4 party features implemented.</div>`;
            }
        }

        function checkCraftingCode() {
            const code = document.getElementById('crafting-code').value;
            const feedback = document.getElementById('crafting-feedback');
            
            const hasIngredients = code.includes('_ingredients.append');
            const hasCanCraft = code.includes('can_craft') && code.includes('for');
            const hasCraft = code.includes('remove') && code.includes('add');
            
            if (hasIngredients && hasCanCraft && hasCraft) {
                feedback.innerHTML = '<div class="alert alert-success">🔨 Amazing crafting system! Players can now create items!</div>';
            } else {
                feedback.innerHTML = '<div class="alert alert-warning">Keep working on the crafting logic. Check ingredients and manage inventory.</div>';
            }
        }

        // Battle simulator
        let hero = null;
        let enemies = [];
        
        function createHero() {
            hero = { name: "Hero", health: 100, weapon: "Legendary Sword", damage: 25 };
            updateBattleLog("Hero created with Legendary Sword!");
        }
        
        function spawnEnemy() {
            const enemyTypes = [
                { name: "Goblin", health: 30, damage: 5 },
                { name: "Orc", health: 50, damage: 12 },
                { name: "Troll", health: 80, damage: 20 }
            ];
            const enemy = { ...enemyTypes[Math.floor(Math.random() * enemyTypes.length)] };
            enemies.push(enemy);
            updateBattleLog(`${enemy.name} appeared!`);
        }
        
        function startBattle() {
            if (!hero || enemies.length === 0) {
                updateBattleLog("Create a hero and spawn enemies first!");
                return;
            }
            
            updateBattleLog("\n=== BATTLE START ===");
            
            // Simulate battle
            while (hero.health > 0 && enemies.length > 0) {
                // Hero attacks first enemy
                const target = enemies[0];
                updateBattleLog(`Hero attacks ${target.name} for ${hero.damage} damage!`);
                target.health -= hero.damage;
                
                if (target.health <= 0) {
                    updateBattleLog(`${target.name} defeated!`);
                    enemies.shift();
                    continue;
                }
                
                // Enemy counterattacks
                updateBattleLog(`${target.name} attacks Hero for ${target.damage} damage!`);
                hero.health -= target.damage;
                
                if (hero.health <= 0) {
                    updateBattleLog("Hero has fallen! Game Over!");
                    break;
                }
            }
            
            if (hero.health > 0) {
                updateBattleLog("\n🎉 VICTORY! All enemies defeated!");
            }
        }
        
        function resetBattle() {
            hero = null;
            enemies = [];
            updateBattleLog("Battle reset. Create new hero and enemies.");
        }
        
        function updateBattleLog(message) {
            const output = document.getElementById('battle-output');
            output.innerHTML += message + '\n';
            output.scrollTop = output.scrollHeight;
        }

        // Quiz functionality
        const quizAnswers = {
            1: 'b', // has-a
            2: 'b', // Car has an Engine
            3: 'c', // Storing object references as attributes
            4: 'b', // Building complex objects from simpler ones
            5: 'a'  // When objects share the same type/kind
        };
        
        function checkQuiz(question, answer, button) {
            const options = button.parentElement.querySelectorAll('.quiz-option');
            
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                opt.disabled = true;
            });
            
            if (answer === quizAnswers[question]) {
                button.classList.add('correct');
            } else {
                button.classList.add('incorrect');
                // Show correct answer
                options.forEach(opt => {
                    if (opt.onclick.toString().includes(`'${quizAnswers[question]}'`)) {
                        opt.classList.add('correct');
                    }
                });
            }
        }

        // Lesson completion
        function completeLesson() {
            const completedTabs = document.querySelectorAll('.tab.completed').length;
            const totalTabs = tabs.length;
            
            alert(`🎉 Congratulations! You've completed Lesson 9: Containment

You've learned:
✅ The difference between "has-a" and "is-a" relationships
✅ How to implement containment/aggregation
✅ Building complex objects with components
✅ Creating inventory and equipment systems
✅ Advanced composition patterns

Progress: ${completedTabs}/${totalTabs} sections completed

Next: Lesson 10 - Putting It All Together & Exam Practice`);
        }
    </script>
</body>
</html>